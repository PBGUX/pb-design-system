import { DOCUMENT } from '@angular/common';
import { Component, Inject } from '@angular/core';
import * as i0 from "@angular/core";
import * as i1 from "@ng-bootstrap/ng-bootstrap";
import * as i2 from "@angular/forms";
import * as i3 from "@angular/material/slide-toggle";
export class PbdsA11yWidgetComponent {
    constructor(modalService, fb, document, renderer) {
        this.modalService = modalService;
        this.fb = fb;
        this.document = document;
        this.renderer = renderer;
        this.form = this.fb.group({
            animation: [false],
            darkMode: [false],
            dyslexia: [false],
            fontSize: [14],
            highSaturation: [false],
            legibleFont: [false],
            lineHeight: [1.5],
            lowContrast: [false],
            showHeadings: [false],
            showLinks: [false],
            textContrast: [false],
            zoom: [1],
            vision: [false],
        });
        this.fontBrandRegular = '"PrecisionSans_W_Rg", "Helvetica Neue", Arial, sans-serif';
        this.fontBrandBold = '"PrecisionSans_W_Bd", "Helvetica Neue", Arial, sans-serif';
        this.fontBrandLight = '"PrecisionSans_W_Lt", "Helvetica Neue", Arial, sans-serif';
        this.fontSans = '"Helvetica Neue", Helvetica, Arial, sans-serif';
    }
    ngOnInit() { }
    ngAfterContentInit() {
        this.form.valueChanges.subscribe((value) => {
            if (value.fontSize) {
                this.document.documentElement.style.setProperty('--font_size_base', `${value.fontSize}px`);
            }
            if (value.lineHeight) {
                this.document.documentElement.style.setProperty('--line_height', value.lineHeight);
            }
            if (value.zoom) {
                this.document.documentElement.style.setProperty('--zoom', value.zoom);
            }
            if (value.textContrast) {
                this.document.documentElement.style.setProperty('--text', 'black');
                this.renderer.addClass(this.document.body, 'bgwhite');
            }
            else {
                this.document.documentElement.style.setProperty('--text', 'var(--rich500)');
                this.renderer.removeClass(this.document.body, 'bgwhite');
            }
            if (value.showHeadings) {
                this.renderer.addClass(this.document.body, 'show-headings');
            }
            else {
                this.renderer.removeClass(this.document.body, 'show-headings');
            }
            if (value.showLinks) {
                this.renderer.addClass(this.document.body, 'show-links');
            }
            else {
                this.renderer.removeClass(this.document.body, 'show-links');
            }
            if (value.darkMode) {
                this.renderer.removeClass(this.document.body, 'bgwhite');
                this.renderer.addClass(this.document.body, 'bgdark');
            }
            else {
                this.renderer.removeClass(this.document.body, 'bgdark');
            }
            if (value.legibleFont) {
                this.document.documentElement.style.setProperty('--font-family-sans-serif', 'AH');
                this.document.documentElement.style.setProperty('--font_family_brand_regular', 'AH');
                this.document.documentElement.style.setProperty('--font_family_brand_bold', 'AHB');
                this.document.documentElement.style.setProperty('--font_family_brand_light', 'AH');
            }
            else {
                this.resetFonts();
            }
            if (value.dyslexia) {
                this.document.documentElement.style.setProperty('--font-family-sans-serif', 'Dyslexic');
                this.document.documentElement.style.setProperty('--font_family_brand_regular', 'Dyslexic');
                this.document.documentElement.style.setProperty('--font_family_brand_bold', 'DyslexicBold');
                this.document.documentElement.style.setProperty('--font_family_brand_light', 'Dyslexic');
            }
            else {
                this.resetFonts();
            }
            // if (value.legibleFont) {
            //   this.renderer.addClass(this.document.body, 'hyperlegible');
            // } else {
            //   this.renderer.removeClass(this.document.body, 'hyperlegible');
            // }
            if (value.highSaturation) {
                this.renderer.addClass(this.document.body, 'high-saturation');
            }
            else {
                this.renderer.removeClass(this.document.body, 'high-saturation');
            }
        });
    }
    resetFonts() {
        this.document.documentElement.style.setProperty('--font-family-sans-serif', this.fontSans);
        this.document.documentElement.style.setProperty('--font_family_brand_regular', this.fontBrandRegular);
        this.document.documentElement.style.setProperty('--font_family_brand_bold', this.fontBrandBold);
        this.document.documentElement.style.setProperty('--font_family_brand_light', this.fontBrandLight);
    }
    reduceSaturation() { }
    increaseSaturation() { }
    toggleVisionOptions(event) {
        if (event.checked) {
            this.form.patchValue({
                textContrast: true,
                fontSize: 16,
                lineHeight: 2.0,
                legibleFont: true,
                darkMode: true,
            });
        }
        else {
            this.form.patchValue({
                textContrast: false,
                fontSize: 14,
                lineHeight: 1.5,
                legibleFont: false,
                darkMode: false,
            });
        }
    }
    toggleCognitiveOptions(event) {
        if (event.checked) {
            this.form.patchValue({
                showHeadings: true,
                showLinks: true,
                dyslexia: true,
            });
        }
        else {
            this.form.patchValue({
                showHeadings: false,
                showLinks: false,
                dyslexia: false,
            });
        }
    }
    toggleLimitDistrations(event) {
        if (event.checked) {
            this.form.patchValue({
                lowContrast: true,
                animation: true,
            });
        }
        else {
            this.form.patchValue({
                lowContrast: false,
                animation: false,
            });
        }
    }
    // checkboxVisual(event: MatCheckboxChange) {
    //   if (event.checked) {
    //     this.form.patchValue({
    //       textContrast: true,
    //       // darkMode: true,
    //       fontSize: 16,
    //       lineHeight: 2.0,
    //       legibleFont: true,
    //     });
    //   } else {
    //     this.form.patchValue({
    //       textContrast: false,
    //       darkMode: false,
    //       fontSize: 14,
    //       lineHeight: 1.5,
    //       legibleFont: false,
    //     });
    //   }
    // }
    // checkboxCognitive(event: MatCheckboxChange) {
    //   if (event.checked) {
    //     this.form.patchValue({
    //       showHeadings: true,
    //       showLinks: true,
    //     });
    //   } else {
    //     this.form.patchValue({
    //       showHeadings: false,
    //       showLinks: false,
    //     });
    //   }
    // }
    // checkboxLimitDistrations(event: MatCheckboxChange) {
    //   if (event.checked) {
    //     this.form.patchValue({
    //       lowContrast: true,
    //     });
    //   } else {
    //     this.form.patchValue({
    //       lowContrast: false,
    //     });
    //   }
    // }
    openA11yWidget(event, a11yWidget) {
        event.preventDefault();
        this.modalService.open(a11yWidget, {
            ariaLabelledBy: 'modal-basic-title',
            // backdrop: false,
            backdropClass: 'a11y-modal-backdrop',
            centered: false,
            modalDialogClass: 'a11y-widget-dialog',
            size: 'lg',
        });
    }
}
PbdsA11yWidgetComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "14.2.12", ngImport: i0, type: PbdsA11yWidgetComponent, deps: [{ token: i1.NgbModal }, { token: i2.UntypedFormBuilder }, { token: DOCUMENT }, { token: i0.Renderer2 }], target: i0.ɵɵFactoryTarget.Component });
PbdsA11yWidgetComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "14.2.12", type: PbdsA11yWidgetComponent, selector: "pbds-a11y-widget", ngImport: i0, template: "<a href=\"\"\n   class=\"nav-link\"\n   role=\"button\"\n   (click)=\"openA11yWidget($event, a11yWidget)\"\n   aria-labelledby=\"a11y-offscreen\">\n  <i class=\"pbi-icon-outline pbi-a11y-solid d-none d-lg-inline\"\n     aria-hidden=\"true\"></i>\n\n  <span class=\"d-lg-none\"\n        id=\"a11y-offscreen\">\n    <i class=\"pbi-icon-mini pbi-a11y-solid\"\n       aria-hidden=\"true\"></i>&nbsp;Accessibility Options\n  </span>\n</a>\n\n<ng-template #a11yWidget\n             let-modal>\n  <div class=\"modal-header\">\n    <h2 class=\"modal-title sr-only\"\n        id=\"a11y-modal-title\">Accessibility Options Panel</h2>\n    <button type=\"button\"\n            class=\"close\"\n            aria-label=\"Close\"\n            (click)=\"modal.dismiss()\"></button>\n  </div>\n  <div class=\"modal-header\">\n\n  </div>\n\n  <div class=\"modal-body\">\n    <form [formGroup]=\"form\">\n\n      <section>\n        <!-- <mat-checkbox (change)=\"checkboxVisual($event)\">Vision</mat-checkbox> -->\n        <div class=\"section-title\">\n          <h2>Vision</h2>\n          <mat-slide-toggle formControlName=\"vision\"\n                            aria-label=\"Activate all vision options\"\n                            [color]=\"'primary'\"\n                            (change)=\"toggleVisionOptions($event)\"\n                            labelPosition=\"before\">Activate all</mat-slide-toggle>\n        </div>\n\n        <p>Some people may find items on the page difficult to read. Here you can increase the font size, line spacing, and other visual settings.</p>\n\n\n        <div class=\"options\">\n          <div class=\"option\">\n            <p id=\"text-contrast\">Increase Text Contrast</p>\n            <mat-slide-toggle formControlName=\"textContrast\"\n                              aria-labelledby=\"text-contrast\"\n                              [color]=\"'primary'\"></mat-slide-toggle>\n            <div>\n              <div id=\"textContrastHelp\"\n                   class=\"sr-only\">Change the text color to black to improve readability.</div>\n            </div>\n          </div>\n\n\n          <div class=\" option \">\n            <label class=\"d-block\"\n                   for=\"a11y-font-size\">Font Size ({{form.controls.fontSize.value}} pixels)</label>\n            <input type=\"range\"\n                   formControlName=\"fontSize\"\n                   id=\"a11y-font-size\"\n                   min=\"14\"\n                   max=\"24\"\n                   step=\"1\">\n          </div>\n          <div class=\" option \">\n            <label class=\"d-block\"\n                   for=\"line-height\">Line Spacing ({{form.controls.lineHeight.value}}x)</label>\n            <input type=\"range\"\n                   formControlName=\"lineHeight\"\n                   id=\"line-height\"\n                   min=\"1.5\"\n                   max=\"3\"\n                   step=\"0.1\">\n          </div>\n\n          <!-- <div class=\"option \">\n            <p id=\"legible-font\">Hyperlegible Font</p>\n            <mat-slide-toggle formControlName=\"legibleFont\" aria-labelledby=\"legible-font\" [color]=\"'primary'\"></mat-slide-toggle>\n          </div> -->\n\n          <div class=\"option \">\n            <label class=\"d-block\"\n                   for=\"zoom\">Zoom ({{form.controls.zoom.value}}x)</label>\n            <input type=\"range\"\n                   formControlName=\"zoom\"\n                   id=\"zoom\"\n                   min=\"1\"\n                   max=\"2\"\n                   step=\"0.1\">\n          </div>\n\n          <!-- <div class=\"option \">\n            <p id=\"high-saturation\">High Saturation</p>\n            <mat-slide-toggle formControlName=\"highSaturation\"\n                              aria-labelledby=\"high-saturation\"\n                              [color]=\"'primary'\"></mat-slide-toggle>\n          </div> -->\n\n          <div class=\"option \">\n            <p id=\"dark-mode\">Dark Mode</p>\n            <mat-slide-toggle formControlName=\"darkMode\"\n                              aria-labelledby=\"dark-mode\"\n                              [color]=\"'primary'\"></mat-slide-toggle>\n          </div>\n\n\n        </div>\n\n\n      </section>\n\n\n      <section>\n        <!-- <mat-checkbox (change)=\"checkboxCognitive($event)\">Cognitive</mat-checkbox> -->\n        <div class=\"section-title\">\n          <h2>Cognitive</h2>\n          <mat-slide-toggle formControlName=\"vision\"\n                            aria-label=\"Activate all cognitive options\"\n                            [color]=\"'primary'\"\n                            (change)=\"toggleCognitiveOptions($event)\"\n                            labelPosition=\"before\">Activate all</mat-slide-toggle>\n        </div>\n\n        <p>If the content on the page is hard to sort out for you, you can highlight headers, links, and even use a font designed to aid people with dyslexia.</p>\n\n\n        <div class=\"options\">\n\n          <div class=\"option\">\n            <p id=\"show-headings\">Show Headings</p>\n            <mat-slide-toggle formControlName=\"showHeadings\"\n                              aria-label=\"show-headings\"\n                              [color]=\"'primary'\"></mat-slide-toggle>\n          </div>\n\n          <div class=\"option\">\n            <p id=\"show-links\">Show Links</p>\n            <mat-slide-toggle formControlName=\"showLinks\"\n                              aria-labelledby=\"show-links\"\n                              [color]=\"'primary'\"></mat-slide-toggle>\n          </div>\n\n          <div class=\"option\">\n            <p id=\"dyslexia\">Dyslexia-friendly font</p>\n            <mat-slide-toggle formControlName=\"dyslexia\"\n                              aria-labelledby=\"dyslexia\"\n                              [color]=\"'primary'\"></mat-slide-toggle>\n          </div>\n\n\n\n\n        </div>\n\n\n      </section>\n\n      <!-- <section>\n\n        <div class=\"section-title\">\n          <h2>Seizures</h2>\n          <mat-slide-toggle formControlName=\"vision\"\n                            aria-label=\"Activate all limit distractions options\"\n                            [color]=\"'primary'\"\n                            (change)=\"toggleLimitDistrations($event)\"\n                            labelPosition=\"before\">Activate all </mat-slide-toggle>\n        </div>\n\n        <p>Some people might find animations or bright color contrast distracting or annoying.</p>\n\n        <div class=\"options\">\n          <div class=\"option\">\n            <p id=\"low-contrast\">Reduce Saturation</p>\n            <mat-slide-toggle formControlName=\"lowContrast\"\n                              aria-labelledby=\"low-contrast\"\n                              [color]=\"'primary'\"></mat-slide-toggle>\n          </div>\n          <div class=\"option\">\n            <p id=\"animation\">Stop Animations</p>\n            <mat-slide-toggle formControlName=\"animation\"\n                              aria-labelledby=\"animation\"\n                              [color]=\"'primary'\"></mat-slide-toggle>\n          </div>\n        </div>\n      </section> -->\n\n\n\n\n\n\n\n\n    </form>\n  </div>\n  <!-- <div class=\"modal-footer\">\n    <button\n      type=\"button\"\n      class=\"btn btn-outline-dark\"\n      (click)=\"modal.close()\"\n    >Done</button>\n  </div> -->\n</ng-template>", dependencies: [{ kind: "component", type: i3.MatSlideToggle, selector: "mat-slide-toggle", inputs: ["disabled", "disableRipple", "color", "tabIndex"], exportAs: ["matSlideToggle"] }, { kind: "directive", type: i2.ɵNgNoValidate, selector: "form:not([ngNoForm]):not([ngNativeValidate])" }, { kind: "directive", type: i2.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { kind: "directive", type: i2.RangeValueAccessor, selector: "input[type=range][formControlName],input[type=range][formControl],input[type=range][ngModel]" }, { kind: "directive", type: i2.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i2.NgControlStatusGroup, selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { kind: "directive", type: i2.FormGroupDirective, selector: "[formGroup]", inputs: ["formGroup"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { kind: "directive", type: i2.FormControlName, selector: "[formControlName]", inputs: ["formControlName", "disabled", "ngModel"], outputs: ["ngModelChange"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "14.2.12", ngImport: i0, type: PbdsA11yWidgetComponent, decorators: [{
            type: Component,
            args: [{ selector: 'pbds-a11y-widget', template: "<a href=\"\"\n   class=\"nav-link\"\n   role=\"button\"\n   (click)=\"openA11yWidget($event, a11yWidget)\"\n   aria-labelledby=\"a11y-offscreen\">\n  <i class=\"pbi-icon-outline pbi-a11y-solid d-none d-lg-inline\"\n     aria-hidden=\"true\"></i>\n\n  <span class=\"d-lg-none\"\n        id=\"a11y-offscreen\">\n    <i class=\"pbi-icon-mini pbi-a11y-solid\"\n       aria-hidden=\"true\"></i>&nbsp;Accessibility Options\n  </span>\n</a>\n\n<ng-template #a11yWidget\n             let-modal>\n  <div class=\"modal-header\">\n    <h2 class=\"modal-title sr-only\"\n        id=\"a11y-modal-title\">Accessibility Options Panel</h2>\n    <button type=\"button\"\n            class=\"close\"\n            aria-label=\"Close\"\n            (click)=\"modal.dismiss()\"></button>\n  </div>\n  <div class=\"modal-header\">\n\n  </div>\n\n  <div class=\"modal-body\">\n    <form [formGroup]=\"form\">\n\n      <section>\n        <!-- <mat-checkbox (change)=\"checkboxVisual($event)\">Vision</mat-checkbox> -->\n        <div class=\"section-title\">\n          <h2>Vision</h2>\n          <mat-slide-toggle formControlName=\"vision\"\n                            aria-label=\"Activate all vision options\"\n                            [color]=\"'primary'\"\n                            (change)=\"toggleVisionOptions($event)\"\n                            labelPosition=\"before\">Activate all</mat-slide-toggle>\n        </div>\n\n        <p>Some people may find items on the page difficult to read. Here you can increase the font size, line spacing, and other visual settings.</p>\n\n\n        <div class=\"options\">\n          <div class=\"option\">\n            <p id=\"text-contrast\">Increase Text Contrast</p>\n            <mat-slide-toggle formControlName=\"textContrast\"\n                              aria-labelledby=\"text-contrast\"\n                              [color]=\"'primary'\"></mat-slide-toggle>\n            <div>\n              <div id=\"textContrastHelp\"\n                   class=\"sr-only\">Change the text color to black to improve readability.</div>\n            </div>\n          </div>\n\n\n          <div class=\" option \">\n            <label class=\"d-block\"\n                   for=\"a11y-font-size\">Font Size ({{form.controls.fontSize.value}} pixels)</label>\n            <input type=\"range\"\n                   formControlName=\"fontSize\"\n                   id=\"a11y-font-size\"\n                   min=\"14\"\n                   max=\"24\"\n                   step=\"1\">\n          </div>\n          <div class=\" option \">\n            <label class=\"d-block\"\n                   for=\"line-height\">Line Spacing ({{form.controls.lineHeight.value}}x)</label>\n            <input type=\"range\"\n                   formControlName=\"lineHeight\"\n                   id=\"line-height\"\n                   min=\"1.5\"\n                   max=\"3\"\n                   step=\"0.1\">\n          </div>\n\n          <!-- <div class=\"option \">\n            <p id=\"legible-font\">Hyperlegible Font</p>\n            <mat-slide-toggle formControlName=\"legibleFont\" aria-labelledby=\"legible-font\" [color]=\"'primary'\"></mat-slide-toggle>\n          </div> -->\n\n          <div class=\"option \">\n            <label class=\"d-block\"\n                   for=\"zoom\">Zoom ({{form.controls.zoom.value}}x)</label>\n            <input type=\"range\"\n                   formControlName=\"zoom\"\n                   id=\"zoom\"\n                   min=\"1\"\n                   max=\"2\"\n                   step=\"0.1\">\n          </div>\n\n          <!-- <div class=\"option \">\n            <p id=\"high-saturation\">High Saturation</p>\n            <mat-slide-toggle formControlName=\"highSaturation\"\n                              aria-labelledby=\"high-saturation\"\n                              [color]=\"'primary'\"></mat-slide-toggle>\n          </div> -->\n\n          <div class=\"option \">\n            <p id=\"dark-mode\">Dark Mode</p>\n            <mat-slide-toggle formControlName=\"darkMode\"\n                              aria-labelledby=\"dark-mode\"\n                              [color]=\"'primary'\"></mat-slide-toggle>\n          </div>\n\n\n        </div>\n\n\n      </section>\n\n\n      <section>\n        <!-- <mat-checkbox (change)=\"checkboxCognitive($event)\">Cognitive</mat-checkbox> -->\n        <div class=\"section-title\">\n          <h2>Cognitive</h2>\n          <mat-slide-toggle formControlName=\"vision\"\n                            aria-label=\"Activate all cognitive options\"\n                            [color]=\"'primary'\"\n                            (change)=\"toggleCognitiveOptions($event)\"\n                            labelPosition=\"before\">Activate all</mat-slide-toggle>\n        </div>\n\n        <p>If the content on the page is hard to sort out for you, you can highlight headers, links, and even use a font designed to aid people with dyslexia.</p>\n\n\n        <div class=\"options\">\n\n          <div class=\"option\">\n            <p id=\"show-headings\">Show Headings</p>\n            <mat-slide-toggle formControlName=\"showHeadings\"\n                              aria-label=\"show-headings\"\n                              [color]=\"'primary'\"></mat-slide-toggle>\n          </div>\n\n          <div class=\"option\">\n            <p id=\"show-links\">Show Links</p>\n            <mat-slide-toggle formControlName=\"showLinks\"\n                              aria-labelledby=\"show-links\"\n                              [color]=\"'primary'\"></mat-slide-toggle>\n          </div>\n\n          <div class=\"option\">\n            <p id=\"dyslexia\">Dyslexia-friendly font</p>\n            <mat-slide-toggle formControlName=\"dyslexia\"\n                              aria-labelledby=\"dyslexia\"\n                              [color]=\"'primary'\"></mat-slide-toggle>\n          </div>\n\n\n\n\n        </div>\n\n\n      </section>\n\n      <!-- <section>\n\n        <div class=\"section-title\">\n          <h2>Seizures</h2>\n          <mat-slide-toggle formControlName=\"vision\"\n                            aria-label=\"Activate all limit distractions options\"\n                            [color]=\"'primary'\"\n                            (change)=\"toggleLimitDistrations($event)\"\n                            labelPosition=\"before\">Activate all </mat-slide-toggle>\n        </div>\n\n        <p>Some people might find animations or bright color contrast distracting or annoying.</p>\n\n        <div class=\"options\">\n          <div class=\"option\">\n            <p id=\"low-contrast\">Reduce Saturation</p>\n            <mat-slide-toggle formControlName=\"lowContrast\"\n                              aria-labelledby=\"low-contrast\"\n                              [color]=\"'primary'\"></mat-slide-toggle>\n          </div>\n          <div class=\"option\">\n            <p id=\"animation\">Stop Animations</p>\n            <mat-slide-toggle formControlName=\"animation\"\n                              aria-labelledby=\"animation\"\n                              [color]=\"'primary'\"></mat-slide-toggle>\n          </div>\n        </div>\n      </section> -->\n\n\n\n\n\n\n\n\n    </form>\n  </div>\n  <!-- <div class=\"modal-footer\">\n    <button\n      type=\"button\"\n      class=\"btn btn-outline-dark\"\n      (click)=\"modal.close()\"\n    >Done</button>\n  </div> -->\n</ng-template>" }]
        }], ctorParameters: function () { return [{ type: i1.NgbModal }, { type: i2.UntypedFormBuilder }, { type: Document, decorators: [{
                    type: Inject,
                    args: [DOCUMENT]
                }] }, { type: i0.Renderer2 }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYTExeS13aWRnZXQuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvcGItZGVzaWduLXN5c3RlbS9hMTF5LXdpZGdldC9hMTF5LXdpZGdldC5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi9wcm9qZWN0cy9wYi1kZXNpZ24tc3lzdGVtL2ExMXktd2lkZ2V0L2ExMXktd2lkZ2V0LmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUMzQyxPQUFPLEVBQW9CLFNBQVMsRUFBRSxNQUFNLEVBQXFCLE1BQU0sZUFBZSxDQUFDOzs7OztBQVV2RixNQUFNLE9BQU8sdUJBQXVCO0lBQ2xDLFlBQ1UsWUFBc0IsRUFDdEIsRUFBc0IsRUFDSixRQUFrQixFQUNwQyxRQUFtQjtRQUhuQixpQkFBWSxHQUFaLFlBQVksQ0FBVTtRQUN0QixPQUFFLEdBQUYsRUFBRSxDQUFvQjtRQUNKLGFBQVEsR0FBUixRQUFRLENBQVU7UUFDcEMsYUFBUSxHQUFSLFFBQVEsQ0FBVztRQUc3QixTQUFJLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7WUFDbkIsU0FBUyxFQUFFLENBQUMsS0FBSyxDQUFDO1lBQ2xCLFFBQVEsRUFBRSxDQUFDLEtBQUssQ0FBQztZQUNqQixRQUFRLEVBQUUsQ0FBQyxLQUFLLENBQUM7WUFDakIsUUFBUSxFQUFFLENBQUMsRUFBRSxDQUFDO1lBQ2QsY0FBYyxFQUFFLENBQUMsS0FBSyxDQUFDO1lBQ3ZCLFdBQVcsRUFBRSxDQUFDLEtBQUssQ0FBQztZQUNwQixVQUFVLEVBQUUsQ0FBQyxHQUFHLENBQUM7WUFDakIsV0FBVyxFQUFFLENBQUMsS0FBSyxDQUFDO1lBQ3BCLFlBQVksRUFBRSxDQUFDLEtBQUssQ0FBQztZQUNyQixTQUFTLEVBQUUsQ0FBQyxLQUFLLENBQUM7WUFDbEIsWUFBWSxF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QUM3Qiw2QkFBNkI7SUFDN0IseUJBQXlCO0lBQ3pCLHNCQUFzQjtJQUN0Qix5QkFBeUI7SUFDekIsNEJBQTRCO0lBQzVCLFVBQVU7SUFDVixNQUFNO0lBQ04sSUFBSTtJQUNKLGdEQUFnRDtJQUNoRCx5QkFBeUI7SUFDekIsNkJBQTZCO0lBQzdCLDRCQUE0QjtJQUM1Qix5QkFBeUI7SUFDekIsVUFBVTtJQUNWLGFBQWE7SUFDYiw2QkFBNkI7SUFDN0IsNkJBQTZCO0lBQzdCLDBCQUEwQjtJQUMxQixVQUFVO0lBQ1YsTUFBTTtJQUNOLElBQUk7SUFFSix1REFBdUQ7SUFDdkQseUJBQXlCO0lBQ3pCLDZCQUE2QjtJQUM3QiwyQkFBMkI7SUFDM0IsVUFBVTtJQUNWLGFBQWE7SUFDYiw2QkFBNkI7SUFDN0IsNEJBQTRCO0lBQzVCLFVBQVU7SUFDVixNQUFNO0lBQ04sSUFBSTtJQUVKLGNBQWMsQ0FBQyxLQUFpQixFQUFFLFVBQW9CO1FBQ3BELEtBQUssQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUN2QixJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUU7WUFDakMsY0FBYyxFQUFFLG1CQUFtQjtZQUNuQyxtQkFBbUI7WUFDbkIsYUFBYSxFQUFFLHFCQUFxQjtZQUNwQyxRQUFRLEVBQUUsS0FBSztZQUNmLGdCQUFnQixFQUFFLG9CQUFvQjtZQUN0QyxJQUFJLEVBQUUsSUFBSTtTQUNYLENBQUMsQ0FBQztJQUNMLENBQUM7O3FIQW5OVSx1QkFBdUIsNEVBSXhCLFFBQVE7eUdBSlAsdUJBQXVCLHdEQ1hwQyw2dk9BK01jOzRGRHBNRCx1QkFBdUI7a0JBTG5DLFNBQVM7K0JBQ0Usa0JBQWtCOzswQkFRekIsTUFBTTsyQkFBQyxRQUFRIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRE9DVU1FTlQgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgQWZ0ZXJDb250ZW50SW5pdCwgQ29tcG9uZW50LCBJbmplY3QsIE9uSW5pdCwgUmVuZGVyZXIyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBVbnR5cGVkRm9ybUJ1aWxkZXIgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQgeyBNYXRTbGlkZVRvZ2dsZUNoYW5nZSB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL3NsaWRlLXRvZ2dsZSc7XG5pbXBvcnQgeyBOZ2JNb2RhbCB9IGZyb20gJ0BuZy1ib290c3RyYXAvbmctYm9vdHN0cmFwJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAncGJkcy1hMTF5LXdpZGdldCcsXG4gIHRlbXBsYXRlVXJsOiAnLi9hMTF5LXdpZGdldC5jb21wb25lbnQuaHRtbCcsXG4gIC8vIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLlNoYWRvd0RvbSxcbn0pXG5leHBvcnQgY2xhc3MgUGJkc0ExMXlXaWRnZXRDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIEFmdGVyQ29udGVudEluaXQge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIG1vZGFsU2VydmljZTogTmdiTW9kYWwsXG4gICAgcHJpdmF0ZSBmYjogVW50eXBlZEZvcm1CdWlsZGVyLFxuICAgIEBJbmplY3QoRE9DVU1FTlQpIHByaXZhdGUgZG9jdW1lbnQ6IERvY3VtZW50LFxuICAgIHByaXZhdGUgcmVuZGVyZXI6IFJlbmRlcmVyMlxuICApIHt9XG5cbiAgZm9ybSA9IHRoaXMuZmIuZ3JvdXAoe1xuICAgIGFuaW1hdGlvbjogW2ZhbHNlXSxcbiAgICBkYXJrTW9kZTogW2ZhbHNlXSxcbiAgICBkeXNsZXhpYTogW2ZhbHNlXSxcbiAgICBmb250U2l6ZTogWzE0XSxcbiAgICBoaWdoU2F0dXJhdGlvbjogW2ZhbHNlXSxcbiAgICBsZWdpYmxlRm9udDogW2ZhbHNlXSxcbiAgICBsaW5lSGVpZ2h0OiBbMS41XSxcbiAgICBsb3dDb250cmFzdDogW2ZhbHNlXSxcbiAgICBzaG93SGVhZGluZ3M6IFtmYWxzZV0sXG4gICAgc2hvd0xpbmtzOiBbZmFsc2VdLFxuICAgIHRleHRDb250cmFzdDogW2ZhbHNlXSxcbiAgICB6b29tOiBbMV0sXG4gICAgdmlzaW9uOiBbZmFsc2VdLFxuICB9KTtcblxuICBmb250QnJhbmRSZWd1bGFyID0gJ1wiUHJlY2lzaW9uU2Fuc19XX1JnXCIsIFwiSGVsdmV0aWNhIE5ldWVcIiwgQXJpYWwsIHNhbnMtc2VyaWYnO1xuICBmb250QnJhbmRCb2xkID0gJ1wiUHJlY2lzaW9uU2Fuc19XX0JkXCIsIFwiSGVsdmV0aWNhIE5ldWVcIiwgQXJpYWwsIHNhbnMtc2VyaWYnO1xuICBmb250QnJhbmRMaWdodCA9ICdcIlByZWNpc2lvblNhbnNfV19MdFwiLCBcIkhlbHZldGljYSBOZXVlXCIsIEFyaWFsLCBzYW5zLXNlcmlmJztcbiAgZm9udFNhbnMgPSAnXCJIZWx2ZXRpY2EgTmV1ZVwiLCBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmJztcblxuICBuZ09uSW5pdCgpIHt9XG5cbiAgbmdBZnRlckNvbnRlbnRJbml0KCkge1xuICAgIHRoaXMuZm9ybS52YWx1ZUNoYW5nZXMuc3Vic2NyaWJlKCh2YWx1ZSkgPT4ge1xuICAgICAgaWYgKHZhbHVlLmZvbnRTaXplKSB7XG4gICAgICAgIHRoaXMuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLWZvbnRfc2l6ZV9iYXNlJywgYCR7dmFsdWUuZm9udFNpemV9cHhgKTtcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZS5saW5lSGVpZ2h0KSB7XG4gICAgICAgIHRoaXMuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLWxpbmVfaGVpZ2h0JywgdmFsdWUubGluZUhlaWdodCk7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUuem9vbSkge1xuICAgICAgICB0aGlzLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS16b29tJywgdmFsdWUuem9vbSk7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUudGV4dENvbnRyYXN0KSB7XG4gICAgICAgIHRoaXMuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLXRleHQnLCAnYmxhY2snKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5hZGRDbGFzcyh0aGlzLmRvY3VtZW50LmJvZHksICdiZ3doaXRlJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS10ZXh0JywgJ3ZhcigtLXJpY2g1MDApJyk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucmVtb3ZlQ2xhc3ModGhpcy5kb2N1bWVudC5ib2R5LCAnYmd3aGl0ZScpO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlLnNob3dIZWFkaW5ncykge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmFkZENsYXNzKHRoaXMuZG9jdW1lbnQuYm9keSwgJ3Nob3ctaGVhZGluZ3MnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucmVtb3ZlQ2xhc3ModGhpcy5kb2N1bWVudC5ib2R5LCAnc2hvdy1oZWFkaW5ncycpO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlLnNob3dMaW5rcykge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmFkZENsYXNzKHRoaXMuZG9jdW1lbnQuYm9keSwgJ3Nob3ctbGlua3MnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucmVtb3ZlQ2xhc3ModGhpcy5kb2N1bWVudC5ib2R5LCAnc2hvdy1saW5rcycpO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlLmRhcmtNb2RlKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucmVtb3ZlQ2xhc3ModGhpcy5kb2N1bWVudC5ib2R5LCAnYmd3aGl0ZScpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmFkZENsYXNzKHRoaXMuZG9jdW1lbnQuYm9keSwgJ2JnZGFyaycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5yZW1vdmVDbGFzcyh0aGlzLmRvY3VtZW50LmJvZHksICdiZ2RhcmsnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHZhbHVlLmxlZ2libGVGb250KSB7XG4gICAgICAgIHRoaXMuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLWZvbnQtZmFtaWx5LXNhbnMtc2VyaWYnLCAnQUgnKTtcbiAgICAgICAgdGhpcy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0tZm9udF9mYW1pbHlfYnJhbmRfcmVndWxhcicsICdBSCcpO1xuICAgICAgICB0aGlzLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1mb250X2ZhbWlseV9icmFuZF9ib2xkJywgJ0FIQicpO1xuICAgICAgICB0aGlzLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1mb250X2ZhbWlseV9icmFuZF9saWdodCcsICdBSCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5yZXNldEZvbnRzKCk7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUuZHlzbGV4aWEpIHtcbiAgICAgICAgdGhpcy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0tZm9udC1mYW1pbHktc2Fucy1zZXJpZicsICdEeXNsZXhpYycpO1xuICAgICAgICB0aGlzLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1mb250X2ZhbWlseV9icmFuZF9yZWd1bGFyJywgJ0R5c2xleGljJyk7XG4gICAgICAgIHRoaXMuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLWZvbnRfZmFtaWx5X2JyYW5kX2JvbGQnLCAnRHlzbGV4aWNCb2xkJyk7XG4gICAgICAgIHRoaXMuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLWZvbnRfZmFtaWx5X2JyYW5kX2xpZ2h0JywgJ0R5c2xleGljJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnJlc2V0Rm9udHMoKTtcbiAgICAgIH1cbiAgICAgIC8vIGlmICh2YWx1ZS5sZWdpYmxlRm9udCkge1xuICAgICAgLy8gICB0aGlzLnJlbmRlcmVyLmFkZENsYXNzKHRoaXMuZG9jdW1lbnQuYm9keSwgJ2h5cGVybGVnaWJsZScpO1xuICAgICAgLy8gfSBlbHNlIHtcbiAgICAgIC8vICAgdGhpcy5yZW5kZXJlci5yZW1vdmVDbGFzcyh0aGlzLmRvY3VtZW50LmJvZHksICdoeXBlcmxlZ2libGUnKTtcbiAgICAgIC8vIH1cbiAgICAgIGlmICh2YWx1ZS5oaWdoU2F0dXJhdGlvbikge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmFkZENsYXNzKHRoaXMuZG9jdW1lbnQuYm9keSwgJ2hpZ2gtc2F0dXJhdGlvbicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5yZW1vdmVDbGFzcyh0aGlzLmRvY3VtZW50LmJvZHksICdoaWdoLXNhdHVyYXRpb24nKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJlc2V0Rm9udHMoKSB7XG4gICAgdGhpcy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0tZm9udC1mYW1pbHktc2Fucy1zZXJpZicsIHRoaXMuZm9udFNhbnMpO1xuICAgIHRoaXMuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLWZvbnRfZmFtaWx5X2JyYW5kX3JlZ3VsYXInLCB0aGlzLmZvbnRCcmFuZFJlZ3VsYXIpO1xuICAgIHRoaXMuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLWZvbnRfZmFtaWx5X2JyYW5kX2JvbGQnLCB0aGlzLmZvbnRCcmFuZEJvbGQpO1xuICAgIHRoaXMuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLWZvbnRfZmFtaWx5X2JyYW5kX2xpZ2h0JywgdGhpcy5mb250QnJhbmRMaWdodCk7XG4gIH1cblxuICByZWR1Y2VTYXR1cmF0aW9uKCkge31cblxuICBpbmNyZWFzZVNhdHVyYXRpb24oKSB7fVxuXG4gIHRvZ2dsZVZpc2lvbk9wdGlvbnMoZXZlbnQ6IE1hdFNsaWRlVG9nZ2xlQ2hhbmdlKSB7XG4gICAgaWYgKGV2ZW50LmNoZWNrZWQpIHtcbiAgICAgIHRoaXMuZm9ybS5wYXRjaFZhbHVlKHtcbiAgICAgICAgdGV4dENvbnRyYXN0OiB0cnVlLFxuICAgICAgICBmb250U2l6ZTogMTYsXG4gICAgICAgIGxpbmVIZWlnaHQ6IDIuMCxcbiAgICAgICAgbGVnaWJsZUZvbnQ6IHRydWUsXG4gICAgICAgIGRhcmtNb2RlOiB0cnVlLFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZm9ybS5wYXRjaFZhbHVlKHtcbiAgICAgICAgdGV4dENvbnRyYXN0OiBmYWxzZSxcbiAgICAgICAgZm9udFNpemU6IDE0LFxuICAgICAgICBsaW5lSGVpZ2h0OiAxLjUsXG4gICAgICAgIGxlZ2libGVGb250OiBmYWxzZSxcbiAgICAgICAgZGFya01vZGU6IGZhbHNlLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgdG9nZ2xlQ29nbml0aXZlT3B0aW9ucyhldmVudDogTWF0U2xpZGVUb2dnbGVDaGFuZ2UpIHtcbiAgICBpZiAoZXZlbnQuY2hlY2tlZCkge1xuICAgICAgdGhpcy5mb3JtLnBhdGNoVmFsdWUoe1xuICAgICAgICBzaG93SGVhZGluZ3M6IHRydWUsXG4gICAgICAgIHNob3dMaW5rczogdHJ1ZSxcbiAgICAgICAgZHlzbGV4aWE6IHRydWUsXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5mb3JtLnBhdGNoVmFsdWUoe1xuICAgICAgICBzaG93SGVhZGluZ3M6IGZhbHNlLFxuICAgICAgICBzaG93TGlua3M6IGZhbHNlLFxuICAgICAgICBkeXNsZXhpYTogZmFsc2UsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICB0b2dnbGVMaW1pdERpc3RyYXRpb25zKGV2ZW50OiBNYXRTbGlkZVRvZ2dsZUNoYW5nZSkge1xuICAgIGlmIChldmVudC5jaGVja2VkKSB7XG4gICAgICB0aGlzLmZvcm0ucGF0Y2hWYWx1ZSh7XG4gICAgICAgIGxvd0NvbnRyYXN0OiB0cnVlLFxuICAgICAgICBhbmltYXRpb246IHRydWUsXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5mb3JtLnBhdGNoVmFsdWUoe1xuICAgICAgICBsb3dDb250cmFzdDogZmFsc2UsXG4gICAgICAgIGFuaW1hdGlvbjogZmFsc2UsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvLyBjaGVja2JveFZpc3VhbChldmVudDogTWF0Q2hlY2tib3hDaGFuZ2UpIHtcbiAgLy8gICBpZiAoZXZlbnQuY2hlY2tlZCkge1xuICAvLyAgICAgdGhpcy5mb3JtLnBhdGNoVmFsdWUoe1xuICAvLyAgICAgICB0ZXh0Q29udHJhc3Q6IHRydWUsXG4gIC8vICAgICAgIC8vIGRhcmtNb2RlOiB0cnVlLFxuICAvLyAgICAgICBmb250U2l6ZTogMTYsXG4gIC8vICAgICAgIGxpbmVIZWlnaHQ6IDIuMCxcbiAgLy8gICAgICAgbGVnaWJsZUZvbnQ6IHRydWUsXG4gIC8vICAgICB9KTtcbiAgLy8gICB9IGVsc2Uge1xuICAvLyAgICAgdGhpcy5mb3JtLnBhdGNoVmFsdWUoe1xuICAvLyAgICAgICB0ZXh0Q29udHJhc3Q6IGZhbHNlLFxuICAvLyAgICAgICBkYXJrTW9kZTogZmFsc2UsXG4gIC8vICAgICAgIGZvbnRTaXplOiAxNCxcbiAgLy8gICAgICAgbGluZUhlaWdodDogMS41LFxuICAvLyAgICAgICBsZWdpYmxlRm9udDogZmFsc2UsXG4gIC8vICAgICB9KTtcbiAgLy8gICB9XG4gIC8vIH1cbiAgLy8gY2hlY2tib3hDb2duaXRpdmUoZXZlbnQ6IE1hdENoZWNrYm94Q2hhbmdlKSB7XG4gIC8vICAgaWYgKGV2ZW50LmNoZWNrZWQpIHtcbiAgLy8gICAgIHRoaXMuZm9ybS5wYXRjaFZhbHVlKHtcbiAgLy8gICAgICAgc2hvd0hlYWRpbmdzOiB0cnVlLFxuICAvLyAgICAgICBzaG93TGlua3M6IHRydWUsXG4gIC8vICAgICB9KTtcbiAgLy8gICB9IGVsc2Uge1xuICAvLyAgICAgdGhpcy5mb3JtLnBhdGNoVmFsdWUoe1xuICAvLyAgICAgICBzaG93SGVhZGluZ3M6IGZhbHNlLFxuICAvLyAgICAgICBzaG93TGlua3M6IGZhbHNlLFxuICAvLyAgICAgfSk7XG4gIC8vICAgfVxuICAvLyB9XG5cbiAgLy8gY2hlY2tib3hMaW1pdERpc3RyYXRpb25zKGV2ZW50OiBNYXRDaGVja2JveENoYW5nZSkge1xuICAvLyAgIGlmIChldmVudC5jaGVja2VkKSB7XG4gIC8vICAgICB0aGlzLmZvcm0ucGF0Y2hWYWx1ZSh7XG4gIC8vICAgICAgIGxvd0NvbnRyYXN0OiB0cnVlLFxuICAvLyAgICAgfSk7XG4gIC8vICAgfSBlbHNlIHtcbiAgLy8gICAgIHRoaXMuZm9ybS5wYXRjaFZhbHVlKHtcbiAgLy8gICAgICAgbG93Q29udHJhc3Q6IGZhbHNlLFxuICAvLyAgICAgfSk7XG4gIC8vICAgfVxuICAvLyB9XG5cbiAgb3BlbkExMXlXaWRnZXQoZXZlbnQ6IE1vdXNlRXZlbnQsIGExMXlXaWRnZXQ6IE5nYk1vZGFsKSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLm1vZGFsU2VydmljZS5vcGVuKGExMXlXaWRnZXQsIHtcbiAgICAgIGFyaWFMYWJlbGxlZEJ5OiAnbW9kYWwtYmFzaWMtdGl0bGUnLFxuICAgICAgLy8gYmFja2Ryb3A6IGZhbHNlLFxuICAgICAgYmFja2Ryb3BDbGFzczogJ2ExMXktbW9kYWwtYmFja2Ryb3AnLFxuICAgICAgY2VudGVyZWQ6IGZhbHNlLFxuICAgICAgbW9kYWxEaWFsb2dDbGFzczogJ2ExMXktd2lkZ2V0LWRpYWxvZycsXG4gICAgICBzaXplOiAnbGcnLFxuICAgIH0pO1xuICB9XG59XG4iLCI8YSBocmVmPVwiXCJcbiAgIGNsYXNzPVwibmF2LWxpbmtcIlxuICAgcm9sZT1cImJ1dHRvblwiXG4gICAoY2xpY2spPVwib3BlbkExMXlXaWRnZXQoJGV2ZW50LCBhMTF5V2lkZ2V0KVwiXG4gICBhcmlhLWxhYmVsbGVkYnk9XCJhMTF5LW9mZnNjcmVlblwiPlxuICA8aSBjbGFzcz1cInBiaS1pY29uLW91dGxpbmUgcGJpLWExMXktc29saWQgZC1ub25lIGQtbGctaW5saW5lXCJcbiAgICAgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPlxuXG4gIDxzcGFuIGNsYXNzPVwiZC1sZy1ub25lXCJcbiAgICAgICAgaWQ9XCJhMTF5LW9mZnNjcmVlblwiPlxuICAgIDxpIGNsYXNzPVwicGJpLWljb24tbWluaSBwYmktYTExeS1zb2xpZFwiXG4gICAgICAgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPiZuYnNwO0FjY2Vzc2liaWxpdHkgT3B0aW9uc1xuICA8L3NwYW4+XG48L2E+XG5cbjxuZy10ZW1wbGF0ZSAjYTExeVdpZGdldFxuICAgICAgICAgICAgIGxldC1tb2RhbD5cbiAgPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPlxuICAgIDxoMiBjbGFzcz1cIm1vZGFsLXRpdGxlIHNyLW9ubHlcIlxuICAgICAgICBpZD1cImExMXktbW9kYWwtdGl0bGVcIj5BY2Nlc3NpYmlsaXR5IE9wdGlvbnMgUGFuZWw8L2gyPlxuICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICBjbGFzcz1cImNsb3NlXCJcbiAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJDbG9zZVwiXG4gICAgICAgICAgICAoY2xpY2spPVwibW9kYWwuZGlzbWlzcygpXCI+PC9idXR0b24+XG4gIDwvZGl2PlxuICA8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+XG5cbiAgPC9kaXY+XG5cbiAgPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj5cbiAgICA8Zm9ybSBbZm9ybUdyb3VwXT1cImZvcm1cIj5cblxuICAgICAgPHNlY3Rpb24+XG4gICAgICAgIDwhLS0gPG1hdC1jaGVja2JveCAoY2hhbmdlKT1cImNoZWNrYm94VmlzdWFsKCRldmVudClcIj5WaXNpb248L21hdC1jaGVja2JveD4gLS0+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzZWN0aW9uLXRpdGxlXCI+XG4gICAgICAgICAgPGgyPlZpc2lvbjwvaDI+XG4gICAgICAgICAgPG1hdC1zbGlkZS10b2dnbGUgZm9ybUNvbnRyb2xOYW1lPVwidmlzaW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiQWN0aXZhdGUgYWxsIHZpc2lvbiBvcHRpb25zXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbY29sb3JdPVwiJ3ByaW1hcnknXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY2hhbmdlKT1cInRvZ2dsZVZpc2lvbk9wdGlvbnMoJGV2ZW50KVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxQb3NpdGlvbj1cImJlZm9yZVwiPkFjdGl2YXRlIGFsbDwvbWF0LXNsaWRlLXRvZ2dsZT5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPHA+U29tZSBwZW9wbGUgbWF5IGZpbmQgaXRlbXMgb24gdGhlIHBhZ2UgZGlmZmljdWx0IHRvIHJlYWQuIEhlcmUgeW91IGNhbiBpbmNyZWFzZSB0aGUgZm9udCBzaXplLCBsaW5lIHNwYWNpbmcsIGFuZCBvdGhlciB2aXN1YWwgc2V0dGluZ3MuPC9wPlxuXG5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm9wdGlvbnNcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwib3B0aW9uXCI+XG4gICAgICAgICAgICA8cCBpZD1cInRleHQtY29udHJhc3RcIj5JbmNyZWFzZSBUZXh0IENvbnRyYXN0PC9wPlxuICAgICAgICAgICAgPG1hdC1zbGlkZS10b2dnbGUgZm9ybUNvbnRyb2xOYW1lPVwidGV4dENvbnRyYXN0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWxsZWRieT1cInRleHQtY29udHJhc3RcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2NvbG9yXT1cIidwcmltYXJ5J1wiPjwvbWF0LXNsaWRlLXRvZ2dsZT5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxkaXYgaWQ9XCJ0ZXh0Q29udHJhc3RIZWxwXCJcbiAgICAgICAgICAgICAgICAgICBjbGFzcz1cInNyLW9ubHlcIj5DaGFuZ2UgdGhlIHRleHQgY29sb3IgdG8gYmxhY2sgdG8gaW1wcm92ZSByZWFkYWJpbGl0eS48L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiIG9wdGlvbiBcIj5cbiAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImQtYmxvY2tcIlxuICAgICAgICAgICAgICAgICAgIGZvcj1cImExMXktZm9udC1zaXplXCI+Rm9udCBTaXplICh7e2Zvcm0uY29udHJvbHMuZm9udFNpemUudmFsdWV9fSBwaXhlbHMpPC9sYWJlbD5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFuZ2VcIlxuICAgICAgICAgICAgICAgICAgIGZvcm1Db250cm9sTmFtZT1cImZvbnRTaXplXCJcbiAgICAgICAgICAgICAgICAgICBpZD1cImExMXktZm9udC1zaXplXCJcbiAgICAgICAgICAgICAgICAgICBtaW49XCIxNFwiXG4gICAgICAgICAgICAgICAgICAgbWF4PVwiMjRcIlxuICAgICAgICAgICAgICAgICAgIHN0ZXA9XCIxXCI+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cIiBvcHRpb24gXCI+XG4gICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJkLWJsb2NrXCJcbiAgICAgICAgICAgICAgICAgICBmb3I9XCJsaW5lLWhlaWdodFwiPkxpbmUgU3BhY2luZyAoe3tmb3JtLmNvbnRyb2xzLmxpbmVIZWlnaHQudmFsdWV9fXgpPC9sYWJlbD5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFuZ2VcIlxuICAgICAgICAgICAgICAgICAgIGZvcm1Db250cm9sTmFtZT1cImxpbmVIZWlnaHRcIlxuICAgICAgICAgICAgICAgICAgIGlkPVwibGluZS1oZWlnaHRcIlxuICAgICAgICAgICAgICAgICAgIG1pbj1cIjEuNVwiXG4gICAgICAgICAgICAgICAgICAgbWF4PVwiM1wiXG4gICAgICAgICAgICAgICAgICAgc3RlcD1cIjAuMVwiPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPCEtLSA8ZGl2IGNsYXNzPVwib3B0aW9uIFwiPlxuICAgICAgICAgICAgPHAgaWQ9XCJsZWdpYmxlLWZvbnRcIj5IeXBlcmxlZ2libGUgRm9udDwvcD5cbiAgICAgICAgICAgIDxtYXQtc2xpZGUtdG9nZ2xlIGZvcm1Db250cm9sTmFtZT1cImxlZ2libGVGb250XCIgYXJpYS1sYWJlbGxlZGJ5PVwibGVnaWJsZS1mb250XCIgW2NvbG9yXT1cIidwcmltYXJ5J1wiPjwvbWF0LXNsaWRlLXRvZ2dsZT5cbiAgICAgICAgICA8L2Rpdj4gLS0+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwib3B0aW9uIFwiPlxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZC1ibG9ja1wiXG4gICAgICAgICAgICAgICAgICAgZm9yPVwiem9vbVwiPlpvb20gKHt7Zm9ybS5jb250cm9scy56b29tLnZhbHVlfX14KTwvbGFiZWw+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhbmdlXCJcbiAgICAgICAgICAgICAgICAgICBmb3JtQ29udHJvbE5hbWU9XCJ6b29tXCJcbiAgICAgICAgICAgICAgICAgICBpZD1cInpvb21cIlxuICAgICAgICAgICAgICAgICAgIG1pbj1cIjFcIlxuICAgICAgICAgICAgICAgICAgIG1heD1cIjJcIlxuICAgICAgICAgICAgICAgICAgIHN0ZXA9XCIwLjFcIj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDwhLS0gPGRpdiBjbGFzcz1cIm9wdGlvbiBcIj5cbiAgICAgICAgICAgIDxwIGlkPVwiaGlnaC1zYXR1cmF0aW9uXCI+SGlnaCBTYXR1cmF0aW9uPC9wPlxuICAgICAgICAgICAgPG1hdC1zbGlkZS10b2dnbGUgZm9ybUNvbnRyb2xOYW1lPVwiaGlnaFNhdHVyYXRpb25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwiaGlnaC1zYXR1cmF0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtjb2xvcl09XCIncHJpbWFyeSdcIj48L21hdC1zbGlkZS10b2dnbGU+XG4gICAgICAgICAgPC9kaXY+IC0tPlxuXG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm9wdGlvbiBcIj5cbiAgICAgICAgICAgIDxwIGlkPVwiZGFyay1tb2RlXCI+RGFyayBNb2RlPC9wPlxuICAgICAgICAgICAgPG1hdC1zbGlkZS10b2dnbGUgZm9ybUNvbnRyb2xOYW1lPVwiZGFya01vZGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwiZGFyay1tb2RlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtjb2xvcl09XCIncHJpbWFyeSdcIj48L21hdC1zbGlkZS10b2dnbGU+XG4gICAgICAgICAgPC9kaXY+XG5cblxuICAgICAgICA8L2Rpdj5cblxuXG4gICAgICA8L3NlY3Rpb24+XG5cblxuICAgICAgPHNlY3Rpb24+XG4gICAgICAgIDwhLS0gPG1hdC1jaGVja2JveCAoY2hhbmdlKT1cImNoZWNrYm94Q29nbml0aXZlKCRldmVudClcIj5Db2duaXRpdmU8L21hdC1jaGVja2JveD4gLS0+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzZWN0aW9uLXRpdGxlXCI+XG4gICAgICAgICAgPGgyPkNvZ25pdGl2ZTwvaDI+XG4gICAgICAgICAgPG1hdC1zbGlkZS10b2dnbGUgZm9ybUNvbnRyb2xOYW1lPVwidmlzaW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiQWN0aXZhdGUgYWxsIGNvZ25pdGl2ZSBvcHRpb25zXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbY29sb3JdPVwiJ3ByaW1hcnknXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY2hhbmdlKT1cInRvZ2dsZUNvZ25pdGl2ZU9wdGlvbnMoJGV2ZW50KVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxQb3NpdGlvbj1cImJlZm9yZVwiPkFjdGl2YXRlIGFsbDwvbWF0LXNsaWRlLXRvZ2dsZT5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPHA+SWYgdGhlIGNvbnRlbnQgb24gdGhlIHBhZ2UgaXMgaGFyZCB0byBzb3J0IG91dCBmb3IgeW91LCB5b3UgY2FuIGhpZ2hsaWdodCBoZWFkZXJzLCBsaW5rcywgYW5kIGV2ZW4gdXNlIGEgZm9udCBkZXNpZ25lZCB0byBhaWQgcGVvcGxlIHdpdGggZHlzbGV4aWEuPC9wPlxuXG5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm9wdGlvbnNcIj5cblxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJvcHRpb25cIj5cbiAgICAgICAgICAgIDxwIGlkPVwic2hvdy1oZWFkaW5nc1wiPlNob3cgSGVhZGluZ3M8L3A+XG4gICAgICAgICAgICA8bWF0LXNsaWRlLXRvZ2dsZSBmb3JtQ29udHJvbE5hbWU9XCJzaG93SGVhZGluZ3NcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cInNob3ctaGVhZGluZ3NcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2NvbG9yXT1cIidwcmltYXJ5J1wiPjwvbWF0LXNsaWRlLXRvZ2dsZT5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJvcHRpb25cIj5cbiAgICAgICAgICAgIDxwIGlkPVwic2hvdy1saW5rc1wiPlNob3cgTGlua3M8L3A+XG4gICAgICAgICAgICA8bWF0LXNsaWRlLXRvZ2dsZSBmb3JtQ29udHJvbE5hbWU9XCJzaG93TGlua3NcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwic2hvdy1saW5rc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbY29sb3JdPVwiJ3ByaW1hcnknXCI+PC9tYXQtc2xpZGUtdG9nZ2xlPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm9wdGlvblwiPlxuICAgICAgICAgICAgPHAgaWQ9XCJkeXNsZXhpYVwiPkR5c2xleGlhLWZyaWVuZGx5IGZvbnQ8L3A+XG4gICAgICAgICAgICA8bWF0LXNsaWRlLXRvZ2dsZSBmb3JtQ29udHJvbE5hbWU9XCJkeXNsZXhpYVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsbGVkYnk9XCJkeXNsZXhpYVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbY29sb3JdPVwiJ3ByaW1hcnknXCI+PC9tYXQtc2xpZGUtdG9nZ2xlPlxuICAgICAgICAgIDwvZGl2PlxuXG5cblxuXG4gICAgICAgIDwvZGl2PlxuXG5cbiAgICAgIDwvc2VjdGlvbj5cblxuICAgICAgPCEtLSA8c2VjdGlvbj5cblxuICAgICAgICA8ZGl2IGNsYXNzPVwic2VjdGlvbi10aXRsZVwiPlxuICAgICAgICAgIDxoMj5TZWl6dXJlczwvaDI+XG4gICAgICAgICAgPG1hdC1zbGlkZS10b2dnbGUgZm9ybUNvbnRyb2xOYW1lPVwidmlzaW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiQWN0aXZhdGUgYWxsIGxpbWl0IGRpc3RyYWN0aW9ucyBvcHRpb25zXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbY29sb3JdPVwiJ3ByaW1hcnknXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY2hhbmdlKT1cInRvZ2dsZUxpbWl0RGlzdHJhdGlvbnMoJGV2ZW50KVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxQb3NpdGlvbj1cImJlZm9yZVwiPkFjdGl2YXRlIGFsbCA8L21hdC1zbGlkZS10b2dnbGU+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxwPlNvbWUgcGVvcGxlIG1pZ2h0IGZpbmQgYW5pbWF0aW9ucyBvciBicmlnaHQgY29sb3IgY29udHJhc3QgZGlzdHJhY3Rpbmcgb3IgYW5ub3lpbmcuPC9wPlxuXG4gICAgICAgIDxkaXYgY2xhc3M9XCJvcHRpb25zXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm9wdGlvblwiPlxuICAgICAgICAgICAgPHAgaWQ9XCJsb3ctY29udHJhc3RcIj5SZWR1Y2UgU2F0dXJhdGlvbjwvcD5cbiAgICAgICAgICAgIDxtYXQtc2xpZGUtdG9nZ2xlIGZvcm1Db250cm9sTmFtZT1cImxvd0NvbnRyYXN0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWxsZWRieT1cImxvdy1jb250cmFzdFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbY29sb3JdPVwiJ3ByaW1hcnknXCI+PC9tYXQtc2xpZGUtdG9nZ2xlPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJvcHRpb25cIj5cbiAgICAgICAgICAgIDxwIGlkPVwiYW5pbWF0aW9uXCI+U3RvcCBBbmltYXRpb25zPC9wPlxuICAgICAgICAgICAgPG1hdC1zbGlkZS10b2dnbGUgZm9ybUNvbnRyb2xOYW1lPVwiYW5pbWF0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWxsZWRieT1cImFuaW1hdGlvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbY29sb3JdPVwiJ3ByaW1hcnknXCI+PC9tYXQtc2xpZGUtdG9nZ2xlPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvc2VjdGlvbj4gLS0+XG5cblxuXG5cblxuXG5cblxuICAgIDwvZm9ybT5cbiAgPC9kaXY+XG4gIDwhLS0gPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPlxuICAgIDxidXR0b25cbiAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtZGFya1wiXG4gICAgICAoY2xpY2spPVwibW9kYWwuY2xvc2UoKVwiXG4gICAgPkRvbmU8L2J1dHRvbj5cbiAgPC9kaXY+IC0tPlxuPC9uZy10ZW1wbGF0ZT4iXX0=