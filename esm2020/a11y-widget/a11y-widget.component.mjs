import { DOCUMENT } from '@angular/common';
import { Component, Inject } from '@angular/core';
import * as i0 from "@angular/core";
import * as i1 from "@ng-bootstrap/ng-bootstrap";
import * as i2 from "@angular/forms";
import * as i3 from "@angular/material/slide-toggle";
export class PbdsA11yWidgetComponent {
    constructor(modalService, fb, document, renderer) {
        this.modalService = modalService;
        this.fb = fb;
        this.document = document;
        this.renderer = renderer;
        this.form = this.fb.group({
            animation: [false],
            darkMode: [false],
            dyslexia: [false],
            fontSize: [14],
            highSaturation: [false],
            legibleFont: [false],
            lineHeight: [1.5],
            lowContrast: [false],
            showHeadings: [false],
            showLinks: [false],
            textContrast: [false],
            zoom: [1],
            vision: [false],
        });
        this.fontBrandRegular = '"PrecisionSans_W_Rg", "Helvetica Neue", Arial, sans-serif';
        this.fontBrandBold = '"PrecisionSans_W_Bd", "Helvetica Neue", Arial, sans-serif';
        this.fontBrandLight = '"PrecisionSans_W_Lt", "Helvetica Neue", Arial, sans-serif';
        this.fontSans = '"Helvetica Neue", Helvetica, Arial, sans-serif';
    }
    ngOnInit() { }
    ngAfterContentInit() {
        this.form.valueChanges.subscribe((value) => {
            if (value.fontSize) {
                this.document.documentElement.style.setProperty('--font_size_base', `${value.fontSize}px`);
            }
            if (value.lineHeight) {
                this.document.documentElement.style.setProperty('--line_height', value.lineHeight);
            }
            if (value.zoom) {
                this.document.documentElement.style.setProperty('--zoom', value.zoom);
            }
            if (value.textContrast) {
                this.document.documentElement.style.setProperty('--text', 'black');
                this.renderer.addClass(this.document.body, 'bgwhite');
            }
            else {
                this.document.documentElement.style.setProperty('--text', 'var(--rich500)');
                this.renderer.removeClass(this.document.body, 'bgwhite');
            }
            if (value.showHeadings) {
                this.renderer.addClass(this.document.body, 'show-headings');
            }
            else {
                this.renderer.removeClass(this.document.body, 'show-headings');
            }
            if (value.showLinks) {
                this.renderer.addClass(this.document.body, 'show-links');
            }
            else {
                this.renderer.removeClass(this.document.body, 'show-links');
            }
            if (value.darkMode) {
                this.renderer.removeClass(this.document.body, 'bgwhite');
                this.renderer.addClass(this.document.body, 'bgdark');
            }
            else {
                this.renderer.removeClass(this.document.body, 'bgdark');
            }
            if (value.legibleFont) {
                this.document.documentElement.style.setProperty('--font-family-sans-serif', 'AH');
                this.document.documentElement.style.setProperty('--font_family_brand_regular', 'AH');
                this.document.documentElement.style.setProperty('--font_family_brand_bold', 'AHB');
                this.document.documentElement.style.setProperty('--font_family_brand_light', 'AH');
            }
            else {
                this.resetFonts();
            }
            if (value.dyslexia) {
                this.document.documentElement.style.setProperty('--font-family-sans-serif', 'Dyslexic');
                this.document.documentElement.style.setProperty('--font_family_brand_regular', 'Dyslexic');
                this.document.documentElement.style.setProperty('--font_family_brand_bold', 'DyslexicBold');
                this.document.documentElement.style.setProperty('--font_family_brand_light', 'Dyslexic');
            }
            else {
                this.resetFonts();
            }
            // if (value.legibleFont) {
            //   this.renderer.addClass(this.document.body, 'hyperlegible');
            // } else {
            //   this.renderer.removeClass(this.document.body, 'hyperlegible');
            // }
            if (value.highSaturation) {
                this.renderer.addClass(this.document.body, 'high-saturation');
            }
            else {
                this.renderer.removeClass(this.document.body, 'high-saturation');
            }
        });
    }
    resetFonts() {
        this.document.documentElement.style.setProperty('--font-family-sans-serif', this.fontSans);
        this.document.documentElement.style.setProperty('--font_family_brand_regular', this.fontBrandRegular);
        this.document.documentElement.style.setProperty('--font_family_brand_bold', this.fontBrandBold);
        this.document.documentElement.style.setProperty('--font_family_brand_light', this.fontBrandLight);
    }
    reduceSaturation() { }
    increaseSaturation() { }
    toggleVisionOptions(event) {
        if (event.checked) {
            this.form.patchValue({
                textContrast: true,
                fontSize: 16,
                lineHeight: 2.0,
                legibleFont: true,
                darkMode: true,
            });
        }
        else {
            this.form.patchValue({
                textContrast: false,
                fontSize: 14,
                lineHeight: 1.5,
                legibleFont: false,
                darkMode: false,
            });
        }
    }
    toggleCognitiveOptions(event) {
        if (event.checked) {
            this.form.patchValue({
                showHeadings: true,
                showLinks: true,
                dyslexia: true,
            });
        }
        else {
            this.form.patchValue({
                showHeadings: false,
                showLinks: false,
                dyslexia: false,
            });
        }
    }
    toggleLimitDistrations(event) {
        if (event.checked) {
            this.form.patchValue({
                lowContrast: true,
                animation: true,
            });
        }
        else {
            this.form.patchValue({
                lowContrast: false,
                animation: false,
            });
        }
    }
    // checkboxVisual(event: MatCheckboxChange) {
    //   if (event.checked) {
    //     this.form.patchValue({
    //       textContrast: true,
    //       // darkMode: true,
    //       fontSize: 16,
    //       lineHeight: 2.0,
    //       legibleFont: true,
    //     });
    //   } else {
    //     this.form.patchValue({
    //       textContrast: false,
    //       darkMode: false,
    //       fontSize: 14,
    //       lineHeight: 1.5,
    //       legibleFont: false,
    //     });
    //   }
    // }
    // checkboxCognitive(event: MatCheckboxChange) {
    //   if (event.checked) {
    //     this.form.patchValue({
    //       showHeadings: true,
    //       showLinks: true,
    //     });
    //   } else {
    //     this.form.patchValue({
    //       showHeadings: false,
    //       showLinks: false,
    //     });
    //   }
    // }
    // checkboxLimitDistrations(event: MatCheckboxChange) {
    //   if (event.checked) {
    //     this.form.patchValue({
    //       lowContrast: true,
    //     });
    //   } else {
    //     this.form.patchValue({
    //       lowContrast: false,
    //     });
    //   }
    // }
    openA11yWidget(event, a11yWidget) {
        event.preventDefault();
        this.modalService.open(a11yWidget, {
            ariaLabelledBy: 'modal-basic-title',
            // backdrop: false,
            backdropClass: 'a11y-modal-backdrop',
            centered: false,
            modalDialogClass: 'a11y-widget-dialog',
            size: 'lg',
        });
    }
}
PbdsA11yWidgetComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.7", ngImport: i0, type: PbdsA11yWidgetComponent, deps: [{ token: i1.NgbModal }, { token: i2.UntypedFormBuilder }, { token: DOCUMENT }, { token: i0.Renderer2 }], target: i0.ɵɵFactoryTarget.Component });
PbdsA11yWidgetComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "15.2.7", type: PbdsA11yWidgetComponent, selector: "pbds-a11y-widget", ngImport: i0, template: "<a class=\"nav-link\" (click)=\"openA11yWidget($event, a11yWidget)\" href=\"\" role=\"button\" aria-labelledby=\"a11y-offscreen\">\n  <i class=\"pbi-icon-outline pbi-a11y-solid d-none d-lg-inline\" aria-hidden=\"true\"></i>\n\n  <span class=\"d-lg-none\" id=\"a11y-offscreen\">\n    <i class=\"pbi-icon-mini pbi-a11y-solid\" aria-hidden=\"true\"></i>&nbsp;Accessibility Options\n  </span>\n</a>\n\n<ng-template #a11yWidget let-modal>\n  <div class=\"modal-header\">\n    <h2 class=\"modal-title visually-hidden\" id=\"a11y-modal-title\">Accessibility Options Panel</h2>\n    <button class=\"btn-close\" (click)=\"modal.dismiss()\" type=\"button\" aria-label=\"Close\"></button>\n  </div>\n  <div class=\"modal-header\"></div>\n\n  <div class=\"modal-body\">\n    <form [formGroup]=\"form\">\n      <section>\n        <!-- <mat-checkbox (change)=\"checkboxVisual($event)\">Vision</mat-checkbox> -->\n        <div class=\"section-title\">\n          <h2>Vision</h2>\n          <mat-slide-toggle\n            [color]=\"'primary'\"\n            (change)=\"toggleVisionOptions($event)\"\n            formControlName=\"vision\"\n            aria-label=\"Activate all vision options\"\n            labelPosition=\"before\"\n            >Activate all</mat-slide-toggle\n          >\n        </div>\n\n        <p>\n          Some people may find items on the page difficult to read. Here you can increase the font size, line spacing,\n          and other visual settings.\n        </p>\n\n        <div class=\"options\">\n          <div class=\"option\">\n            <p id=\"text-contrast\">Increase Text Contrast</p>\n            <mat-slide-toggle\n              [color]=\"'primary'\"\n              formControlName=\"textContrast\"\n              aria-labelledby=\"text-contrast\"\n            ></mat-slide-toggle>\n            <div>\n              <div class=\"sr-only\" id=\"textContrastHelp\">Change the text color to black to improve readability.</div>\n            </div>\n          </div>\n\n          <div class=\"option\">\n            <label class=\"d-block\" for=\"a11y-font-size\">Font Size ({{ form.controls.fontSize.value }} pixels)</label>\n            <input id=\"a11y-font-size\" type=\"range\" formControlName=\"fontSize\" min=\"14\" max=\"24\" step=\"1\" />\n          </div>\n          <div class=\"option\">\n            <label class=\"d-block\" for=\"line-height\">Line Spacing ({{ form.controls.lineHeight.value }}x)</label>\n            <input id=\"line-height\" type=\"range\" formControlName=\"lineHeight\" min=\"1.5\" max=\"3\" step=\"0.1\" />\n          </div>\n\n          <!-- <div class=\"option \">\n            <p id=\"legible-font\">Hyperlegible Font</p>\n            <mat-slide-toggle formControlName=\"legibleFont\" aria-labelledby=\"legible-font\" [color]=\"'primary'\"></mat-slide-toggle>\n          </div> -->\n\n          <div class=\"option\">\n            <label class=\"d-block\" for=\"zoom\">Zoom ({{ form.controls.zoom.value }}x)</label>\n            <input id=\"zoom\" type=\"range\" formControlName=\"zoom\" min=\"1\" max=\"2\" step=\"0.1\" />\n          </div>\n\n          <!-- <div class=\"option \">\n            <p id=\"high-saturation\">High Saturation</p>\n            <mat-slide-toggle formControlName=\"highSaturation\"\n                              aria-labelledby=\"high-saturation\"\n                              [color]=\"'primary'\"></mat-slide-toggle>\n          </div> -->\n\n          <div class=\"option\">\n            <p id=\"dark-mode\">Dark Mode</p>\n            <mat-slide-toggle\n              [color]=\"'primary'\"\n              formControlName=\"darkMode\"\n              aria-labelledby=\"dark-mode\"\n            ></mat-slide-toggle>\n          </div>\n        </div>\n      </section>\n\n      <section>\n        <!-- <mat-checkbox (change)=\"checkboxCognitive($event)\">Cognitive</mat-checkbox> -->\n        <div class=\"section-title\">\n          <h2>Cognitive</h2>\n          <mat-slide-toggle\n            [color]=\"'primary'\"\n            (change)=\"toggleCognitiveOptions($event)\"\n            formControlName=\"vision\"\n            aria-label=\"Activate all cognitive options\"\n            labelPosition=\"before\"\n            >Activate all</mat-slide-toggle\n          >\n        </div>\n\n        <p>\n          If the content on the page is hard to sort out for you, you can highlight headers, links, and even use a font\n          designed to aid people with dyslexia.\n        </p>\n\n        <div class=\"options\">\n          <div class=\"option\">\n            <p id=\"show-headings\">Show Headings</p>\n            <mat-slide-toggle\n              [color]=\"'primary'\"\n              formControlName=\"showHeadings\"\n              aria-label=\"show-headings\"\n            ></mat-slide-toggle>\n          </div>\n\n          <div class=\"option\">\n            <p id=\"show-links\">Show Links</p>\n            <mat-slide-toggle\n              [color]=\"'primary'\"\n              formControlName=\"showLinks\"\n              aria-labelledby=\"show-links\"\n            ></mat-slide-toggle>\n          </div>\n\n          <div class=\"option\">\n            <p id=\"dyslexia\">Dyslexia-friendly font</p>\n            <mat-slide-toggle\n              [color]=\"'primary'\"\n              formControlName=\"dyslexia\"\n              aria-labelledby=\"dyslexia\"\n            ></mat-slide-toggle>\n          </div>\n        </div>\n      </section>\n\n      <!-- <section>\n\n        <div class=\"section-title\">\n          <h2>Seizures</h2>\n          <mat-slide-toggle formControlName=\"vision\"\n                            aria-label=\"Activate all limit distractions options\"\n                            [color]=\"'primary'\"\n                            (change)=\"toggleLimitDistrations($event)\"\n                            labelPosition=\"before\">Activate all </mat-slide-toggle>\n        </div>\n\n        <p>Some people might find animations or bright color contrast distracting or annoying.</p>\n\n        <div class=\"options\">\n          <div class=\"option\">\n            <p id=\"low-contrast\">Reduce Saturation</p>\n            <mat-slide-toggle formControlName=\"lowContrast\"\n                              aria-labelledby=\"low-contrast\"\n                              [color]=\"'primary'\"></mat-slide-toggle>\n          </div>\n          <div class=\"option\">\n            <p id=\"animation\">Stop Animations</p>\n            <mat-slide-toggle formControlName=\"animation\"\n                              aria-labelledby=\"animation\"\n                              [color]=\"'primary'\"></mat-slide-toggle>\n          </div>\n        </div>\n      </section> -->\n    </form>\n  </div>\n  <!-- <div class=\"modal-footer\">\n    <button\n      type=\"button\"\n      class=\"btn btn-outline-dark\"\n      (click)=\"modal.close()\"\n    >Done</button>\n  </div> -->\n</ng-template>\n", dependencies: [{ kind: "component", type: i3.MatSlideToggle, selector: "mat-slide-toggle", inputs: ["disabled", "disableRipple", "color", "tabIndex"], exportAs: ["matSlideToggle"] }, { kind: "directive", type: i2.ɵNgNoValidate, selector: "form:not([ngNoForm]):not([ngNativeValidate])" }, { kind: "directive", type: i2.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { kind: "directive", type: i2.RangeValueAccessor, selector: "input[type=range][formControlName],input[type=range][formControl],input[type=range][ngModel]" }, { kind: "directive", type: i2.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i2.NgControlStatusGroup, selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { kind: "directive", type: i2.FormGroupDirective, selector: "[formGroup]", inputs: ["formGroup"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { kind: "directive", type: i2.FormControlName, selector: "[formControlName]", inputs: ["formControlName", "disabled", "ngModel"], outputs: ["ngModelChange"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.7", ngImport: i0, type: PbdsA11yWidgetComponent, decorators: [{
            type: Component,
            args: [{ selector: 'pbds-a11y-widget', template: "<a class=\"nav-link\" (click)=\"openA11yWidget($event, a11yWidget)\" href=\"\" role=\"button\" aria-labelledby=\"a11y-offscreen\">\n  <i class=\"pbi-icon-outline pbi-a11y-solid d-none d-lg-inline\" aria-hidden=\"true\"></i>\n\n  <span class=\"d-lg-none\" id=\"a11y-offscreen\">\n    <i class=\"pbi-icon-mini pbi-a11y-solid\" aria-hidden=\"true\"></i>&nbsp;Accessibility Options\n  </span>\n</a>\n\n<ng-template #a11yWidget let-modal>\n  <div class=\"modal-header\">\n    <h2 class=\"modal-title visually-hidden\" id=\"a11y-modal-title\">Accessibility Options Panel</h2>\n    <button class=\"btn-close\" (click)=\"modal.dismiss()\" type=\"button\" aria-label=\"Close\"></button>\n  </div>\n  <div class=\"modal-header\"></div>\n\n  <div class=\"modal-body\">\n    <form [formGroup]=\"form\">\n      <section>\n        <!-- <mat-checkbox (change)=\"checkboxVisual($event)\">Vision</mat-checkbox> -->\n        <div class=\"section-title\">\n          <h2>Vision</h2>\n          <mat-slide-toggle\n            [color]=\"'primary'\"\n            (change)=\"toggleVisionOptions($event)\"\n            formControlName=\"vision\"\n            aria-label=\"Activate all vision options\"\n            labelPosition=\"before\"\n            >Activate all</mat-slide-toggle\n          >\n        </div>\n\n        <p>\n          Some people may find items on the page difficult to read. Here you can increase the font size, line spacing,\n          and other visual settings.\n        </p>\n\n        <div class=\"options\">\n          <div class=\"option\">\n            <p id=\"text-contrast\">Increase Text Contrast</p>\n            <mat-slide-toggle\n              [color]=\"'primary'\"\n              formControlName=\"textContrast\"\n              aria-labelledby=\"text-contrast\"\n            ></mat-slide-toggle>\n            <div>\n              <div class=\"sr-only\" id=\"textContrastHelp\">Change the text color to black to improve readability.</div>\n            </div>\n          </div>\n\n          <div class=\"option\">\n            <label class=\"d-block\" for=\"a11y-font-size\">Font Size ({{ form.controls.fontSize.value }} pixels)</label>\n            <input id=\"a11y-font-size\" type=\"range\" formControlName=\"fontSize\" min=\"14\" max=\"24\" step=\"1\" />\n          </div>\n          <div class=\"option\">\n            <label class=\"d-block\" for=\"line-height\">Line Spacing ({{ form.controls.lineHeight.value }}x)</label>\n            <input id=\"line-height\" type=\"range\" formControlName=\"lineHeight\" min=\"1.5\" max=\"3\" step=\"0.1\" />\n          </div>\n\n          <!-- <div class=\"option \">\n            <p id=\"legible-font\">Hyperlegible Font</p>\n            <mat-slide-toggle formControlName=\"legibleFont\" aria-labelledby=\"legible-font\" [color]=\"'primary'\"></mat-slide-toggle>\n          </div> -->\n\n          <div class=\"option\">\n            <label class=\"d-block\" for=\"zoom\">Zoom ({{ form.controls.zoom.value }}x)</label>\n            <input id=\"zoom\" type=\"range\" formControlName=\"zoom\" min=\"1\" max=\"2\" step=\"0.1\" />\n          </div>\n\n          <!-- <div class=\"option \">\n            <p id=\"high-saturation\">High Saturation</p>\n            <mat-slide-toggle formControlName=\"highSaturation\"\n                              aria-labelledby=\"high-saturation\"\n                              [color]=\"'primary'\"></mat-slide-toggle>\n          </div> -->\n\n          <div class=\"option\">\n            <p id=\"dark-mode\">Dark Mode</p>\n            <mat-slide-toggle\n              [color]=\"'primary'\"\n              formControlName=\"darkMode\"\n              aria-labelledby=\"dark-mode\"\n            ></mat-slide-toggle>\n          </div>\n        </div>\n      </section>\n\n      <section>\n        <!-- <mat-checkbox (change)=\"checkboxCognitive($event)\">Cognitive</mat-checkbox> -->\n        <div class=\"section-title\">\n          <h2>Cognitive</h2>\n          <mat-slide-toggle\n            [color]=\"'primary'\"\n            (change)=\"toggleCognitiveOptions($event)\"\n            formControlName=\"vision\"\n            aria-label=\"Activate all cognitive options\"\n            labelPosition=\"before\"\n            >Activate all</mat-slide-toggle\n          >\n        </div>\n\n        <p>\n          If the content on the page is hard to sort out for you, you can highlight headers, links, and even use a font\n          designed to aid people with dyslexia.\n        </p>\n\n        <div class=\"options\">\n          <div class=\"option\">\n            <p id=\"show-headings\">Show Headings</p>\n            <mat-slide-toggle\n              [color]=\"'primary'\"\n              formControlName=\"showHeadings\"\n              aria-label=\"show-headings\"\n            ></mat-slide-toggle>\n          </div>\n\n          <div class=\"option\">\n            <p id=\"show-links\">Show Links</p>\n            <mat-slide-toggle\n              [color]=\"'primary'\"\n              formControlName=\"showLinks\"\n              aria-labelledby=\"show-links\"\n            ></mat-slide-toggle>\n          </div>\n\n          <div class=\"option\">\n            <p id=\"dyslexia\">Dyslexia-friendly font</p>\n            <mat-slide-toggle\n              [color]=\"'primary'\"\n              formControlName=\"dyslexia\"\n              aria-labelledby=\"dyslexia\"\n            ></mat-slide-toggle>\n          </div>\n        </div>\n      </section>\n\n      <!-- <section>\n\n        <div class=\"section-title\">\n          <h2>Seizures</h2>\n          <mat-slide-toggle formControlName=\"vision\"\n                            aria-label=\"Activate all limit distractions options\"\n                            [color]=\"'primary'\"\n                            (change)=\"toggleLimitDistrations($event)\"\n                            labelPosition=\"before\">Activate all </mat-slide-toggle>\n        </div>\n\n        <p>Some people might find animations or bright color contrast distracting or annoying.</p>\n\n        <div class=\"options\">\n          <div class=\"option\">\n            <p id=\"low-contrast\">Reduce Saturation</p>\n            <mat-slide-toggle formControlName=\"lowContrast\"\n                              aria-labelledby=\"low-contrast\"\n                              [color]=\"'primary'\"></mat-slide-toggle>\n          </div>\n          <div class=\"option\">\n            <p id=\"animation\">Stop Animations</p>\n            <mat-slide-toggle formControlName=\"animation\"\n                              aria-labelledby=\"animation\"\n                              [color]=\"'primary'\"></mat-slide-toggle>\n          </div>\n        </div>\n      </section> -->\n    </form>\n  </div>\n  <!-- <div class=\"modal-footer\">\n    <button\n      type=\"button\"\n      class=\"btn btn-outline-dark\"\n      (click)=\"modal.close()\"\n    >Done</button>\n  </div> -->\n</ng-template>\n" }]
        }], ctorParameters: function () { return [{ type: i1.NgbModal }, { type: i2.UntypedFormBuilder }, { type: Document, decorators: [{
                    type: Inject,
                    args: [DOCUMENT]
                }] }, { type: i0.Renderer2 }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYTExeS13aWRnZXQuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvcGItZGVzaWduLXN5c3RlbS9hMTF5LXdpZGdldC9hMTF5LXdpZGdldC5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi9wcm9qZWN0cy9wYi1kZXNpZ24tc3lzdGVtL2ExMXktd2lkZ2V0L2ExMXktd2lkZ2V0LmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUMzQyxPQUFPLEVBQW9CLFNBQVMsRUFBRSxNQUFNLEVBQXFCLE1BQU0sZUFBZSxDQUFDOzs7OztBQVV2RixNQUFNLE9BQU8sdUJBQXVCO0lBQ2xDLFlBQ1UsWUFBc0IsRUFDdEIsRUFBc0IsRUFDSixRQUFrQixFQUNwQyxRQUFtQjtRQUhuQixpQkFBWSxHQUFaLFlBQVksQ0FBVTtRQUN0QixPQUFFLEdBQUYsRUFBRSxDQUFvQjtRQUNKLGFBQVEsR0FBUixRQUFRLENBQVU7UUFDcEMsYUFBUSxHQUFSLFFBQVEsQ0FBVztRQUc3QixTQUFJLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7WUFDbkIsU0FBUyxFQUFFLENBQUMsS0FBSyxDQUFDO1lBQ2xCLFFBQVEsRUFBRSxDQUFDLEtBQUssQ0FBQztZQUNqQixRQUFRLEVBQUUsQ0FBQyxLQUFLLENBQUM7WUFDakIsUUFBUSxFQUFFLENBQUMsRUFBRSxDQUFDO1lBQ2QsY0FBYyxFQUFFLENBQUMsS0FBSyxDQUFDO1lBQ3ZCLFdBQVcsRUFBRSxDQUFDLEtBQUssQ0FBQztZQUNwQixVQUFVLEVBQUUsQ0FBQyxHQUFHLENBQUM7WUFDakIsV0FBVyxFQUFFLENBQUMsS0FBSyxDQUFDO1lBQ3BCLFlBQVksRUFBRSxDQUFDLEtBQUssQ0FBQztZQUNyQixTQUFTLEVBQUUsQ0FBQyxLQUFLLENBQUM7WUFDbEIsWUFBWSxF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QUM3Qiw2QkFBNkI7SUFDN0IseUJBQXlCO0lBQ3pCLHNCQUFzQjtJQUN0Qix5QkFBeUI7SUFDekIsNEJBQTRCO0lBQzVCLFVBQVU7SUFDVixNQUFNO0lBQ04sSUFBSTtJQUNKLGdEQUFnRDtJQUNoRCx5QkFBeUI7SUFDekIsNkJBQTZCO0lBQzdCLDRCQUE0QjtJQUM1Qix5QkFBeUI7SUFDekIsVUFBVTtJQUNWLGFBQWE7SUFDYiw2QkFBNkI7SUFDN0IsNkJBQTZCO0lBQzdCLDBCQUEwQjtJQUMxQixVQUFVO0lBQ1YsTUFBTTtJQUNOLElBQUk7SUFFSix1REFBdUQ7SUFDdkQseUJBQXlCO0lBQ3pCLDZCQUE2QjtJQUM3QiwyQkFBMkI7SUFDM0IsVUFBVTtJQUNWLGFBQWE7SUFDYiw2QkFBNkI7SUFDN0IsNEJBQTRCO0lBQzVCLFVBQVU7SUFDVixNQUFNO0lBQ04sSUFBSTtJQUVKLGNBQWMsQ0FBQyxLQUFpQixFQUFFLFVBQW9CO1FBQ3BELEtBQUssQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUN2QixJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUU7WUFDakMsY0FBYyxFQUFFLG1CQUFtQjtZQUNuQyxtQkFBbUI7WUFDbkIsYUFBYSxFQUFFLHFCQUFxQjtZQUNwQyxRQUFRLEVBQUUsS0FBSztZQUNmLGdCQUFnQixFQUFFLG9CQUFvQjtZQUN0QyxJQUFJLEVBQUUsSUFBSTtTQUNYLENBQUMsQ0FBQztJQUNMLENBQUM7O29IQW5OVSx1QkFBdUIsNEVBSXhCLFFBQVE7d0dBSlAsdUJBQXVCLHdEQ1hwQywydk5BNktBOzJGRGxLYSx1QkFBdUI7a0JBTG5DLFNBQVM7K0JBQ0Usa0JBQWtCOzswQkFRekIsTUFBTTsyQkFBQyxRQUFRIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRE9DVU1FTlQgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgQWZ0ZXJDb250ZW50SW5pdCwgQ29tcG9uZW50LCBJbmplY3QsIE9uSW5pdCwgUmVuZGVyZXIyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBVbnR5cGVkRm9ybUJ1aWxkZXIgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQgeyBNYXRTbGlkZVRvZ2dsZUNoYW5nZSB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL3NsaWRlLXRvZ2dsZSc7XG5pbXBvcnQgeyBOZ2JNb2RhbCB9IGZyb20gJ0BuZy1ib290c3RyYXAvbmctYm9vdHN0cmFwJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAncGJkcy1hMTF5LXdpZGdldCcsXG4gIHRlbXBsYXRlVXJsOiAnLi9hMTF5LXdpZGdldC5jb21wb25lbnQuaHRtbCcsXG4gIC8vIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLlNoYWRvd0RvbSxcbn0pXG5leHBvcnQgY2xhc3MgUGJkc0ExMXlXaWRnZXRDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIEFmdGVyQ29udGVudEluaXQge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIG1vZGFsU2VydmljZTogTmdiTW9kYWwsXG4gICAgcHJpdmF0ZSBmYjogVW50eXBlZEZvcm1CdWlsZGVyLFxuICAgIEBJbmplY3QoRE9DVU1FTlQpIHByaXZhdGUgZG9jdW1lbnQ6IERvY3VtZW50LFxuICAgIHByaXZhdGUgcmVuZGVyZXI6IFJlbmRlcmVyMlxuICApIHt9XG5cbiAgZm9ybSA9IHRoaXMuZmIuZ3JvdXAoe1xuICAgIGFuaW1hdGlvbjogW2ZhbHNlXSxcbiAgICBkYXJrTW9kZTogW2ZhbHNlXSxcbiAgICBkeXNsZXhpYTogW2ZhbHNlXSxcbiAgICBmb250U2l6ZTogWzE0XSxcbiAgICBoaWdoU2F0dXJhdGlvbjogW2ZhbHNlXSxcbiAgICBsZWdpYmxlRm9udDogW2ZhbHNlXSxcbiAgICBsaW5lSGVpZ2h0OiBbMS41XSxcbiAgICBsb3dDb250cmFzdDogW2ZhbHNlXSxcbiAgICBzaG93SGVhZGluZ3M6IFtmYWxzZV0sXG4gICAgc2hvd0xpbmtzOiBbZmFsc2VdLFxuICAgIHRleHRDb250cmFzdDogW2ZhbHNlXSxcbiAgICB6b29tOiBbMV0sXG4gICAgdmlzaW9uOiBbZmFsc2VdLFxuICB9KTtcblxuICBmb250QnJhbmRSZWd1bGFyID0gJ1wiUHJlY2lzaW9uU2Fuc19XX1JnXCIsIFwiSGVsdmV0aWNhIE5ldWVcIiwgQXJpYWwsIHNhbnMtc2VyaWYnO1xuICBmb250QnJhbmRCb2xkID0gJ1wiUHJlY2lzaW9uU2Fuc19XX0JkXCIsIFwiSGVsdmV0aWNhIE5ldWVcIiwgQXJpYWwsIHNhbnMtc2VyaWYnO1xuICBmb250QnJhbmRMaWdodCA9ICdcIlByZWNpc2lvblNhbnNfV19MdFwiLCBcIkhlbHZldGljYSBOZXVlXCIsIEFyaWFsLCBzYW5zLXNlcmlmJztcbiAgZm9udFNhbnMgPSAnXCJIZWx2ZXRpY2EgTmV1ZVwiLCBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmJztcblxuICBuZ09uSW5pdCgpIHt9XG5cbiAgbmdBZnRlckNvbnRlbnRJbml0KCkge1xuICAgIHRoaXMuZm9ybS52YWx1ZUNoYW5nZXMuc3Vic2NyaWJlKCh2YWx1ZSkgPT4ge1xuICAgICAgaWYgKHZhbHVlLmZvbnRTaXplKSB7XG4gICAgICAgIHRoaXMuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLWZvbnRfc2l6ZV9iYXNlJywgYCR7dmFsdWUuZm9udFNpemV9cHhgKTtcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZS5saW5lSGVpZ2h0KSB7XG4gICAgICAgIHRoaXMuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLWxpbmVfaGVpZ2h0JywgdmFsdWUubGluZUhlaWdodCk7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUuem9vbSkge1xuICAgICAgICB0aGlzLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS16b29tJywgdmFsdWUuem9vbSk7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUudGV4dENvbnRyYXN0KSB7XG4gICAgICAgIHRoaXMuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLXRleHQnLCAnYmxhY2snKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5hZGRDbGFzcyh0aGlzLmRvY3VtZW50LmJvZHksICdiZ3doaXRlJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS10ZXh0JywgJ3ZhcigtLXJpY2g1MDApJyk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucmVtb3ZlQ2xhc3ModGhpcy5kb2N1bWVudC5ib2R5LCAnYmd3aGl0ZScpO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlLnNob3dIZWFkaW5ncykge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmFkZENsYXNzKHRoaXMuZG9jdW1lbnQuYm9keSwgJ3Nob3ctaGVhZGluZ3MnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucmVtb3ZlQ2xhc3ModGhpcy5kb2N1bWVudC5ib2R5LCAnc2hvdy1oZWFkaW5ncycpO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlLnNob3dMaW5rcykge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmFkZENsYXNzKHRoaXMuZG9jdW1lbnQuYm9keSwgJ3Nob3ctbGlua3MnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucmVtb3ZlQ2xhc3ModGhpcy5kb2N1bWVudC5ib2R5LCAnc2hvdy1saW5rcycpO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlLmRhcmtNb2RlKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucmVtb3ZlQ2xhc3ModGhpcy5kb2N1bWVudC5ib2R5LCAnYmd3aGl0ZScpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmFkZENsYXNzKHRoaXMuZG9jdW1lbnQuYm9keSwgJ2JnZGFyaycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5yZW1vdmVDbGFzcyh0aGlzLmRvY3VtZW50LmJvZHksICdiZ2RhcmsnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHZhbHVlLmxlZ2libGVGb250KSB7XG4gICAgICAgIHRoaXMuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLWZvbnQtZmFtaWx5LXNhbnMtc2VyaWYnLCAnQUgnKTtcbiAgICAgICAgdGhpcy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0tZm9udF9mYW1pbHlfYnJhbmRfcmVndWxhcicsICdBSCcpO1xuICAgICAgICB0aGlzLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1mb250X2ZhbWlseV9icmFuZF9ib2xkJywgJ0FIQicpO1xuICAgICAgICB0aGlzLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1mb250X2ZhbWlseV9icmFuZF9saWdodCcsICdBSCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5yZXNldEZvbnRzKCk7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUuZHlzbGV4aWEpIHtcbiAgICAgICAgdGhpcy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0tZm9udC1mYW1pbHktc2Fucy1zZXJpZicsICdEeXNsZXhpYycpO1xuICAgICAgICB0aGlzLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1mb250X2ZhbWlseV9icmFuZF9yZWd1bGFyJywgJ0R5c2xleGljJyk7XG4gICAgICAgIHRoaXMuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLWZvbnRfZmFtaWx5X2JyYW5kX2JvbGQnLCAnRHlzbGV4aWNCb2xkJyk7XG4gICAgICAgIHRoaXMuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLWZvbnRfZmFtaWx5X2JyYW5kX2xpZ2h0JywgJ0R5c2xleGljJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnJlc2V0Rm9udHMoKTtcbiAgICAgIH1cbiAgICAgIC8vIGlmICh2YWx1ZS5sZWdpYmxlRm9udCkge1xuICAgICAgLy8gICB0aGlzLnJlbmRlcmVyLmFkZENsYXNzKHRoaXMuZG9jdW1lbnQuYm9keSwgJ2h5cGVybGVnaWJsZScpO1xuICAgICAgLy8gfSBlbHNlIHtcbiAgICAgIC8vICAgdGhpcy5yZW5kZXJlci5yZW1vdmVDbGFzcyh0aGlzLmRvY3VtZW50LmJvZHksICdoeXBlcmxlZ2libGUnKTtcbiAgICAgIC8vIH1cbiAgICAgIGlmICh2YWx1ZS5oaWdoU2F0dXJhdGlvbikge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmFkZENsYXNzKHRoaXMuZG9jdW1lbnQuYm9keSwgJ2hpZ2gtc2F0dXJhdGlvbicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5yZW1vdmVDbGFzcyh0aGlzLmRvY3VtZW50LmJvZHksICdoaWdoLXNhdHVyYXRpb24nKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJlc2V0Rm9udHMoKSB7XG4gICAgdGhpcy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0tZm9udC1mYW1pbHktc2Fucy1zZXJpZicsIHRoaXMuZm9udFNhbnMpO1xuICAgIHRoaXMuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLWZvbnRfZmFtaWx5X2JyYW5kX3JlZ3VsYXInLCB0aGlzLmZvbnRCcmFuZFJlZ3VsYXIpO1xuICAgIHRoaXMuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLWZvbnRfZmFtaWx5X2JyYW5kX2JvbGQnLCB0aGlzLmZvbnRCcmFuZEJvbGQpO1xuICAgIHRoaXMuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLWZvbnRfZmFtaWx5X2JyYW5kX2xpZ2h0JywgdGhpcy5mb250QnJhbmRMaWdodCk7XG4gIH1cblxuICByZWR1Y2VTYXR1cmF0aW9uKCkge31cblxuICBpbmNyZWFzZVNhdHVyYXRpb24oKSB7fVxuXG4gIHRvZ2dsZVZpc2lvbk9wdGlvbnMoZXZlbnQ6IE1hdFNsaWRlVG9nZ2xlQ2hhbmdlKSB7XG4gICAgaWYgKGV2ZW50LmNoZWNrZWQpIHtcbiAgICAgIHRoaXMuZm9ybS5wYXRjaFZhbHVlKHtcbiAgICAgICAgdGV4dENvbnRyYXN0OiB0cnVlLFxuICAgICAgICBmb250U2l6ZTogMTYsXG4gICAgICAgIGxpbmVIZWlnaHQ6IDIuMCxcbiAgICAgICAgbGVnaWJsZUZvbnQ6IHRydWUsXG4gICAgICAgIGRhcmtNb2RlOiB0cnVlLFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZm9ybS5wYXRjaFZhbHVlKHtcbiAgICAgICAgdGV4dENvbnRyYXN0OiBmYWxzZSxcbiAgICAgICAgZm9udFNpemU6IDE0LFxuICAgICAgICBsaW5lSGVpZ2h0OiAxLjUsXG4gICAgICAgIGxlZ2libGVGb250OiBmYWxzZSxcbiAgICAgICAgZGFya01vZGU6IGZhbHNlLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgdG9nZ2xlQ29nbml0aXZlT3B0aW9ucyhldmVudDogTWF0U2xpZGVUb2dnbGVDaGFuZ2UpIHtcbiAgICBpZiAoZXZlbnQuY2hlY2tlZCkge1xuICAgICAgdGhpcy5mb3JtLnBhdGNoVmFsdWUoe1xuICAgICAgICBzaG93SGVhZGluZ3M6IHRydWUsXG4gICAgICAgIHNob3dMaW5rczogdHJ1ZSxcbiAgICAgICAgZHlzbGV4aWE6IHRydWUsXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5mb3JtLnBhdGNoVmFsdWUoe1xuICAgICAgICBzaG93SGVhZGluZ3M6IGZhbHNlLFxuICAgICAgICBzaG93TGlua3M6IGZhbHNlLFxuICAgICAgICBkeXNsZXhpYTogZmFsc2UsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICB0b2dnbGVMaW1pdERpc3RyYXRpb25zKGV2ZW50OiBNYXRTbGlkZVRvZ2dsZUNoYW5nZSkge1xuICAgIGlmIChldmVudC5jaGVja2VkKSB7XG4gICAgICB0aGlzLmZvcm0ucGF0Y2hWYWx1ZSh7XG4gICAgICAgIGxvd0NvbnRyYXN0OiB0cnVlLFxuICAgICAgICBhbmltYXRpb246IHRydWUsXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5mb3JtLnBhdGNoVmFsdWUoe1xuICAgICAgICBsb3dDb250cmFzdDogZmFsc2UsXG4gICAgICAgIGFuaW1hdGlvbjogZmFsc2UsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvLyBjaGVja2JveFZpc3VhbChldmVudDogTWF0Q2hlY2tib3hDaGFuZ2UpIHtcbiAgLy8gICBpZiAoZXZlbnQuY2hlY2tlZCkge1xuICAvLyAgICAgdGhpcy5mb3JtLnBhdGNoVmFsdWUoe1xuICAvLyAgICAgICB0ZXh0Q29udHJhc3Q6IHRydWUsXG4gIC8vICAgICAgIC8vIGRhcmtNb2RlOiB0cnVlLFxuICAvLyAgICAgICBmb250U2l6ZTogMTYsXG4gIC8vICAgICAgIGxpbmVIZWlnaHQ6IDIuMCxcbiAgLy8gICAgICAgbGVnaWJsZUZvbnQ6IHRydWUsXG4gIC8vICAgICB9KTtcbiAgLy8gICB9IGVsc2Uge1xuICAvLyAgICAgdGhpcy5mb3JtLnBhdGNoVmFsdWUoe1xuICAvLyAgICAgICB0ZXh0Q29udHJhc3Q6IGZhbHNlLFxuICAvLyAgICAgICBkYXJrTW9kZTogZmFsc2UsXG4gIC8vICAgICAgIGZvbnRTaXplOiAxNCxcbiAgLy8gICAgICAgbGluZUhlaWdodDogMS41LFxuICAvLyAgICAgICBsZWdpYmxlRm9udDogZmFsc2UsXG4gIC8vICAgICB9KTtcbiAgLy8gICB9XG4gIC8vIH1cbiAgLy8gY2hlY2tib3hDb2duaXRpdmUoZXZlbnQ6IE1hdENoZWNrYm94Q2hhbmdlKSB7XG4gIC8vICAgaWYgKGV2ZW50LmNoZWNrZWQpIHtcbiAgLy8gICAgIHRoaXMuZm9ybS5wYXRjaFZhbHVlKHtcbiAgLy8gICAgICAgc2hvd0hlYWRpbmdzOiB0cnVlLFxuICAvLyAgICAgICBzaG93TGlua3M6IHRydWUsXG4gIC8vICAgICB9KTtcbiAgLy8gICB9IGVsc2Uge1xuICAvLyAgICAgdGhpcy5mb3JtLnBhdGNoVmFsdWUoe1xuICAvLyAgICAgICBzaG93SGVhZGluZ3M6IGZhbHNlLFxuICAvLyAgICAgICBzaG93TGlua3M6IGZhbHNlLFxuICAvLyAgICAgfSk7XG4gIC8vICAgfVxuICAvLyB9XG5cbiAgLy8gY2hlY2tib3hMaW1pdERpc3RyYXRpb25zKGV2ZW50OiBNYXRDaGVja2JveENoYW5nZSkge1xuICAvLyAgIGlmIChldmVudC5jaGVja2VkKSB7XG4gIC8vICAgICB0aGlzLmZvcm0ucGF0Y2hWYWx1ZSh7XG4gIC8vICAgICAgIGxvd0NvbnRyYXN0OiB0cnVlLFxuICAvLyAgICAgfSk7XG4gIC8vICAgfSBlbHNlIHtcbiAgLy8gICAgIHRoaXMuZm9ybS5wYXRjaFZhbHVlKHtcbiAgLy8gICAgICAgbG93Q29udHJhc3Q6IGZhbHNlLFxuICAvLyAgICAgfSk7XG4gIC8vICAgfVxuICAvLyB9XG5cbiAgb3BlbkExMXlXaWRnZXQoZXZlbnQ6IE1vdXNlRXZlbnQsIGExMXlXaWRnZXQ6IE5nYk1vZGFsKSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLm1vZGFsU2VydmljZS5vcGVuKGExMXlXaWRnZXQsIHtcbiAgICAgIGFyaWFMYWJlbGxlZEJ5OiAnbW9kYWwtYmFzaWMtdGl0bGUnLFxuICAgICAgLy8gYmFja2Ryb3A6IGZhbHNlLFxuICAgICAgYmFja2Ryb3BDbGFzczogJ2ExMXktbW9kYWwtYmFja2Ryb3AnLFxuICAgICAgY2VudGVyZWQ6IGZhbHNlLFxuICAgICAgbW9kYWxEaWFsb2dDbGFzczogJ2ExMXktd2lkZ2V0LWRpYWxvZycsXG4gICAgICBzaXplOiAnbGcnLFxuICAgIH0pO1xuICB9XG59XG4iLCI8YSBjbGFzcz1cIm5hdi1saW5rXCIgKGNsaWNrKT1cIm9wZW5BMTF5V2lkZ2V0KCRldmVudCwgYTExeVdpZGdldClcIiBocmVmPVwiXCIgcm9sZT1cImJ1dHRvblwiIGFyaWEtbGFiZWxsZWRieT1cImExMXktb2Zmc2NyZWVuXCI+XG4gIDxpIGNsYXNzPVwicGJpLWljb24tb3V0bGluZSBwYmktYTExeS1zb2xpZCBkLW5vbmUgZC1sZy1pbmxpbmVcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XG5cbiAgPHNwYW4gY2xhc3M9XCJkLWxnLW5vbmVcIiBpZD1cImExMXktb2Zmc2NyZWVuXCI+XG4gICAgPGkgY2xhc3M9XCJwYmktaWNvbi1taW5pIHBiaS1hMTF5LXNvbGlkXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPiZuYnNwO0FjY2Vzc2liaWxpdHkgT3B0aW9uc1xuICA8L3NwYW4+XG48L2E+XG5cbjxuZy10ZW1wbGF0ZSAjYTExeVdpZGdldCBsZXQtbW9kYWw+XG4gIDxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICA8aDIgY2xhc3M9XCJtb2RhbC10aXRsZSB2aXN1YWxseS1oaWRkZW5cIiBpZD1cImExMXktbW9kYWwtdGl0bGVcIj5BY2Nlc3NpYmlsaXR5IE9wdGlvbnMgUGFuZWw8L2gyPlxuICAgIDxidXR0b24gY2xhc3M9XCJidG4tY2xvc2VcIiAoY2xpY2spPVwibW9kYWwuZGlzbWlzcygpXCIgdHlwZT1cImJ1dHRvblwiIGFyaWEtbGFiZWw9XCJDbG9zZVwiPjwvYnV0dG9uPlxuICA8L2Rpdj5cbiAgPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjwvZGl2PlxuXG4gIDxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+XG4gICAgPGZvcm0gW2Zvcm1Hcm91cF09XCJmb3JtXCI+XG4gICAgICA8c2VjdGlvbj5cbiAgICAgICAgPCEtLSA8bWF0LWNoZWNrYm94IChjaGFuZ2UpPVwiY2hlY2tib3hWaXN1YWwoJGV2ZW50KVwiPlZpc2lvbjwvbWF0LWNoZWNrYm94PiAtLT5cbiAgICAgICAgPGRpdiBjbGFzcz1cInNlY3Rpb24tdGl0bGVcIj5cbiAgICAgICAgICA8aDI+VmlzaW9uPC9oMj5cbiAgICAgICAgICA8bWF0LXNsaWRlLXRvZ2dsZVxuICAgICAgICAgICAgW2NvbG9yXT1cIidwcmltYXJ5J1wiXG4gICAgICAgICAgICAoY2hhbmdlKT1cInRvZ2dsZVZpc2lvbk9wdGlvbnMoJGV2ZW50KVwiXG4gICAgICAgICAgICBmb3JtQ29udHJvbE5hbWU9XCJ2aXNpb25cIlxuICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkFjdGl2YXRlIGFsbCB2aXNpb24gb3B0aW9uc1wiXG4gICAgICAgICAgICBsYWJlbFBvc2l0aW9uPVwiYmVmb3JlXCJcbiAgICAgICAgICAgID5BY3RpdmF0ZSBhbGw8L21hdC1zbGlkZS10b2dnbGVcbiAgICAgICAgICA+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxwPlxuICAgICAgICAgIFNvbWUgcGVvcGxlIG1heSBmaW5kIGl0ZW1zIG9uIHRoZSBwYWdlIGRpZmZpY3VsdCB0byByZWFkLiBIZXJlIHlvdSBjYW4gaW5jcmVhc2UgdGhlIGZvbnQgc2l6ZSwgbGluZSBzcGFjaW5nLFxuICAgICAgICAgIGFuZCBvdGhlciB2aXN1YWwgc2V0dGluZ3MuXG4gICAgICAgIDwvcD5cblxuICAgICAgICA8ZGl2IGNsYXNzPVwib3B0aW9uc1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJvcHRpb25cIj5cbiAgICAgICAgICAgIDxwIGlkPVwidGV4dC1jb250cmFzdFwiPkluY3JlYXNlIFRleHQgQ29udHJhc3Q8L3A+XG4gICAgICAgICAgICA8bWF0LXNsaWRlLXRvZ2dsZVxuICAgICAgICAgICAgICBbY29sb3JdPVwiJ3ByaW1hcnknXCJcbiAgICAgICAgICAgICAgZm9ybUNvbnRyb2xOYW1lPVwidGV4dENvbnRyYXN0XCJcbiAgICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwidGV4dC1jb250cmFzdFwiXG4gICAgICAgICAgICA+PC9tYXQtc2xpZGUtdG9nZ2xlPlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNyLW9ubHlcIiBpZD1cInRleHRDb250cmFzdEhlbHBcIj5DaGFuZ2UgdGhlIHRleHQgY29sb3IgdG8gYmxhY2sgdG8gaW1wcm92ZSByZWFkYWJpbGl0eS48L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm9wdGlvblwiPlxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZC1ibG9ja1wiIGZvcj1cImExMXktZm9udC1zaXplXCI+Rm9udCBTaXplICh7eyBmb3JtLmNvbnRyb2xzLmZvbnRTaXplLnZhbHVlIH19IHBpeGVscyk8L2xhYmVsPlxuICAgICAgICAgICAgPGlucHV0IGlkPVwiYTExeS1mb250LXNpemVcIiB0eXBlPVwicmFuZ2VcIiBmb3JtQ29udHJvbE5hbWU9XCJmb250U2l6ZVwiIG1pbj1cIjE0XCIgbWF4PVwiMjRcIiBzdGVwPVwiMVwiIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm9wdGlvblwiPlxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZC1ibG9ja1wiIGZvcj1cImxpbmUtaGVpZ2h0XCI+TGluZSBTcGFjaW5nICh7eyBmb3JtLmNvbnRyb2xzLmxpbmVIZWlnaHQudmFsdWUgfX14KTwvbGFiZWw+XG4gICAgICAgICAgICA8aW5wdXQgaWQ9XCJsaW5lLWhlaWdodFwiIHR5cGU9XCJyYW5nZVwiIGZvcm1Db250cm9sTmFtZT1cImxpbmVIZWlnaHRcIiBtaW49XCIxLjVcIiBtYXg9XCIzXCIgc3RlcD1cIjAuMVwiIC8+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8IS0tIDxkaXYgY2xhc3M9XCJvcHRpb24gXCI+XG4gICAgICAgICAgICA8cCBpZD1cImxlZ2libGUtZm9udFwiPkh5cGVybGVnaWJsZSBGb250PC9wPlxuICAgICAgICAgICAgPG1hdC1zbGlkZS10b2dnbGUgZm9ybUNvbnRyb2xOYW1lPVwibGVnaWJsZUZvbnRcIiBhcmlhLWxhYmVsbGVkYnk9XCJsZWdpYmxlLWZvbnRcIiBbY29sb3JdPVwiJ3ByaW1hcnknXCI+PC9tYXQtc2xpZGUtdG9nZ2xlPlxuICAgICAgICAgIDwvZGl2PiAtLT5cblxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJvcHRpb25cIj5cbiAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImQtYmxvY2tcIiBmb3I9XCJ6b29tXCI+Wm9vbSAoe3sgZm9ybS5jb250cm9scy56b29tLnZhbHVlIH19eCk8L2xhYmVsPlxuICAgICAgICAgICAgPGlucHV0IGlkPVwiem9vbVwiIHR5cGU9XCJyYW5nZVwiIGZvcm1Db250cm9sTmFtZT1cInpvb21cIiBtaW49XCIxXCIgbWF4PVwiMlwiIHN0ZXA9XCIwLjFcIiAvPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPCEtLSA8ZGl2IGNsYXNzPVwib3B0aW9uIFwiPlxuICAgICAgICAgICAgPHAgaWQ9XCJoaWdoLXNhdHVyYXRpb25cIj5IaWdoIFNhdHVyYXRpb248L3A+XG4gICAgICAgICAgICA8bWF0LXNsaWRlLXRvZ2dsZSBmb3JtQ29udHJvbE5hbWU9XCJoaWdoU2F0dXJhdGlvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsbGVkYnk9XCJoaWdoLXNhdHVyYXRpb25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2NvbG9yXT1cIidwcmltYXJ5J1wiPjwvbWF0LXNsaWRlLXRvZ2dsZT5cbiAgICAgICAgICA8L2Rpdj4gLS0+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwib3B0aW9uXCI+XG4gICAgICAgICAgICA8cCBpZD1cImRhcmstbW9kZVwiPkRhcmsgTW9kZTwvcD5cbiAgICAgICAgICAgIDxtYXQtc2xpZGUtdG9nZ2xlXG4gICAgICAgICAgICAgIFtjb2xvcl09XCIncHJpbWFyeSdcIlxuICAgICAgICAgICAgICBmb3JtQ29udHJvbE5hbWU9XCJkYXJrTW9kZVwiXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWxsZWRieT1cImRhcmstbW9kZVwiXG4gICAgICAgICAgICA+PC9tYXQtc2xpZGUtdG9nZ2xlPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvc2VjdGlvbj5cblxuICAgICAgPHNlY3Rpb24+XG4gICAgICAgIDwhLS0gPG1hdC1jaGVja2JveCAoY2hhbmdlKT1cImNoZWNrYm94Q29nbml0aXZlKCRldmVudClcIj5Db2duaXRpdmU8L21hdC1jaGVja2JveD4gLS0+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzZWN0aW9uLXRpdGxlXCI+XG4gICAgICAgICAgPGgyPkNvZ25pdGl2ZTwvaDI+XG4gICAgICAgICAgPG1hdC1zbGlkZS10b2dnbGVcbiAgICAgICAgICAgIFtjb2xvcl09XCIncHJpbWFyeSdcIlxuICAgICAgICAgICAgKGNoYW5nZSk9XCJ0b2dnbGVDb2duaXRpdmVPcHRpb25zKCRldmVudClcIlxuICAgICAgICAgICAgZm9ybUNvbnRyb2xOYW1lPVwidmlzaW9uXCJcbiAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJBY3RpdmF0ZSBhbGwgY29nbml0aXZlIG9wdGlvbnNcIlxuICAgICAgICAgICAgbGFiZWxQb3NpdGlvbj1cImJlZm9yZVwiXG4gICAgICAgICAgICA+QWN0aXZhdGUgYWxsPC9tYXQtc2xpZGUtdG9nZ2xlXG4gICAgICAgICAgPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8cD5cbiAgICAgICAgICBJZiB0aGUgY29udGVudCBvbiB0aGUgcGFnZSBpcyBoYXJkIHRvIHNvcnQgb3V0IGZvciB5b3UsIHlvdSBjYW4gaGlnaGxpZ2h0IGhlYWRlcnMsIGxpbmtzLCBhbmQgZXZlbiB1c2UgYSBmb250XG4gICAgICAgICAgZGVzaWduZWQgdG8gYWlkIHBlb3BsZSB3aXRoIGR5c2xleGlhLlxuICAgICAgICA8L3A+XG5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm9wdGlvbnNcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwib3B0aW9uXCI+XG4gICAgICAgICAgICA8cCBpZD1cInNob3ctaGVhZGluZ3NcIj5TaG93IEhlYWRpbmdzPC9wPlxuICAgICAgICAgICAgPG1hdC1zbGlkZS10b2dnbGVcbiAgICAgICAgICAgICAgW2NvbG9yXT1cIidwcmltYXJ5J1wiXG4gICAgICAgICAgICAgIGZvcm1Db250cm9sTmFtZT1cInNob3dIZWFkaW5nc1wiXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJzaG93LWhlYWRpbmdzXCJcbiAgICAgICAgICAgID48L21hdC1zbGlkZS10b2dnbGU+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwib3B0aW9uXCI+XG4gICAgICAgICAgICA8cCBpZD1cInNob3ctbGlua3NcIj5TaG93IExpbmtzPC9wPlxuICAgICAgICAgICAgPG1hdC1zbGlkZS10b2dnbGVcbiAgICAgICAgICAgICAgW2NvbG9yXT1cIidwcmltYXJ5J1wiXG4gICAgICAgICAgICAgIGZvcm1Db250cm9sTmFtZT1cInNob3dMaW5rc1wiXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWxsZWRieT1cInNob3ctbGlua3NcIlxuICAgICAgICAgICAgPjwvbWF0LXNsaWRlLXRvZ2dsZT5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJvcHRpb25cIj5cbiAgICAgICAgICAgIDxwIGlkPVwiZHlzbGV4aWFcIj5EeXNsZXhpYS1mcmllbmRseSBmb250PC9wPlxuICAgICAgICAgICAgPG1hdC1zbGlkZS10b2dnbGVcbiAgICAgICAgICAgICAgW2NvbG9yXT1cIidwcmltYXJ5J1wiXG4gICAgICAgICAgICAgIGZvcm1Db250cm9sTmFtZT1cImR5c2xleGlhXCJcbiAgICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwiZHlzbGV4aWFcIlxuICAgICAgICAgICAgPjwvbWF0LXNsaWRlLXRvZ2dsZT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L3NlY3Rpb24+XG5cbiAgICAgIDwhLS0gPHNlY3Rpb24+XG5cbiAgICAgICAgPGRpdiBjbGFzcz1cInNlY3Rpb24tdGl0bGVcIj5cbiAgICAgICAgICA8aDI+U2VpenVyZXM8L2gyPlxuICAgICAgICAgIDxtYXQtc2xpZGUtdG9nZ2xlIGZvcm1Db250cm9sTmFtZT1cInZpc2lvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkFjdGl2YXRlIGFsbCBsaW1pdCBkaXN0cmFjdGlvbnMgb3B0aW9uc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW2NvbG9yXT1cIidwcmltYXJ5J1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNoYW5nZSk9XCJ0b2dnbGVMaW1pdERpc3RyYXRpb25zKCRldmVudClcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsUG9zaXRpb249XCJiZWZvcmVcIj5BY3RpdmF0ZSBhbGwgPC9tYXQtc2xpZGUtdG9nZ2xlPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8cD5Tb21lIHBlb3BsZSBtaWdodCBmaW5kIGFuaW1hdGlvbnMgb3IgYnJpZ2h0IGNvbG9yIGNvbnRyYXN0IGRpc3RyYWN0aW5nIG9yIGFubm95aW5nLjwvcD5cblxuICAgICAgICA8ZGl2IGNsYXNzPVwib3B0aW9uc1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJvcHRpb25cIj5cbiAgICAgICAgICAgIDxwIGlkPVwibG93LWNvbnRyYXN0XCI+UmVkdWNlIFNhdHVyYXRpb248L3A+XG4gICAgICAgICAgICA8bWF0LXNsaWRlLXRvZ2dsZSBmb3JtQ29udHJvbE5hbWU9XCJsb3dDb250cmFzdFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsbGVkYnk9XCJsb3ctY29udHJhc3RcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2NvbG9yXT1cIidwcmltYXJ5J1wiPjwvbWF0LXNsaWRlLXRvZ2dsZT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwib3B0aW9uXCI+XG4gICAgICAgICAgICA8cCBpZD1cImFuaW1hdGlvblwiPlN0b3AgQW5pbWF0aW9uczwvcD5cbiAgICAgICAgICAgIDxtYXQtc2xpZGUtdG9nZ2xlIGZvcm1Db250cm9sTmFtZT1cImFuaW1hdGlvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsbGVkYnk9XCJhbmltYXRpb25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2NvbG9yXT1cIidwcmltYXJ5J1wiPjwvbWF0LXNsaWRlLXRvZ2dsZT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L3NlY3Rpb24+IC0tPlxuICAgIDwvZm9ybT5cbiAgPC9kaXY+XG4gIDwhLS0gPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPlxuICAgIDxidXR0b25cbiAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtZGFya1wiXG4gICAgICAoY2xpY2spPVwibW9kYWwuY2xvc2UoKVwiXG4gICAgPkRvbmU8L2J1dHRvbj5cbiAgPC9kaXY+IC0tPlxuPC9uZy10ZW1wbGF0ZT5cbiJdfQ==