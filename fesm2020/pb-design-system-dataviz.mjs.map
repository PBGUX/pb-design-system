{"version":3,"file":"pb-design-system-dataviz.mjs","sources":["../../../projects/pb-design-system/dataviz/dataviz.service.ts","../../../projects/pb-design-system/dataviz/dataviz-pie.component.ts","../../../projects/pb-design-system/dataviz/dataviz-bar.component.ts","../../../projects/pb-design-system/dataviz/dataviz-line.component.ts","../../../projects/pb-design-system/dataviz/dataviz-gauge.component.ts","../../../projects/pb-design-system/dataviz/dataviz-sparkline.component.ts","../../../projects/pb-design-system/dataviz/dataviz-bar-stacked.component.ts","../../../projects/pb-design-system/dataviz/dataviz-metric-indicator.component.ts","../../../projects/pb-design-system/dataviz/dataviz-metric-block.component.ts","../../../projects/pb-design-system/dataviz/dataviz-bubble-map.component.ts","../../../projects/pb-design-system/dataviz/dataviz-heatmap.component.ts","../../../projects/pb-design-system/dataviz/dataviz-choropleth-map.component.ts","../../../projects/pb-design-system/dataviz/dataviz-bar-grouped.component.ts","../../../projects/pb-design-system/dataviz/dataviz-bar-single-horizontal.component.ts","../../../projects/pb-design-system/dataviz/dataviz-scatterplot.component.ts","../../../projects/pb-design-system/dataviz/dataviz-bar-stacked-annotations.directive.ts","../../../projects/pb-design-system/dataviz/dataviz-line-annotations.directive.ts","../../../projects/pb-design-system/dataviz/dataviz-bar-grouped-annotations.directive.ts","../../../projects/pb-design-system/dataviz/dataviz-bar-annotations.directive.ts","../../../projects/pb-design-system/dataviz/dataviz.module.ts","../../../projects/pb-design-system/dataviz/public_api.ts","../../../projects/pb-design-system/dataviz/pb-design-system-dataviz.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\nimport { format as d3_format, timeFormat as d3_timeFormat } from 'd3';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PbdsDatavizService {\n  private colors = {\n    classic: {\n      full: [\n        '#B70077',\n        '#0384D4',\n        '#EE6B0B',\n        '#A319B1',\n        '#11A611',\n        '#1BB9FF',\n        '#495A9C',\n        '#EDB700',\n        '#8B98C8',\n        '#E6C49C',\n        '#CCB8CE',\n        '#9B9B9B'\n      ],\n      mono: ['#001D56', '#003296', '#4B74C5', '#89A1D0', '#A3BCEE', '#C9D7F3'] // blue\n    },\n    twilight: {\n      full: [\n        '#A319B1',\n        '#11A611',\n        '#1BB9FF',\n        '#EE6B0B',\n        '#B70077',\n        '#0384D4',\n        '#495A9C',\n        '#EDB700',\n        '#8B98C8',\n        '#E6C49C',\n        '#CCB8CE',\n        '#9B9B9B'\n      ],\n      mono: ['#05395C', '#0A5B92', '#0072B8', '#5DA9DC', '#A5D4F3', '#D1EDFF'] // light blue\n    },\n    ocean: {\n      full: [\n        '#0384D4',\n        '#B70077',\n        '#1BB9FF',\n        '#495A9C',\n        '#EDB700',\n        '#A319B1',\n        '#EE6B0B',\n        '#11A611',\n        '#8B98C8',\n        '#E6C49C',\n        '#CCB8CE',\n        '#9B9B9B'\n      ],\n      mono: ['#394B4D', '#3A6B6E', '#14767D', '#99BFC2', '#C9E6E8', '#DEECED'] // blue-green\n    },\n    sunset: {\n      full: [\n        '#B70077',\n        '#EE6B0B',\n        '#1BB9FF',\n        '#EDB700',\n        '#11A611',\n        '#A319B1',\n        '#0384D4',\n        '#CCB8CE',\n        '#495A9C',\n        '#E6C49C',\n        '#8B98C8',\n        '#9B9B9B'\n      ],\n      mono: ['#31254A', '#50248F', '#7945C4', '#9A79E2', '#C4A8FF', '#D9C7FF'] // purple\n    }\n  };\n\n  constructor() {}\n\n  getColors = (mono = false, theme = 'classic') => {\n    return mono ? this.colors[theme].mono : this.colors[theme].full;\n  };\n\n  createGradientDefs = (svg, mono = false, theme = 'classic', vertical = true) => {\n    const colors = mono ? [this.colors[theme].mono[2]] : this.colors[theme].full;\n\n    for (let i = 0; i < colors.length; i++) {\n      const color = mono ? this.colors[theme].mono[2] : this.colors[theme].full[i];\n      let gradient;\n\n      if (vertical) {\n        gradient = svg\n          .append('defs')\n          .append('linearGradient')\n          .attr('id', `gradient-${color.replace('#', '')}`)\n          .attr('x1', '0')\n          .attr('y1', '0')\n          .attr('x2', '0')\n          .attr('y2', '1')\n          .attr('spreadMethod', 'pad');\n\n        gradient\n          .append('stop')\n          .attr('offset', '0%')\n          .attr('stop-color', color)\n          .attr('stop-opacity', '1'); // top of bar will be full opacity\n\n        gradient\n          .append('stop')\n          .attr('offset', '100%')\n          .attr('stop-color', color)\n          .attr('stop-opacity', '.3'); // bottom of bar will be .3 opacity\n      } else {\n        gradient = svg\n          .append('defs')\n          .append('linearGradient')\n          .attr('id', `gradient-horizontal-${color.replace('#', '')}`)\n          .attr('x1', '1')\n          .attr('y1', '0')\n          .attr('x2', '0')\n          .attr('y2', '0')\n          .attr('spreadMethod', 'pad');\n\n        gradient\n          .append('stop')\n          .attr('offset', '0%')\n          .attr('stop-color', color)\n          .attr('stop-opacity', '1'); // top of bar will be full opacity\n\n        gradient\n          .append('stop')\n          .attr('offset', '100%')\n          .attr('stop-color', color)\n          .attr('stop-opacity', '.3'); // bottom of bar will be .3 opacity\n      }\n    }\n\n    return colors;\n  };\n\n  createGlowFilter = svg => {\n    // add a new definition\n    const glow = svg\n      .append('defs')\n      .append('filter')\n      .attr('id', 'glow')\n      .attr('width', '200%')\n      .attr('height', '200%');\n\n    glow\n      .append('feGaussianBlur')\n      .attr('in', 'SourceGraphic')\n      .attr('stdDeviation', 4);\n\n    // build two dropshadows with different intensities\n    const feOffsets = [\n      {\n        dy: 2,\n        slope: 0.2\n      },\n      {\n        dy: 5,\n        slope: 0.05\n      }\n    ];\n\n    for (let i = 0; i < feOffsets.length; i++) {\n      glow\n        .append('feOffset')\n        .attr('result', 'offsetBlur' + i)\n        .attr('dx', 0)\n        .attr('dy', feOffsets[i].dy);\n    }\n\n    for (let y = 0; y < feOffsets.length; y++) {\n      glow\n        .append('feComponentTransfer')\n        .attr('result', 'coloredBlur' + y)\n        .attr('in', 'offsetBlur' + y)\n        .append('feFuncA')\n        .attr('type', 'linear')\n        .attr('slope', feOffsets[y].slope);\n    }\n\n    const merge = glow.append('feMerge');\n\n    merge.append('feMergeNode').attr('in', 'SourceGraphic');\n\n    for (let x = 0; x < feOffsets.length; x++) {\n      merge.append('feMergeNode').attr('in', 'coloredBlur' + x);\n    }\n  };\n\n  d3Format(type: string, string: string) {\n    let format;\n\n    switch (type) {\n      case 'number':\n        format = d3_format(string);\n        break;\n      case 'time':\n        format = d3_timeFormat(string);\n        break;\n      default:\n        format = null;\n        break;\n    }\n\n    return format;\n  }\n}\n","import {\n  Component,\n  OnInit,\n  Input,\n  ElementRef,\n  HostBinding,\n  OnChanges,\n  SimpleChanges,\n  Output,\n  EventEmitter,\n  ChangeDetectionStrategy,\n  OnDestroy\n} from '@angular/core';\n\nimport { select as d3_select, pointer as d3_pointer } from 'd3-selection';\nimport { scaleOrdinal as d3_scaleOrdinal } from 'd3-scale';\nimport { pie as d3_pie, arc as d3_arc } from 'd3-shape';\nimport { interpolate as d3_interpolate } from 'd3-interpolate';\nimport { format as d3_format } from 'd3-format';\nimport { isoParse as d3_isoParse } from 'd3-time-format';\n\nimport { PbdsDatavizService } from './dataviz.service';\nimport { PbdsDatavizPie } from './dataviz.interfaces';\n\n@Component({\n  selector: 'pbds-dataviz-pie',\n  template: ``,\n  styleUrls: [],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class PbdsDatavizPieComponent implements OnInit, OnChanges, OnDestroy {\n  @HostBinding('class.pbds-chart')\n  chartClass = true;\n\n  @HostBinding('class.pbds-chart-pie')\n  pieClass = true;\n\n  @Input()\n  data: Array<PbdsDatavizPie>;\n\n  @Input()\n  width = 300;\n\n  @Input()\n  type: 'pie' | 'donut' = 'pie';\n\n  @Input()\n  monochrome = false;\n\n  @Input()\n  legendLabelFormatType: 'time' = null;\n\n  @Input()\n  legendLabelFormatString = '';\n\n  @Input()\n  legendValueFormatString = '';\n\n  @Input()\n  tooltipLabelFormatType: 'time' = null;\n\n  @Input()\n  tooltipLabelFormatString = '';\n\n  @Input()\n  tooltipLabelSuffix = '';\n\n  @Input()\n  tooltipValueFormatString = '';\n\n  @Input()\n  theme;\n\n  @Input()\n  customColor :boolean = false;\n\n  @Input()\n  colorsArray=[];\n\n  @Output()\n  hovered: EventEmitter<any> = new EventEmitter<any>();\n\n  @Output()\n  clicked: EventEmitter<any> = new EventEmitter<any>();\n\n  private currentData = [];\n  private height;\n  private chart;\n  private margin;\n  private colors;\n  private colorRange;\n  private arc;\n  private arcZoom;\n  private svg;\n  private pie;\n  private legendLabelFormat;\n  private legendValueFormat;\n  private innerRadius;\n  private anglePad;\n  private outerRadius;\n  private tooltip;\n  private tooltipLabelFormat;\n  private tooltipValueFormat;\n\n  constructor(private _dataviz: PbdsDatavizService, private _element: ElementRef) {}\n\n  ngOnInit() {\n    this.margin = { top: 10, right: 10, bottom: 10, left: 10 };\n    this.width = this.width - this.margin.left - this.margin.right;\n    this.height = this.width - this.margin.top - this.margin.bottom;\n    this.colors = (this.customColor && !this.monochrome) ? this.colorsArray : this._dataviz.getColors(this.monochrome, this.theme);\n    this.innerRadius = Math.min(this.width, this.height) / 2.5;\n    this.outerRadius = Math.min(this.width, this.height) / 2;\n    this.arcZoom = 10;\n    this.anglePad = 0.02;\n    this.legendValueFormat = d3_format(this.legendValueFormatString);\n    this.tooltipValueFormat = d3_format(this.tooltipValueFormatString);\n\n    // create formatters\n    this.legendLabelFormat = this._dataviz.d3Format(this.legendLabelFormatType, this.legendLabelFormatString);\n    this.tooltipLabelFormat = this._dataviz.d3Format(this.tooltipLabelFormatType, this.tooltipLabelFormatString);\n\n    this.colorRange = d3_scaleOrdinal()\n      .range(this.colors)\n      .domain(this.data.map((c) => c.label));\n\n    if (this.type === 'pie') {\n      this.innerRadius = 0;\n      this.anglePad = 0;\n    }\n\n    this.pie = d3_pie()\n      .padAngle(this.anglePad)\n      .value((d: any) => d.value)\n      .sort(null);\n\n    this.arc = d3_arc().padRadius(this.outerRadius).innerRadius(this.innerRadius);\n\n    this.chart = d3_select(this._element.nativeElement).attr('aria-hidden', 'true');\n\n    this.svg = this.chart\n      .append('svg')\n      .attr('width', this.width)\n      .attr('height', this.height)\n      .attr('class', 'img-fluid')\n      .attr('preserveAspectRatio', 'xMinYMin meet')\n      .attr(\n        'viewBox',\n        `-${this.width / 2 + this.margin.left} -${this.height / 2 + this.margin.top} ${\n          this.width + this.margin.left + this.margin.right\n        } ${this.height + this.margin.top + this.margin.bottom}`\n      );\n\n    this.chart.append('ul').attr('class', 'legend legend-right');\n\n    this.tooltip = this.chart\n      .append('div')\n      .style('opacity', 0)\n      .attr('class', 'pbds-tooltip')\n      .attr('aria-hidden', 'true');\n\n    this.updateChart();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.data && !changes.data.firstChange) {\n      this.updateChart(false);\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.tooltip) this.tooltip.remove();\n  }\n\n  updateChart = (firstRun = true) => {\n    // slices\n    this.svg\n      .selectAll('path')\n      .data(this.pie(this.data))\n      .join(\n        (enter) => {\n          const path = enter.append('path');\n\n          path\n            .each((d: any) => (d.outerRadius = this.outerRadius))\n            .attr('fill', (d: any) => this.colorRange(d.data.label))\n            .attr('class', 'slice')\n            .each((d, i, nodes) => {\n              // save the current data to be used in arc update tween\n              this.currentData.splice(i, 1, d);\n            });\n\n          if (this.type === 'pie') {\n            path.style('stroke', '#fff').style('stroke-width', 2).style('stroke-alignment', 'inner');\n          }\n\n          path.call((path) =>\n            path\n              .transition()\n              .delay(500)\n              .duration((d, i, n) => (firstRun ? 0 : 500))\n              .attrTween('d', this.arcEnterTween)\n          );\n\n          return path;\n        },\n        (update) => {\n          this.tooltipHide();\n\n          update.each((d: any) => {\n            return (d.outerRadius = this.outerRadius);\n          });\n\n          update.transition().duration(500).attrTween('d', this.arcUpdateTween);\n\n          return update;\n        },\n        (exit) => exit.remove()\n      )\n      .on('mouseover', (event, data) => {\n        this.pathMouseOver(event, data);\n        this.tooltipShow(event, data);\n      })\n      .on('mousemove', (event, data) => {\n        this.tooltipShow(event, data);\n        // this.tooltipMove(event, data);\n        this.tooltipMove(event, this.chart.node());\n      })\n      .on('mouseout', (event, data) => {\n        this.pathMouseOut(event, data);\n        this.tooltipHide();\n      })\n      .on('click', (event, data) => {\n        this.pathClick(event, data);\n      });\n\n    // legend\n    this.chart\n      .select('.legend')\n      .selectAll('.legend-item')\n      .data(this.data)\n      .join(\n        (enter) => {\n          const li = enter.append('li').attr('class', 'legend-item');\n\n          li.append('span')\n            .attr('class', 'legend-key')\n            .style('background-color', (d: any) => this.colorRange(d.label));\n\n          const description = li.append('span').attr('class', 'legend-description');\n\n          description\n            .append('span')\n            .attr('class', 'legend-label')\n            .html((d: any) => {\n              switch (this.legendLabelFormatType) {\n                case 'time':\n                  const parsedTime = d3_isoParse(d.label);\n                  return this.legendLabelFormat(parsedTime);\n\n                default:\n                  return d.label;\n              }\n            });\n\n          description\n            .append('span')\n            .attr('class', 'legend-value')\n            .html((d: any) => this.legendValueFormat(d.value));\n\n          return li;\n        },\n        (update) => {\n          update.selectAll('.legend-key').style('background-color', (d: any) => this.colorRange(d.label));\n\n          update.select('.legend-label').html((d: any) => {\n            switch (this.legendLabelFormatType) {\n              case 'time':\n                const parsedTime = d3_isoParse(d.label);\n                return this.legendLabelFormat(parsedTime);\n\n              default:\n                return d.label;\n            }\n          });\n\n          update.select('.legend-value').html((d: any) => this.legendValueFormat(d.value));\n\n          return update;\n        },\n        (exit) => exit.remove()\n      )\n      .datum((d, i) => {\n        return { data: d, index: i };\n      })\n      .on('mouseover focus', (event, data) => {\n        this.legendMouseOverFocus(event, data);\n        this.pathMouseOver(event, data);\n      })\n      .on('mouseout blur', (event, data) => {\n        this.legendMouseOutBlur(event, data);\n        this.pathMouseOut(event, data);\n      })\n      .on('click', (event, data) => {\n        this.clicked.emit({ event: event, data: data.data });\n      });\n  };\n\n  private arcEnterTween = (data) => {\n    const i = d3_interpolate(data.startAngle, data.endAngle);\n    return (t) => {\n      data.endAngle = i(t);\n      return this.arc(data);\n    };\n  };\n\n  // see https://bl.ocks.org/HarryStevens/e1acaf628b1693f1b32e5f2e1a7f73fb\n  private arcUpdateTween = (data, index, n) => {\n    const interpolate = d3_interpolate(this.currentData[index], data);\n\n    // update the current data for this slice\n    this.currentData[index] = interpolate(0);\n\n    return (t) => {\n      return this.arc(interpolate(t));\n    };\n  };\n\n  private arcMouseOverTween = (data) => {\n    const i = d3_interpolate(data.outerRadius, this.outerRadius + this.arcZoom);\n\n    return (t) => {\n      data.outerRadius = i(t);\n      return this.arc(data);\n    };\n  };\n\n  private arcMouseOutTween = (data) => {\n    // debugger;\n    const i = d3_interpolate(data.outerRadius, this.outerRadius);\n    return (t) => {\n      data.outerRadius = i(t);\n      return this.arc(data);\n    };\n  };\n\n  private legendMouseOverFocus = (event, data) => {\n    this.chart\n      .selectAll('.legend-item')\n      .filter((d, i) => {\n        return `${d.label}` !== `${data.label}`;\n      })\n      .classed('inactive', true);\n  };\n\n  private legendMouseOutBlur = (event, data) => {\n    this.chart.selectAll('.legend-item').classed('inactive', false);\n  };\n\n  private pathMouseOver = (event, data) => {\n    // console.log(data);\n\n    const slices = this.chart.selectAll('.slice');\n    const slice = slices.filter((d, i) => i === data.index);\n\n    this.chart\n      .selectAll('.legend-item')\n      .filter((d, i) => i !== data.index)\n      .classed('inactive', true);\n\n    slices.filter((d, i) => i !== data.index).classed('inactive', true);\n\n    slice.transition().duration(300).delay(0).attrTween('d', this.arcMouseOverTween);\n\n    this.hovered.emit({\n      event: event,\n      data: data.data ? data.data : data // legend hover data is different than slice hover data\n    });\n  };\n\n  private pathMouseOut = (event, data) => {\n    const slices = this.chart.selectAll('.slice');\n    const slice = slices.filter((d, i) => d.label === data.label);\n\n    this.chart.selectAll('.legend-item').classed('inactive', false);\n\n    slices.classed('inactive', false);\n\n    slice.transition().duration(300).delay(0).attrTween('d', this.arcMouseOutTween);\n  };\n\n  private pathClick = (event, data) => {\n    this.clicked.emit({\n      event: event,\n      data: data.data\n    });\n  };\n\n  private tooltipShow = (event, data) => {\n    // debugger;\n    this.tooltipSetPosition(event);\n\n    const percentage = (data.endAngle - data.startAngle) / (2 * Math.PI);\n    let label;\n\n    switch (this.tooltipLabelFormatType) {\n      case 'time':\n        const parsedTime = d3_isoParse(data.data.label);\n        label = `${this.tooltipLabelFormat(parsedTime)}${this.tooltipLabelSuffix}`;\n        break;\n\n      default:\n        label = `${data.data.label}${this.tooltipLabelSuffix}`;\n    }\n\n    this.tooltip.html(\n      `\n        <div class=\"tooltip-label\">${label}</div>\n        <div class=\"tooltip-value\">${this.tooltipValueFormat(percentage)}</div>\n      `\n    );\n\n    this.tooltip.style('opacity', 1);\n  };\n\n  private tooltipMove = (event, node) => {\n    this.tooltipSetPosition(event, node);\n  };\n\n  private tooltipHide = () => {\n    this.tooltip.style('opacity', 0);\n  };\n\n  private tooltipSetPosition = (event, node?) => {\n    // debugger;\n    const coordinates = d3_pointer(event, node);\n\n    this.tooltip.style('left', `${coordinates[0] + 16}px`);\n    this.tooltip.style('top', `${coordinates[1] + 16}px`);\n  };\n}\n","import {\n  Component,\n  OnInit,\n  OnChanges,\n  Input,\n  Output,\n  EventEmitter,\n  ElementRef,\n  HostBinding,\n  OnDestroy,\n  SimpleChanges,\n  ChangeDetectionStrategy\n} from '@angular/core';\n\nimport { ViewportScroller, Location } from '@angular/common';\n\nimport { select as d3_select } from 'd3-selection';\nimport { scaleOrdinal as d3_scaleOrdinal, scaleLinear as d3_scaleLinear, scaleBand as d3_scaleBand } from 'd3-scale';\nimport { min as d3_min, max as d3_max } from 'd3-array';\nimport { axisBottom as d3_axisBottom, axisLeft as d3_axisLeft } from 'd3-axis';\nimport { isoParse as d3_isoParse } from 'd3-time-format';\n\nimport { PbdsDatavizService } from './dataviz.service';\nimport { PbdsDatavizBar } from './dataviz.interfaces';\n\n@Component({\n  selector: 'pbds-dataviz-bar',\n  template: ``,\n  styles: [],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class PbdsDatavizBarComponent implements OnInit, OnDestroy, OnChanges {\n  @HostBinding('class.pbds-chart')\n  chartClass = true;\n\n  @HostBinding('class.pbds-chart-bar')\n  barClass = true;\n\n  @Input()\n  data: PbdsDatavizBar[];\n\n  @Input()\n  width = 306;\n\n  @Input()\n  height = 400;\n\n  @Input()\n  type: 'low' | 'medium' | 'high' | 'debug' = 'medium'; // debug to show all chart options\n\n  @Input()\n  singleSeries = false;\n\n  @Input()\n  xAxisFormatType: 'number' | 'time' = null;\n\n  @Input()\n  xAxisFormatString = '';\n\n  @Input()\n  xAxisTitle: string | null = null;\n\n  @Input()\n  yAxisFormatType: 'number' | 'time' = null;\n\n  @Input()\n  yAxisFormatString = '';\n\n  @Input()\n  yAxisTicks = 5;\n\n  @Input()\n  yAxisMinBuffer = 0.01;\n\n  @Input()\n  yAxisMaxBuffer = 0.01;\n\n  @Input()\n  hideLegend = false;\n\n  @Input()\n  legendWidth = 105 + 28; // hardcoded legend width + left margin, do not document until feedback\n\n  @Input()\n  legendPosition: 'right' | 'bottom' = 'right';\n\n  @Input()\n  legendLabelFormatType: 'number' | 'time' = null;\n\n  @Input()\n  legendLabelFormatString = '';\n\n  @Input()\n  tooltipLabelFormatType: 'number' | 'time' = null;\n\n  @Input()\n  tooltipLabelFormatString = '';\n\n  @Input()\n  tooltipLabelSuffix = '';\n\n  @Input()\n  hideTooltipLabel: boolean = true;\n\n  @Input()\n  tooltipValueFormatType: 'number' | 'time' = null;\n\n  @Input()\n  tooltipValueFormatString = '';\n\n  @Input()\n  marginTop = 10; // hardcoded on purpose, do not document until feedback\n\n  @Input()\n  marginRight = 0; // hardcoded on purpose, do not document until feedback\n\n  @Input()\n  marginBottom = 30; // hardcoded on purpose, do not document until feedback\n\n  @Input()\n  marginLeft = 55; // hardcoded on purpose, do not document until feedback\n\n  @Input()\n  threshold = null;\n\n  @Input()\n  thresholdLabel = 'Threshold';\n\n  @Input()\n  average = null;\n\n  @Input()\n  averageLabel = 'Average';\n\n  @Input()\n  theme;\n\n  @Input() gradient = true;\n\n  @Output()\n  hovered: EventEmitter<object> = new EventEmitter<object>();\n\n  @Output()\n  clicked: EventEmitter<object> = new EventEmitter<object>();\n\n  private chart;\n  private svg;\n  private margin;\n  private colorRange;\n  private hideGrayBars: boolean;\n  private yThreshold;\n  private yAverage;\n  private xAxisScale;\n  private xAxisCall;\n  private xAxis;\n  private xAxisFormat;\n  private xAxisTitleMargin: number;\n  private yAxisScale;\n  private yAxisCall;\n  private yAxis;\n  private yAxisFormat;\n  private xGrid;\n  private xGridCall;\n  private yGrid;\n  private yGridCall;\n  private xAxisTickSize: number;\n  private xAxisTickSizeOuter: number;\n  private yAxisTickSize: number;\n  private yAxisTickSizeOuter: number;\n  private hideXAxis: boolean;\n  private hideYAxis: boolean;\n  private hideXAxisDomain: boolean;\n  private hideYAxisDomain: boolean;\n  private hideXAxisZero: boolean;\n  private hideYAxisZero: boolean;\n  private hideXGrid: boolean;\n  private hideYGrid: boolean;\n  private hideXAxisTicks: boolean;\n  private hideYAxisTicks: boolean;\n  private legendLabelFormat;\n  private tooltip;\n  private hideTooltip: boolean;\n  private tooltipValueFormat;\n  private tooltipLabelFormat;\n\n  constructor(\n    private _dataviz: PbdsDatavizService,\n    private _element: ElementRef,\n    private _scroll: ViewportScroller,\n    private _location: Location\n  ) {}\n\n  ngOnInit() {\n    this.margin = {\n      top: +this.marginTop,\n      right: +this.marginRight,\n      bottom: +this.marginBottom,\n      left: +this.marginLeft\n    };\n\n    // create formatters\n    this.xAxisFormat = this._dataviz.d3Format(this.xAxisFormatType, this.xAxisFormatString);\n    this.yAxisFormat = this._dataviz.d3Format(this.yAxisFormatType, this.yAxisFormatString);\n    this.legendLabelFormat = this._dataviz.d3Format(this.legendLabelFormatType, this.legendLabelFormatString);\n    this.tooltipLabelFormat = this._dataviz.d3Format(this.tooltipLabelFormatType, this.tooltipLabelFormatString);\n    this.tooltipValueFormat = this._dataviz.d3Format(this.tooltipValueFormatType, this.tooltipValueFormatString);\n\n    // defaults for all chart types\n    this.hideGrayBars = false;\n    this.hideXAxis = false;\n    this.hideYAxis = false;\n    this.hideXAxisZero = false;\n    this.hideYAxisZero = false;\n    this.hideXGrid = false;\n    this.hideYGrid = false;\n    this.hideXAxisDomain = false;\n    this.hideYAxisDomain = false;\n    this.hideTooltip = false;\n    this.hideXAxisTicks = false;\n    this.hideYAxisTicks = false;\n    this.xAxisTickSize = 8;\n    this.xAxisTickSizeOuter = 0;\n    this.yAxisTickSize = 8;\n    this.yAxisTickSizeOuter = 0;\n\n    if (this.type !== 'debug') {\n      // set type defaults\n      switch (this.type) {\n        case 'low':\n          this.hideGrayBars = true;\n          this.hideXAxis = !this.hideLegend;\n          this.hideXAxisTicks = true;\n          this.hideXGrid = true;\n          this.hideYAxisDomain = false;\n          this.hideYAxisTicks = true;\n          this.legendPosition = 'bottom';\n          break;\n\n        case 'medium':\n          this.hideXAxisDomain = true;\n          this.hideXAxis = !this.hideLegend;\n          this.hideXGrid = true;\n          this.hideXAxisTicks = true;\n          this.hideYAxisDomain = true;\n          this.hideYAxisTicks = true;\n          this.hideYGrid = true;\n          break;\n\n        case 'high':\n          this.hideXAxis = true;\n          this.hideXAxisDomain = true;\n          this.hideXGrid = true;\n          this.hideYAxisDomain = true;\n          this.hideYAxisTicks = true;\n          this.hideYGrid = true;\n          this.hideLegend = true;\n          this.hideTooltipLabel = false;\n          break;\n      }\n\n      // single series overrides\n      if (this.singleSeries) {\n        this.hideLegend = true;\n        this.hideXAxis = true;\n        this.hideXGrid = true;\n        this.hideTooltipLabel = false;\n      }\n\n      this.xAxisTitleMargin = this.xAxisTitle ? 30 : 0;\n    }\n\n    // adjust margin if xAxis hidden\n    if (this.hideXAxis) this.margin.bottom = 10; // need small margin for yAxis with 0 tick label\n\n    if (!this.hideLegend && this.legendPosition === 'right') {\n      this.width = +this.width - +this.legendWidth;\n    }\n\n    // create the chart\n    this.chart = d3_select(this._element.nativeElement).attr('aria-hidden', 'true');\n\n    // create chart svg\n    this.svg = this.chart\n      .append('svg')\n      .attr('width', +this.width)\n      .attr('height', +this.height + this.margin.top + this.margin.bottom + this.xAxisTitleMargin)\n      .attr('class', 'img-fluid')\n      .attr('preserveAspectRatio', 'xMinYMin meet')\n      .attr(\n        'viewBox',\n        `-${this.margin.left} -${this.margin.top} ${+this.width} ${\n          +this.height + this.margin.top + this.margin.bottom + this.xAxisTitleMargin\n        }`\n      );\n\n    // build color ranges\n    this.colorRange = d3_scaleOrdinal().range(\n      this._dataviz.createGradientDefs(this.svg, this.singleSeries, this.theme)\n    );\n\n    // X AXIS\n    this.xAxisScale = d3_scaleBand()\n      .domain(this.data.map((d) => d.label))\n      .rangeRound([0, this.width - this.margin.left])\n      .align(0);\n\n    // add padding to the scale for gray bars\n    !this.hideGrayBars\n      ? this.xAxisScale.paddingInner(0.1).paddingOuter(0)\n      : this.xAxisScale.paddingInner(0).paddingOuter(0);\n\n    this.xAxisCall = d3_axisBottom(this.xAxisScale)\n      .tickSize(this.xAxisTickSize)\n      .tickSizeOuter(this.xAxisTickSizeOuter)\n      .tickFormat(this.xAxisFormatter);\n\n    this.xAxis = this.svg\n      .append('g')\n      .attr('class', 'axis axis-x')\n      .attr('transform', `translate(0, ${this.height})`)\n      .classed('axis-hidden', this.hideXAxis)\n      .classed('axis-zero-hidden', this.hideXAxisZero)\n      .classed('axis-domain-hidden', this.hideXAxisDomain)\n      .classed('axis-ticks-hidden', this.hideXAxisTicks)\n      .call(this.xAxisCall);\n\n    // X GRIDLINES\n    if (!this.hideXGrid) {\n      this.xGridCall = d3_axisBottom(this.xAxisScale).tickSize(-this.height);\n\n      this.xGrid = this.svg\n        .append('g')\n        .attr('class', 'grid grid-x')\n        .classed('grid-zero-hidden', this.hideXAxisZero)\n        .attr('transform', `translate(0, ${this.height})`)\n        .call(this.xGridCall);\n    }\n\n    // X AXIS TITLE\n    if (this.xAxisTitle) {\n      this.svg\n        .append('text')\n        .attr('class', 'axis-title')\n        .attr('text-anchor', 'middle')\n        .attr(\n          'transform',\n          `translate(${this.svg.attr('width') / 2 - this.margin.left / 2 - this.margin.right / 2}, ${\n            this.height + this.margin.top + (this.hideXAxis ? 20 : 40)\n          })`\n        )\n        .text(this.xAxisTitle);\n    }\n\n    // Y AXIS\n    this.yAxisScale = d3_scaleLinear()\n      .domain([\n        d3_min(this.data, (d) => d.value - d.value * +this.yAxisMinBuffer),\n        d3_max(this.data, (d) => d.value + d.value * +this.yAxisMaxBuffer)\n      ])\n      .nice()\n      .rangeRound([this.height, 0]);\n\n    this.yAxisCall = d3_axisLeft(this.yAxisScale)\n      .ticks(this.yAxisTicks)\n      .tickSize(this.yAxisTickSize)\n      .tickSizeOuter(this.yAxisTickSizeOuter)\n      .tickFormat(this.yAxisFormatter);\n\n    this.yAxis = this.svg\n      .append('g')\n      .attr('class', 'axis axis-y')\n      .classed('axis-hidden', this.hideYAxis)\n      .classed('axis-zero-hidden', this.hideYAxisZero)\n      .classed('axis-domain-hidden', this.hideYAxisDomain)\n      .classed('axis-ticks-hidden', this.hideYAxisTicks)\n      .call(this.yAxisCall);\n\n    // Y GRIDLINES\n    if (!this.hideYGrid) {\n      this.yGridCall = d3_axisLeft(this.yAxisScale)\n        .ticks(this.yAxisTicks)\n        .tickSize(-this.width + this.margin.left + this.margin.right);\n\n      this.yGrid = this.svg\n        .append('g')\n        .attr('class', 'grid grid-y')\n        .classed('grid-zero-hidden', this.hideYAxisZero)\n        .attr('transform', `translate(0, 0)`)\n        .call(this.yGridCall);\n    }\n\n    // Y THRESHOLD\n    if (this.threshold) {\n      this.yThreshold = this.svg\n        .append('line')\n        .attr('class', 'threshold')\n        .attr('x2', +this.width - this.margin.right - this.margin.left)\n        .attr('transform', `translate(0,  ${this.yAxisScale(+this.threshold)})`);\n    }\n\n    // Y AVERAGE\n    if (this.average) {\n      this.yAverage = this.svg\n        .append('line')\n        .attr('class', 'average')\n        .attr('x2', +this.width - this.margin.right - this.margin.left)\n        .attr('transform', `translate(0,  ${this.yAxisScale(+this.average)})`);\n    }\n\n    // TOOLTIP\n    if (!this.hideTooltip) {\n      this.tooltip = d3_select('body')\n        .append('div')\n        .attr('class', 'pbds-tooltip south')\n        .style('opacity', 0)\n        .attr('aria-hidden', 'true'); // hide tooltip for accessibility\n    }\n\n    // add legend classes\n    if (!this.hideLegend) {\n      this.chart.classed('pbds-chart-legend-bottom', this.legendPosition === 'bottom' ? true : false);\n      this.chart.append('ul').attr('class', `legend legend-${this.legendPosition}`);\n    }\n\n    // add average to legend\n    if (this.average && !this.hideLegend) {\n      this.chart\n        .select('.legend')\n        .append('li')\n        .attr('class', 'legend-static legend-average')\n        .html(() => {\n          return `\n          <span class=\"legend-key\"></span>\n          <span class=\"legend-label\">${this.averageLabel}</span>\n        `;\n        });\n    }\n\n    // add threshold to legend\n    if (this.threshold && !this.hideLegend) {\n      this.chart\n        .select('.legend')\n        .append('li')\n        .attr('class', 'legend-static legend-threshold')\n        .html(() => {\n          return `\n          <span class=\"legend-key\"></span>\n          <span class=\"legend-label\">${this.thresholdLabel}</span>\n        `;\n        });\n    }\n\n    this.updateChart();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.data && !changes.data.firstChange) {\n      this.updateChart();\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.tooltip) this.tooltip.remove();\n  }\n\n  updateChart = () => {\n    // update the xScale\n    this.xAxisScale.domain(this.data.map((d) => d.label));\n\n    // update the yScale\n    this.yAxisScale\n      .domain([\n        d3_min(this.data, (d) => d.value - d.value * +this.yAxisMinBuffer),\n        d3_max(this.data, (d) => d.value + d.value * +this.yAxisMaxBuffer)\n      ])\n      .rangeRound([this.height, 0])\n      .nice();\n\n    this.xAxis.transition().duration(1000).call(this.xAxisCall);\n\n    this.yAxis.transition().duration(1000).call(this.yAxisCall);\n\n    // update the grids\n    if (!this.hideXGrid) {\n      this.xGrid.transition().duration(1000).call(this.xGridCall);\n    }\n\n    if (!this.hideYGrid) {\n      this.yGrid.transition().duration(1000).call(this.yGridCall);\n    }\n\n    if (!this.hideGrayBars) {\n      // gray bars\n      this.svg\n        .selectAll('.gray-bar')\n        .data(this.data)\n        .join(\n          (enter) =>\n            enter\n              .append('rect')\n              .attr('class', 'gray-bar')\n              .attr('height', 0)\n              .attr('x', (d) => this.xAxisScale(d.label))\n              .attr('width', this.xAxisScale.bandwidth())\n              .call((enter) => enter.transition().duration(500).attr('height', this.height)),\n          (update) =>\n            update\n              .transition()\n              .duration(1000)\n              .attr('x', (d) => this.xAxisScale(d.label))\n              .attr('width', this.xAxisScale.bandwidth())\n              .selection(),\n          (exit) => exit.transition().selection().attr('pointer-events', 'none').remove()\n        );\n\n      // color bars\n      this.svg\n        .selectAll('.bar')\n        .data(this.data)\n        .join(\n          (enter) =>\n            enter\n              .append('rect')\n              .attr('class', 'bar')\n              .attr('fill', (d) => this.barFill(d)) // removes hash to prevent safari bug;\n              .attr('x', (d) => this.xAxisScale(d.label) + this.xAxisScale.bandwidth() / 4)\n              .attr('width', this.xAxisScale.bandwidth() / 2)\n              .attr('y', this.height)\n              .attr('height', 0)\n              .attr('pointer-events', 'none')\n              .call((enter) =>\n                enter\n                  .transition()\n                  .duration(1000)\n                  .attr('y', (d) => this.yAxisScale(d.value))\n                  .attr('height', (d) => this.height - this.yAxisScale(d.value))\n                  .attr('data-color', (d) => this.colorRange(d.label))\n                  .transition()\n                  .attr('pointer-events', 'auto')\n              ),\n          (update) =>\n            update\n              .attr('pointer-events', 'none')\n              .transition()\n              .duration(1000)\n              .attr('x', (d) => this.xAxisScale(d.label) + this.xAxisScale.bandwidth() / 4)\n              .attr('width', this.xAxisScale.bandwidth() / 2)\n              .attr('height', (d) => this.height - this.yAxisScale(d.value))\n              .attr('y', (d) => this.yAxisScale(d.value))\n              .transition()\n              .selection()\n              .attr('pointer-events', 'auto'),\n          (exit) => exit.transition().selection().attr('pointer-events', 'none').remove()\n        )\n        .on('mouseover', (event, data) => this.barMouseOver(event, data))\n        .on('mouseout', (event, data) => this.barMouseOut())\n        .on('click', (event, data) => this.barMouseClick(event, data));\n    } else {\n      // color bars\n      this.svg\n        .selectAll('.bar')\n        .data(this.data)\n        .join(\n          (enter) =>\n            enter\n              .append('rect')\n              .attr('class', 'bar')\n              .attr('fill', (d) => this.barFill(d))\n              .attr('x', (d) => this.xAxisScale(d.label) + this.xAxisScale.bandwidth() / 5.5)\n              .attr('width', this.xAxisScale.bandwidth() / 1.5)\n              .attr('y', this.height)\n              .attr('height', 0)\n              .attr('pointer-events', 'none')\n              .call((enter) =>\n                enter\n                  .transition()\n                  .duration(1000)\n                  .attr('y', (d) => this.yAxisScale(d.value))\n                  .attr('height', (d) => this.height - this.yAxisScale(d.value))\n                  .attr('data-color', (d) => this.colorRange(d.label))\n                  .transition()\n                  .attr('pointer-events', 'auto')\n              ),\n          (update) =>\n            update\n              .attr('pointer-events', 'none')\n              .transition()\n              .duration(1000)\n              .attr('x', (d) => this.xAxisScale(d.label) + this.xAxisScale.bandwidth() / 5.5)\n              .attr('width', this.xAxisScale.bandwidth() / 1.5)\n              .attr('height', (d) => this.height - this.yAxisScale(d.value))\n              .attr('y', (d) => this.yAxisScale(d.value))\n              .transition()\n              .selection()\n              .attr('pointer-events', 'auto'),\n          (exit) => exit.transition().attr('pointer-events', 'none').remove()\n        )\n        .on('mouseover', (event, data) => this.barMouseOver(event, data))\n        .on('mouseout', (event, data) => this.barMouseOut())\n        .on('click', (event, data) => this.barMouseClick(event, data));\n    }\n\n    if (!this.hideLegend) {\n      this.chart\n        .select('.legend')\n        .selectAll('.legend-item')\n        .data(this.data)\n        .join(\n          (enter) => {\n            const li = enter.insert('li', 'li.legend-static').attr('class', 'legend-item');\n\n            li.append('span')\n              .attr('class', 'legend-key')\n              .style('background-color', (d) => this.colorRange(d.label));\n\n            li.append('span')\n              .attr('class', 'legend-label')\n              .html((d) => {\n                switch (this.legendLabelFormatType) {\n                  case 'number':\n                    return this.legendLabelFormat(d.label);\n\n                  case 'time':\n                    const parsedTime = d3_isoParse(d.label);\n                    return this.legendLabelFormat(parsedTime);\n\n                  default:\n                    return d.label;\n                }\n              });\n\n            return li;\n          },\n          (update) =>\n            update.select('.legend-label').html((d) => {\n              switch (this.legendLabelFormatType) {\n                case 'number':\n                  return this.legendLabelFormat(d.label);\n\n                case 'time':\n                  const parsedTime = d3_isoParse(d.label);\n                  return this.legendLabelFormat(parsedTime);\n\n                default:\n                  return d.label;\n              }\n            }),\n          (exit) => exit.remove()\n        )\n        .on('mouseover', (event, data) => this.legendMouseOver(event, data))\n        .on('mouseout', () => this.legendMouseOut())\n        .on('click', (event, data) => this.legendMouseClick(event, data));\n    }\n\n    if (this.threshold) {\n      this.yThreshold\n        .raise()\n        .transition()\n        .duration(1000)\n        .attr('transform', `translate(0,  ${this.yAxisScale(+this.threshold)})`);\n    }\n\n    if (this.average) {\n      this.yAverage\n        .raise()\n        .transition()\n        .duration(1000)\n        .attr('transform', `translate(0,  ${this.yAxisScale(+this.average)})`);\n    }\n  };\n\n  barMouseOver = (event, data) => {\n    this.chart\n      .selectAll('.bar')\n      .filter((d, i) => d.label !== data.label)\n      .classed('inactive', true);\n\n    const bar = this.chart.selectAll('.bar').filter((d, i) => d.label === data.label);\n\n    const barColor = bar.attr('data-color');\n\n    bar.style('fill', barColor);\n\n    this.chart\n      .selectAll('.legend-item')\n      .filter((d, i) => d.label !== data.label)\n      .classed('inactive', true);\n\n    this.tooltipShow(event, data);\n\n    this.hovered.emit({ event, data });\n  };\n\n  barMouseOut = () => {\n    this.chart.selectAll('.bar').classed('inactive', false).style('fill', null);\n\n    this.chart.selectAll('.legend-item').classed('inactive', false);\n\n    this.tooltipHide();\n  };\n\n  barMouseClick = (event, data) => {\n    this.clicked.emit({ event, data });\n  };\n\n  legendMouseOver = (event, data) => {\n    this.chart\n      .selectAll('.legend-item')\n      .filter((d, i) => d.label !== data.label)\n      .classed('inactive', true);\n\n    this.chart\n      .selectAll('.bar')\n      .filter((d, i) => d.label !== data.label)\n      .classed('inactive', true);\n\n    const bar = this.chart.selectAll('.bar').filter((d, i) => d.label === data.label);\n\n    const barColor = bar.attr('data-color');\n\n    bar.style('fill', barColor);\n\n    this.tooltipShow(\n      event,\n      data,\n      this.chart\n        .selectAll('.bar')\n        .filter((d, i) => d.label === data.label)\n        .node()\n    );\n\n    this.hovered.emit({ event, data });\n  };\n\n  legendMouseOut = () => {\n    this.chart.selectAll('.legend-item').classed('inactive', false);\n\n    this.chart.selectAll('.bar').classed('inactive', false).style('fill', null);\n\n    this.tooltipHide();\n  };\n\n  legendMouseClick = (event, data) => {\n    this.clicked.emit({ event, data });\n  };\n\n  private tooltipShow = (event, data, node?) => {\n    const scroll = this._scroll.getScrollPosition();\n    let dimensions = event.currentTarget.getBoundingClientRect();\n    let label;\n\n    if (node) {\n      const target = this.chart\n        .selectAll('.bar')\n        .filter((d, i) => d.label === data.label)\n        .node();\n\n      dimensions = target.getBoundingClientRect();\n    }\n\n    switch (this.tooltipLabelFormatType) {\n      case 'number':\n        label = `${this.tooltipLabelFormat(data.label)}${this.tooltipLabelSuffix}`;\n        break;\n\n      case 'time':\n        const parsedTime = d3_isoParse(data.label);\n        label = `${this.tooltipLabelFormat(parsedTime)}${this.tooltipLabelSuffix}`;\n        break;\n\n      default:\n        label = `${data.label}${this.tooltipLabelSuffix}`;\n    }\n    const value =\n      this.tooltipValueFormat === null\n        ? `<div class=\"tooltip-value\">${data.value}</div>`\n        : `<div class=\"tooltip-value\">${this.tooltipValueFormat(data.value)}</div>`;\n\n    this.tooltip.html(\n      `\n        ${this.hideTooltipLabel ? '' : `${label}`}\n        ${value}\n      `\n    );\n\n    const tooltipOffsetWidth = +this.tooltip.node().offsetWidth / 2;\n    const tooltipOffsetHeight = +this.tooltip.node().offsetHeight + 8;\n\n    this.tooltip.style('top', `${+scroll[1] + +dimensions.top - tooltipOffsetHeight}px`); //\n    this.tooltip.style('left', `${+scroll[0] + +dimensions.left - tooltipOffsetWidth + +dimensions.width / 2}px`);\n    this.tooltip.style('opacity', 1);\n  };\n\n  private tooltipHide = () => {\n    this.tooltip.style('opacity', 0);\n  };\n\n  private xAxisFormatter = (item) => {\n    switch (this.xAxisFormatType) {\n      case 'number':\n        return this.xAxisFormat(item);\n\n      case 'time':\n        const parseDate = d3_isoParse(item);\n        return this.xAxisFormat(parseDate);\n\n      default:\n        return item;\n    }\n  };\n\n  private yAxisFormatter = (item) => {\n    switch (this.yAxisFormatType) {\n      case 'number':\n        return this.yAxisFormat(item);\n\n      case 'time':\n        const parseDate = d3_isoParse(item);\n        return this.yAxisFormat(parseDate);\n\n      default:\n        return item;\n    }\n  };\n\n  private barFill(d) {\n    const path = this._location.path();\n    const url = this._location.prepareExternalUrl(path);\n    const colorRange = this.colorRange(d.label);\n\n    if (this.gradient) {\n      return `url(${url}#gradient-${colorRange.substr(1)})`;\n    } else {\n      return colorRange;\n    }\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  EventEmitter,\n  HostBinding,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  SimpleChanges\n} from '@angular/core';\n\nimport { Location, ViewportScroller } from '@angular/common';\n\nimport {\n  bisect as d3_bisect,\n  bisectRight as d3_bisectRight,\n  extent as d3_extent,\n  max as d3_max,\n  min as d3_min,\n  range as d3_range\n} from 'd3-array';\nimport { axisBottom as d3_axisBottom, axisLeft as d3_axisLeft } from 'd3-axis';\nimport { easeQuadInOut as d3_easeQuadInOut } from 'd3-ease';\nimport { format as d3_format } from 'd3-format';\nimport {\n  scaleLinear as d3_scaleLinear,\n  scaleOrdinal as d3_scaleOrdinal,\n  scalePoint as d3_scalePoint,\n  scaleTime as d3_scaleTime\n} from 'd3-scale';\nimport { pointer as d3_pointer, select as d3_select } from 'd3-selection';\nimport { area as d3_area, curveCatmullRom as d3_curveCatmullRom, line as d3_line } from 'd3-shape';\nimport { isoFormat as d3_isoFormat, isoParse as d3_isoParse, timeFormat as d3_timeFormat } from 'd3-time-format';\n\nimport { PbdsDatavizLine } from './dataviz.interfaces';\nimport { PbdsDatavizService } from './dataviz.service';\n\n// assign an ID for each component instance\nlet nextId = 0;\n\n@Component({\n  selector: 'pbds-dataviz-line',\n  template: ``,\n  styles: [],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class PbdsDatavizLineComponent implements OnInit, OnDestroy, OnChanges {\n  @HostBinding('class.pbds-chart')\n  chartClass = true;\n\n  @HostBinding('class.pbds-chart-line')\n  lineClass = true;\n\n  @Input()\n  data: PbdsDatavizLine;\n\n  @Input()\n  width = 306;\n\n  @Input()\n  height = 400;\n\n  @Input()\n  type: 'medium' | 'high' | 'debug' = 'medium'; // debug to show all chart options\n\n  @Input()\n  area = false;\n\n  @Input()\n  xAxisType: 'date' | 'number' | 'string' = 'date';\n\n  @Input()\n  xAxisFormatString = '';\n\n  @Input()\n  xAxisTicks = 6;\n\n  @Input()\n  xAxisTitle: string | null = null;\n\n  @Input()\n  yAxisFormatString = '';\n\n  @Input()\n  yAxisTicks = 5;\n\n  @Input()\n  yAxisMinBuffer = 0.01;\n\n  @Input()\n  yAxisMaxBuffer = 0.01;\n\n  @Input()\n  hideXGrid = true;\n\n  @Input()\n  hideYGrid = true;\n\n  @Input()\n  hideLegend = false;\n\n  @Input()\n  legendWidth = 105 + 28; // hardcoded legend width + left margin, do not document until feedback\n\n  @Input()\n  legendPosition: 'right' | 'bottom' = 'right';\n\n  @Input()\n  legendLabelFormatType: 'number' | 'time' = null;\n\n  @Input()\n  legendLabelFormatString = '';\n\n  @Input()\n  tooltipHeadingFormatString = '';\n\n  @Input()\n  tooltipHeadingSuffix = '';\n\n  @Input()\n  tooltipLabelFormatType: 'number' | 'time' = null;\n\n  @Input()\n  tooltipLabelFormatString = '';\n\n  @Input()\n  tooltipValueFormatType: 'number' | 'time' = null;\n\n  @Input()\n  tooltipValueFormatString = '';\n\n  @Input()\n  marginTop = 10; // hardcoded on purpose, do not document until feedback\n\n  @Input()\n  marginRight = 20; // hardcoded on purpose, do not document until feedback\n\n  @Input()\n  marginBottom = 30; // hardcoded on purpose, do not document until feedback\n\n  @Input()\n  marginLeft = 55; // hardcoded on purpose, do not document until feedback\n\n  @Input()\n  theme;\n\n  @Input()\n  customColor: boolean = false;\n\n  @Input()\n  colorsArray = [];\n\n  @Input() lineCurved = true;\n\n  @Output()\n  hovered: EventEmitter<object> = new EventEmitter<object>();\n\n  @Output()\n  clicked: EventEmitter<object> = new EventEmitter<object>();\n\n  @Output()\n  tooltipHovered: EventEmitter<object> = new EventEmitter<object>();\n\n  @Output()\n  tooltipClicked: EventEmitter<object> = new EventEmitter<object>();\n\n  private chart;\n  private svg;\n  private mouserect;\n  private tooltipLine;\n  private margin;\n  private clipPathId;\n  private d3line;\n  private d3area;\n  private lineWidth;\n  private linePoints;\n  private colorRange;\n  private xAxisScale;\n  private xAxisCall;\n  private xAxis;\n  private xAxisFormat;\n  private yAxisScale;\n  private yAxisCall;\n  private yAxis;\n  private yAxisFormat;\n  private xGrid;\n  private xGridCall;\n  private yGrid;\n  private yGridCall;\n  private xAxisTickSize: number;\n  private xAxisTickSizeOuter: number;\n  private xAxisTitleMargin: number;\n  private yAxisTickSize: number;\n  private yAxisTickSizeOuter: number;\n  private hideXAxis: boolean;\n  private hideYAxis: boolean;\n  private hideXAxisDomain: boolean;\n  private hideYAxisDomain: boolean;\n  private hideXAxisZero: boolean;\n  private hideYAxisZero: boolean;\n  private hideXAxisTicks: boolean;\n  private hideYAxisTicks: boolean;\n  private legendLabelFormat;\n  private tooltip;\n  private hideTooltip: boolean;\n  private tooltipHeadingFormat;\n  private tooltipValueFormat;\n  private tooltipLabelFormat;\n  private mousedata;\n\n  constructor(\n    private _dataviz: PbdsDatavizService,\n    private _element: ElementRef,\n    private _scroll: ViewportScroller,\n    private _location: Location\n  ) {}\n\n  ngOnInit() {\n    this.margin = {\n      top: +this.marginTop,\n      right: +this.marginRight,\n      bottom: +this.marginBottom,\n      left: +this.marginLeft\n    };\n\n    this.clipPathId = nextId;\n\n    // create formatters\n    this.xAxisFormat =\n      this.xAxisType === 'date' ? d3_timeFormat(this.xAxisFormatString) : d3_format(this.xAxisFormatString);\n    this.yAxisFormat = d3_format(this.yAxisFormatString);\n    this.legendLabelFormat = this._dataviz.d3Format(this.legendLabelFormatType, this.legendLabelFormatString);\n    this.tooltipHeadingFormat =\n      this.xAxisType === 'date'\n        ? d3_timeFormat(this.tooltipHeadingFormatString)\n        : d3_format(this.tooltipHeadingFormatString);\n    this.tooltipLabelFormat = this._dataviz.d3Format(this.tooltipLabelFormatType, this.tooltipLabelFormatString);\n    this.tooltipValueFormat = this._dataviz.d3Format(this.tooltipValueFormatType, this.tooltipValueFormatString);\n\n    // defaults for all chart types\n    this.lineWidth = 3;\n    this.linePoints = true;\n    this.hideXAxis = false;\n    this.hideYAxis = false;\n    this.hideXAxisZero = false;\n    this.hideYAxisZero = false;\n    this.hideXAxisDomain = false;\n    this.hideYAxisDomain = false;\n    this.hideTooltip = false;\n    this.hideXAxisTicks = false;\n    this.hideYAxisTicks = false;\n    this.xAxisTickSize = 8;\n    this.xAxisTickSizeOuter = 0;\n    this.yAxisTickSize = 8;\n    this.yAxisTickSizeOuter = 0;\n\n    if (this.type !== 'debug') {\n      // set type defaults\n      switch (this.type) {\n        case 'medium':\n          this.hideXAxisTicks = true;\n          this.hideYAxisTicks = true;\n          break;\n\n        case 'high':\n          this.lineWidth = 2;\n          this.lineCurved = false;\n          this.linePoints = false;\n          this.hideXAxisTicks = true;\n          this.hideYAxisTicks = true;\n          this.hideXGrid = false;\n          this.hideYGrid = false;\n          break;\n      }\n    }\n\n    this.xAxisTitleMargin = this.xAxisTitle ? 30 : 0;\n\n    // adjust margin if xAxis hidden\n    if (this.hideXAxis) this.margin.bottom = 10; // need small margin for yAxis with 0 tick label\n\n    if (!this.hideLegend && this.legendPosition === 'right') {\n      this.width = +this.width - +this.legendWidth;\n    }\n\n    // define line\n    this.d3line = d3_line()\n      .x((d: any, i) => {\n        if (this.xAxisType === 'date') {\n          return this.xAxisScale(d3_isoParse(this.data.labels[i]));\n        } else if (this.xAxisType === 'number') {\n          return this.xAxisScale(this.data.labels[i]);\n        } else {\n          return this.xAxisScale(this.data.labels[i]);\n        }\n      })\n      .y((d: any) => this.yAxisScale(d))\n      .defined((d, i) => {\n        // console.log(d);\n        return d !== null; // only draw line if data is not null\n      });\n\n    // define line curve\n    if (this.lineCurved) {\n      this.d3line.curve(d3_curveCatmullRom.alpha(0.5));\n    }\n\n    // define area\n    if (this.area) {\n      this.d3area = d3_area()\n        .x((d: any, i) => {\n          if (this.xAxisType === 'date') {\n            return this.xAxisScale(d3_isoParse(this.data.labels[i]));\n          } else if (this.xAxisType === 'number') {\n            return this.xAxisScale(this.data.labels[i]);\n          } else {\n            return this.xAxisScale(this.data.labels[i]);\n          }\n        })\n        .y0(this.height)\n        .y1((d: any, i) => this.yAxisScale(d))\n        .defined((d, i) => {\n          // console.log(d);\n          return d !== null; // only draw line if data is not null\n        });\n\n      if (this.lineCurved) {\n        this.d3area.curve(d3_curveCatmullRom.alpha(0.5));\n      }\n    }\n\n    // create the chart\n    this.chart = d3_select(this._element.nativeElement).attr('aria-hidden', 'true');\n\n    // create chart svg\n    this.svg = this.chart\n      .append('svg')\n      .attr('width', +this.width + this.margin.right)\n      .attr('height', +this.height + this.margin.top + this.margin.bottom + this.xAxisTitleMargin)\n      .attr('class', 'img-fluid')\n      .attr('preserveAspectRatio', 'xMinYMin meet')\n      .attr(\n        'viewBox',\n        `-${this.margin.left} -${this.margin.top} ${+this.width + this.margin.right} ${\n          +this.height + this.margin.top + this.margin.bottom + this.xAxisTitleMargin\n        }`\n      );\n\n    // add rectangle to capture mouse\n    this.mouserect = this.svg\n      .append('rect')\n      .attr('width', this.width - this.margin.left - this.margin.right)\n      .attr('height', this.height)\n      .attr('class', 'mouserect')\n      .on('mousemove', (event, data) => this.mouserectMouseMove(event, data))\n      .on('mouseout', (event, data) => this.mouserectMouseOut(event, data))\n      .on('click', (event, data) => this.mouserectMouseClick(event));\n\n    this.tooltipLine = this.svg.append('line').attr('y1', 0).attr('y2', this.height).attr('class', 'tooltip-line');\n\n    // define color range\n\n    const colors = this.customColor ? this.colorsArray : this._dataviz.getColors(false, this.theme);\n    this.colorRange = d3_scaleOrdinal().range(colors);\n\n    // add glow def\n    this._dataviz.createGlowFilter(this.svg);\n\n    // X AXIS\n    if (this.xAxisType === 'date') {\n      this.xAxisScale = d3_scaleTime()\n        .domain(\n          d3_extent(this.data.labels, (d: any) => {\n            return d3_isoParse(d);\n          })\n        )\n        .range([0, this.width - this.margin.left - this.margin.right]);\n    } else if (this.xAxisType === 'number') {\n      this.xAxisScale = d3_scaleLinear()\n        .domain(\n          d3_extent(this.data.labels, (d: any) => {\n            return d;\n          })\n        )\n        .range([0, this.width - this.margin.left - this.margin.right]);\n    } else {\n      this.xAxisScale = d3_scalePoint()\n        .domain(this.data.labels)\n        .range([0, this.width - this.margin.left - this.margin.right]);\n    }\n\n    if (this.xAxisType === 'string') {\n      this.xAxisCall = d3_axisBottom(this.xAxisScale)\n        // .ticks(+this.xAxisTicks)\n        .tickSize(this.xAxisTickSize)\n        .tickSizeOuter(this.xAxisTickSizeOuter)\n        .tickFormat(this.xAxisFormatter)\n        .tickValues(\n          this.xAxisScale.domain().filter((d, i) => {\n            // see https://github.com/d3/d3-scale/issues/182\n            // d3 cannot determine number of strings to show on xaxis with scalePoint()\n            return i % this.xAxisTicks === 0;\n          })\n        );\n    } else {\n      this.xAxisCall = d3_axisBottom(this.xAxisScale)\n        .ticks(+this.xAxisTicks)\n        .tickSize(this.xAxisTickSize)\n        .tickSizeOuter(this.xAxisTickSizeOuter)\n        .tickFormat(this.xAxisFormatter);\n    }\n\n    this.xAxis = this.svg\n      .append('g')\n      .attr('class', 'axis axis-x')\n      .attr('transform', `translate(0, ${this.height})`) //${-this.margin.right / 2}\n      .classed('axis-hidden', this.hideXAxis)\n      .classed('axis-zero-hidden', this.hideXAxisZero)\n      .classed('axis-domain-hidden', this.hideXAxisDomain)\n      .classed('axis-ticks-hidden', this.hideXAxisTicks)\n      .call(this.xAxisCall);\n\n    // X GRIDLINES\n    if (!this.hideXGrid) {\n      if (this.xAxisType === 'string') {\n        this.xGridCall = d3_axisBottom(this.xAxisScale)\n          .tickSize(-this.height)\n          .tickValues(\n            this.xAxisScale.domain().filter((d, i) => {\n              // see https://github.com/d3/d3-scale/issues/182\n              // d3 cannot determine number of strings to show on xaxis with scalePoint()\n              return i % this.xAxisTicks === 0;\n            })\n          );\n      } else {\n        this.xGridCall = d3_axisBottom(this.xAxisScale).tickSize(-this.height);\n      }\n\n      this.xGrid = this.svg\n        .append('g')\n        .attr('class', 'grid grid-x')\n        .classed('grid-zero-hidden', this.hideXAxisZero)\n        .attr('transform', `translate(0, ${this.height})`) //${-this.margin.right / 2}\n        .call(this.xGridCall);\n    }\n\n    // X AXIS TITLE\n    if (this.xAxisTitle) {\n      this.svg\n        .append('text')\n        .attr('class', 'axis-title')\n        .attr('text-anchor', 'middle')\n        .attr(\n          'transform',\n          `translate(${this.svg.attr('width') / 2 - this.margin.left / 2 - this.margin.right / 2}, ${\n            this.height + this.margin.top + (this.hideXAxis ? 20 : 40)\n          })`\n        )\n        // .attr('x', this.width / 2 - this.margin.left - this.margin.right)\n        // .attr('y', this.height + this.margin.top + (this.hideXAxis ? 25 : 50))\n        .text(this.xAxisTitle);\n    }\n\n    // Y AXIS\n    this.yAxisScale = d3_scaleLinear()\n      .domain([\n        d3_min(this.data.series, (d: any, i) => {\n          const minVal = +d3_min(d.values);\n          return minVal - minVal * +this.yAxisMinBuffer;\n        }),\n        d3_max(this.data.series, (d: any, i) => {\n          const maxVal = +d3_max(d.values);\n          return maxVal + maxVal * this.yAxisMaxBuffer;\n        })\n      ])\n      .nice()\n      .range([this.height, 0]);\n\n    this.yAxisCall = d3_axisLeft(this.yAxisScale)\n      .ticks(this.yAxisTicks)\n      .tickSize(this.yAxisTickSize)\n      .tickSizeOuter(this.yAxisTickSizeOuter)\n      .tickFormat(this.yAxisFormatter);\n\n    this.yAxis = this.svg\n      .append('g')\n      .attr('class', 'axis axis-y')\n      .classed('axis-hidden', this.hideYAxis)\n      .classed('axis-zero-hidden', this.hideYAxisZero)\n      .classed('axis-domain-hidden', this.hideYAxisDomain)\n      .classed('axis-ticks-hidden', this.hideYAxisTicks)\n      .call(this.yAxisCall);\n\n    // Y GRIDLINES\n    if (!this.hideYGrid) {\n      this.yGridCall = d3_axisLeft(this.yAxisScale)\n        .ticks(this.yAxisTicks)\n        .tickSize(-this.width + this.margin.left + this.margin.right);\n\n      this.yGrid = this.svg\n        .append('g')\n        .attr('class', 'grid grid-y')\n        .classed('grid-zero-hidden', this.hideYAxisZero)\n        .attr('transform', `translate(0, 0)`)\n        .call(this.yGridCall);\n    }\n\n    // TOOLTIP\n    if (!this.hideTooltip) {\n      this.tooltip = d3_select('body')\n        .append('div')\n        .attr('class', 'pbds-tooltip west')\n        .style('opacity', 0)\n        .attr('aria-hidden', 'true'); // hide tooltip for accessibility\n\n      // tooltip header\n      this.tooltip.append('div').attr('class', 'tooltip-header');\n\n      // tooltip table\n      const tooltipTable = this.tooltip.append('table').attr('class', 'tooltip-table text-left w-100');\n\n      const tooltipTableTbody = tooltipTable.append('tbody');\n\n      tooltipTableTbody\n        .selectAll('tr')\n        .data(this.data)\n        .join((enter) => enter.append('tr'));\n    }\n\n    // add legend classes\n    if (!this.hideLegend) {\n      this.chart.classed('pbds-chart-legend-bottom', this.legendPosition === 'bottom' ? true : false);\n      this.chart.append('ul').attr('class', `legend legend-${this.legendPosition}`);\n    }\n\n    // add clip path for line animation\n    this.svg\n      .append('clipPath')\n      .attr('id', `clip-path-${this.clipPathId}`)\n      .append('rect')\n      .attr('width', +this.width - +this.margin.left - +this.margin.right)\n      .attr('height', +this.height);\n\n    // add clip path for points animation\n    this.svg\n      .append('clipPath')\n      .attr('id', `clip-path-points-${this.clipPathId}`)\n      .append('rect')\n      .attr('width', +this.width + +this.margin.left - +this.margin.right)\n      .attr('height', +this.height)\n      .attr('transform', `translate(-${this.margin.left}, 0)`);\n\n    this.updateChart();\n\n    nextId++;\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.data && !changes.data.firstChange) {\n      this.updateChart();\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.tooltip) this.tooltip.remove();\n  }\n\n  updateChart = () => {\n    this.mouserect.data(this.data);\n\n    // update the xScale\n    if (this.xAxisType === 'date') {\n      this.xAxisScale\n        .domain(\n          d3_extent(this.data.labels, (d: any) => {\n            return d3_isoParse(d);\n          })\n        )\n        .range([0, this.width - this.margin.left - this.margin.right]);\n    } else if (this.xAxisType === 'number') {\n      this.xAxisScale.domain(\n        d3_extent(this.data.labels, (d: any) => {\n          return d;\n        })\n      );\n    } else {\n      this.xAxisScale.domain(this.data.labels);\n    }\n\n    // update the yScale\n    this.yAxisScale\n      .domain([\n        d3_min(this.data.series, (d: any, i) => {\n          const minVal = +d3_min(d.values);\n          return minVal - minVal * +this.yAxisMinBuffer;\n        }),\n        d3_max(this.data.series, (d: any, i) => {\n          const maxVal = +d3_max(d.values);\n          return maxVal + maxVal * this.yAxisMaxBuffer;\n        })\n      ])\n      .nice();\n\n    this.xAxis.transition().duration(1000).call(this.xAxisCall);\n\n    this.yAxis.transition().duration(1000).call(this.yAxisCall);\n\n    // update the grids\n    if (!this.hideXGrid) {\n      this.xGrid.transition().duration(1000).call(this.xGridCall);\n    }\n\n    if (!this.hideYGrid) {\n      this.yGrid.transition().duration(1000).call(this.yGridCall);\n    }\n\n    // lines\n    this.svg\n      .selectAll('path.line')\n      .attr('filter', () =>\n        this.type !== 'high' ? `url(${this._location.prepareExternalUrl(this._location.path())}#glow)` : null\n      )\n      .data(this.data.series)\n      .join(\n        (enter) => {\n          enter\n            .append('path')\n            .attr(\n              'clip-path',\n              `url(${this._location.prepareExternalUrl(this._location.path())}#clip-path-${this.clipPathId})`\n            )\n            .attr('class', 'line')\n            .style('stroke', (d) => this.colorRange(d.label))\n            .style('stroke-width', this.lineWidth)\n            .attr('d', (data) => {\n              const array = new Array(data.values.length).fill(0);\n              return this.d3line(array);\n            })\n            .call((enter) =>\n              enter\n                .transition()\n                .duration(1000)\n                .ease(d3_easeQuadInOut)\n                .attr('d', (data) => this.d3line(data.values))\n            );\n        },\n        (update) =>\n          update.call((update) =>\n            update\n              .transition()\n              .duration(1000)\n              .ease(d3_easeQuadInOut)\n              .attr('d', (d) => this.d3line(d.values))\n          ),\n        (exit) => exit.remove()\n      );\n\n    // area\n    if (this.area) {\n      this.svg\n        .selectAll('path.area')\n        .data(this.data.series)\n        .join(\n          (enter) =>\n            enter\n              .append('path')\n              .attr(\n                'clip-path',\n                `url(${this._location.prepareExternalUrl(this._location.path())}#clip-path-${this.clipPathId})`\n              )\n              .attr('class', 'area')\n              .attr('d', (data) => {\n                const array = new Array(data.values.length).fill(0);\n                return this.d3area(array);\n              })\n              .style('color', (d) => this.colorRange(d.label))\n              .call((enter) =>\n                enter\n                  .transition()\n                  .duration(1000)\n                  .ease(d3_easeQuadInOut)\n                  .attr('d', (data) => this.d3area(data.values))\n              ),\n          (update) =>\n            update.call((update) => {\n              return update\n                .transition()\n                .duration(1000)\n                .ease(d3_easeQuadInOut)\n                .attr('d', (d) => this.d3area(d.values));\n            }),\n          (exit) => exit.remove()\n        );\n    }\n\n    // circles\n    if (this.linePoints) {\n      // add points\n      this.svg\n        .selectAll('g.points')\n        .data(this.data.series)\n        .join(\n          (enter) =>\n            enter\n              .append('g')\n              .attr('class', 'points')\n              .attr(\n                'clip-path',\n                `url(${this._location.prepareExternalUrl(this._location.path())}#clip-path-points-${this.clipPathId})`\n              )\n              .style('color', (d, i) => this.colorRange(d.label))\n\n              .selectAll('circle')\n              .data((d) => d.values)\n              .join(\n                (enter) =>\n                  enter\n                    .append('circle')\n                    .attr('cx', (d, i) => {\n                      if (this.xAxisType === 'date') {\n                        return this.xAxisScale(d3_isoParse(this.data.labels[i]));\n                      } else {\n                        return this.xAxisScale(this.data.labels[i]);\n                      }\n                    })\n                    .attr('cy', (d) => this.yAxisScale(0))\n                    .attr('r', (d, i) => {\n                      // hide circles if there is no data\n                      if (d === null) {\n                        return 0;\n                      }\n\n                      return this.lineWidth * 2;\n                    })\n                    .style('stroke-width', this.lineWidth)\n                    .call((enter) =>\n                      enter\n                        .transition()\n                        .duration(1000)\n                        .ease(d3_easeQuadInOut)\n                        .attr('cy', (d) => this.yAxisScale(d))\n                    ),\n                () => {},\n                (exit) => exit.remove()\n              ),\n          (update) =>\n            update\n              .selectAll('circle')\n              .data((d) => d.values)\n              .join(\n                (enter) =>\n                  enter\n                    .append('circle')\n                    .attr('cx', (d, i) => {\n                      if (this.xAxisType === 'date') {\n                        return this.xAxisScale(d3_isoParse(this.data.labels[i]));\n                      } else {\n                        return this.xAxisScale(this.data.labels[i]);\n                      }\n                    })\n                    .attr('cy', (d) => this.yAxisScale(d))\n                    .attr('r', (d, i) => {\n                      // hide circles if there is no data\n                      if (d === null) {\n                        return 0;\n                      }\n\n                      return this.lineWidth * 2;\n                    })\n                    .style('stroke-width', this.lineWidth),\n                (update) =>\n                  update.call((update) =>\n                    update\n                      .transition()\n                      .duration(1000)\n                      .ease(d3_easeQuadInOut)\n                      .attr('cx', (d, i) => {\n                        if (this.xAxisType === 'date') {\n                          return this.xAxisScale(d3_isoParse(this.data.labels[i]));\n                        } else {\n                          return this.xAxisScale(this.data.labels[i]);\n                        }\n                      })\n                      .attr('cy', (d) => {\n                        if (d === null) {\n                          return this.yAxisScale(0);\n                        }\n\n                        return this.yAxisScale(d);\n                      })\n                      .attr('r', (d, i) => {\n                        // hide circles if there is no data\n                        if (d === null) {\n                          return 0;\n                        }\n\n                        return this.lineWidth * 2;\n                      })\n                  ),\n                (exit) => exit.remove()\n              ),\n          (exit) => exit.remove()\n        );\n    }\n\n    if (!this.hideLegend) {\n      this.chart\n        .select('.legend')\n        .selectAll('.legend-item')\n        .data(this.data.series)\n        .join(\n          (enter) => {\n            const li = enter.append('li').attr('class', 'legend-item');\n\n            li.append('span')\n              .attr('class', 'legend-key')\n              .style('background-color', (d) => this.colorRange(d.label));\n\n            li.append('span')\n              .attr('class', 'legend-label')\n              .html((d) => {\n                switch (this.legendLabelFormatType) {\n                  case 'number':\n                    return this.legendLabelFormat(d.label);\n\n                  case 'time':\n                    const parsedTime = d3_isoParse(d.label);\n                    return this.legendLabelFormat(parsedTime);\n\n                  default:\n                    return d.label;\n                }\n              });\n\n            return li;\n          },\n          (update) => {\n            update.select('.legend-label').html((d) => {\n              switch (this.legendLabelFormatType) {\n                case 'number':\n                  return this.legendLabelFormat(d.label);\n\n                case 'time':\n                  const parsedTime = d3_isoParse(d.label);\n                  return this.legendLabelFormat(parsedTime);\n\n                default:\n                  return d.label;\n              }\n            });\n\n            return update;\n          },\n          (exit) => exit.remove()\n        )\n        .on('mouseover', (event, data) => this.legendMouseOver(event, data))\n        .on('mouseout', () => this.legendMouseOut())\n        .on('click', (event, data) => this.legendMouseClick(event, data));\n    }\n\n    if (!this.hideTooltip) {\n      this.tooltip\n        .select('.tooltip-table')\n        .selectAll('tr')\n        .data(this.data.series)\n        .join(\n          (enter) => {\n            const tooltipItem = enter.append('tr').attr('class', 'tooltip-item');\n\n            tooltipItem\n              .append('td')\n              .style('color', (d) => this.colorRange(d.label))\n              .append('span')\n              .attr('class', 'pbds-tooltip-key');\n\n            tooltipItem\n              .append('td')\n              .attr('class', 'tooltip-label pr-2 text-nowrap')\n              .html((d) => {\n                return this.tooltipLabelFormatType ? this.tooltipLabelFormat(d.label) : d.label;\n              });\n\n            tooltipItem\n              .append('td')\n              .attr('class', 'tooltip-value text-right text-nowrap')\n              .html((d) => '');\n\n            return tooltipItem;\n          },\n          (update) => {\n            // update the tooltip label text\n            const tooltipLabel = update.select('.tooltip-label');\n\n            tooltipLabel.html((d) => {\n              return this.tooltipLabelFormatType ? this.tooltipLabelFormat(d.label) : d.label;\n            });\n          },\n          (exit) => exit.remove()\n        );\n    }\n\n    this.svg.selectAll('.points').raise();\n    this.mouserect.raise();\n  };\n\n  legendMouseOver = (event, data) => {\n    // console.log(data, this.linePoints);\n\n    this.chart\n      .selectAll('.legend-item')\n      .filter((d, i) => {\n        return d.label !== data.label;\n      })\n      .classed('inactive', true);\n\n    this.svg\n      .selectAll('.line')\n      .filter((d, i) => {\n        return d.label !== data.label;\n      })\n      .classed('inactive', true);\n\n    if (this.area) {\n      this.svg\n        .selectAll('.area')\n        .filter((d, i) => {\n          return d.label !== data.label;\n        })\n        .classed('inactive', true);\n    }\n\n    if (this.linePoints) {\n      this.svg\n        .selectAll('.points')\n        .filter((d, i) => {\n          return d.label !== data.label;\n        })\n        .selectAll('circle')\n        .classed('inactive', true);\n    }\n\n    this.hovered.emit({ event, data });\n  };\n\n  legendMouseOut = () => {\n    this.chart.selectAll('.legend-item').classed('inactive', false);\n\n    this.chart.selectAll('.line').classed('inactive', false).classed('active', false);\n\n    if (this.linePoints) {\n      this.svg.selectAll('circle').classed('active', false).classed('inactive', false);\n    }\n\n    if (this.area) {\n      this.svg.selectAll('.area').classed('inactive', false);\n    }\n  };\n\n  legendMouseClick = (event, data) => {\n    this.clicked.emit({ event, data });\n  };\n\n  mouserectMouseMove = (event, data) => {\n    let mouseX; // mouse x position\n    let lower;\n    let upper;\n    let closest;\n    let closestIndex;\n\n    let leftIndex = 0;\n\n    // handle string type, no invert function on scalePoint\n    if (this.xAxisType === 'string') {\n      mouseX = d3_pointer(event)[0];\n    } else {\n      mouseX = this.xAxisScale.invert(d3_pointer(event)[0]);\n    }\n\n    if (this.xAxisType === 'date') {\n      leftIndex = d3_bisectRight(this.data.labels, d3_isoFormat(mouseX));\n\n      // prevent error for 0 index\n      if (leftIndex === 0) return false;\n\n      lower = new Date(this.data.labels[leftIndex - 1]);\n      upper = new Date(this.data.labels[leftIndex]);\n      closest = +mouseX - +lower > +upper - mouseX ? upper : lower; // date mouse is closest to\n      closestIndex = this.data.labels.indexOf(d3_isoFormat(closest)); // which index the mouse is closest to\n      // console.log(+mouseXDate, leftIndex, +dateLower, +dateUpper, +closestDate, closestIndex);\n    } else if (this.xAxisType === 'number') {\n      leftIndex = d3_bisectRight(this.data.labels, mouseX);\n\n      // prevent error for 0 index\n      if (leftIndex === 0) return false;\n\n      lower = this.data.labels[leftIndex - 1];\n      upper = this.data.labels[leftIndex];\n      closest = +mouseX - +lower > +upper - mouseX ? upper : lower; // date mouse is closest to\n      closestIndex = this.data.labels.indexOf(closest); // which index the mouse is closest to\n      // console.log(+mouseXDate, leftIndex, +lower, +upper, +closest, closestIndex);\n    } else {\n      const domain = this.xAxisScale.domain();\n      const range = this.xAxisScale.range();\n      const rangePoints = d3_range(range[0], range[1], this.xAxisScale.step());\n      rangePoints.push(range[1]);\n\n      leftIndex = d3_bisect(rangePoints, mouseX);\n\n      if (leftIndex === 0) return false;\n\n      lower = rangePoints[leftIndex - 1];\n      upper = rangePoints[leftIndex];\n      closest = +mouseX - +lower > +upper - mouseX ? +upper : +lower;\n\n      const rangeIndex = rangePoints.indexOf(closest);\n      closest = domain[rangeIndex];\n\n      closestIndex = this.data.labels.indexOf(domain[rangeIndex]);\n    }\n\n    const circles = this.svg.selectAll('.line-group').selectAll('circle');\n\n    circles.filter((d, i) => i === closestIndex).classed('active', true);\n    circles.filter((d, i) => i !== closestIndex).classed('active', false);\n\n    this.tooltipLine.attr('x1', this.xAxisScale(closest)).attr('x2', this.xAxisScale(closest)).classed('active', true);\n\n    // console.log(this.tooltipLine.node().getBoundingClientRect(), this._scroll.getScrollPosition());\n    this.tooltipShow(this.tooltipLine.node(), closestIndex);\n\n    this.mousedata = {\n      label: this.xAxisType === 'date' ? new Date(closest).toISOString() : closest,\n      series: this.data.series.map((d) => {\n        return {\n          label: d.label,\n          value: d.values[closestIndex]\n        };\n      })\n    };\n\n    this.tooltipHovered.emit({ event, data: this.mousedata }); // index of left closest date\n  };\n\n  mouserectMouseOut = (event, data) => {\n    this.svg.selectAll('circle').classed('active', false);\n    this.tooltipLine.classed('active', false);\n    this.tooltipHide();\n  };\n\n  mouserectMouseClick = (event) => {\n    this.clicked.emit({ event, data: this.mousedata });\n  };\n\n  private tooltipShow = (node, closestIndex) => {\n    const scroll = this._scroll.getScrollPosition();\n    const mouserectDimensions = node.getBoundingClientRect();\n    const tooltipOffsetHeight = +this.tooltip.node().offsetHeight;\n    const tooltipDimensions = this.tooltip.node().getBoundingClientRect();\n    const dimensionCalculated = mouserectDimensions.left + tooltipDimensions.width + 8;\n    const clientWidth = document.body.clientWidth - 10;\n    let position;\n\n    // console.log(scroll, mouserectDimensions, tooltipOffsetHeight, tooltipDimensions, dimensionCalculated, clientWidth);\n\n    this.tooltip.select('.tooltip-header').html((d) => {\n      if (this.xAxisType === 'date') {\n        const parsedTime = d3_isoParse(this.data.labels[closestIndex]);\n        return `${this.tooltipHeadingFormat(parsedTime)}${this.tooltipHeadingSuffix}`;\n      } else if (this.xAxisType === 'number') {\n        const heading = this.data.labels[closestIndex];\n        return `${this.tooltipHeadingFormat(heading)}${this.tooltipHeadingSuffix}`;\n      } else {\n        return `${this.data.labels[closestIndex]}${this.tooltipHeadingSuffix}`;\n      }\n    });\n\n    this.tooltip.selectAll('.tooltip-value').html((d, i) => {\n      const value = this.data.series[i].values[closestIndex];\n\n      if (value === null || value === undefined) {\n        return '';\n      }\n\n      return this.tooltipValueFormatType ? this.tooltipValueFormat(value) : value;\n    });\n\n    // flip the tooltip positions if near the right edge of the screen\n    if (dimensionCalculated > clientWidth) {\n      this.tooltip.classed('east', true);\n      this.tooltip.classed('west', false);\n      position = `${mouserectDimensions.left - tooltipDimensions.width - 8}px`;\n    } else if (dimensionCalculated < clientWidth) {\n      this.tooltip.classed('east', false);\n      this.tooltip.classed('west', true);\n      position = `${mouserectDimensions.left + 8}px`;\n    }\n\n    // console.log('POSITION: ', position, mouserectDimensions);\n\n    // set the tooltip styles\n    this.tooltip.style(\n      'top',\n      `${mouserectDimensions.top + mouserectDimensions.height / 2 - tooltipOffsetHeight / 2 + scroll[1]}px`\n    );\n    this.tooltip.style('left', position);\n    this.tooltip.style('opacity', 1);\n  };\n\n  private tooltipHide = () => {\n    this.tooltip.style('opacity', 0);\n  };\n\n  private xAxisFormatter = (item) => {\n    if (this.xAxisType === 'date') {\n      const parseDate = d3_isoParse(item);\n      return this.xAxisFormat(parseDate);\n    } else if (this.xAxisType === 'number') {\n      return this.xAxisFormat(item);\n    } else {\n      return item;\n      // return this.xAxisFormat(item);\n    }\n  };\n\n  private yAxisFormatter = (item) => {\n    return this.yAxisFormat(item);\n  };\n}\n","import { Component, OnInit, Input, ElementRef, HostBinding, OnChanges, SimpleChanges } from '@angular/core';\n\nimport { select as d3_select } from 'd3-selection';\nimport { interpolate as d3_interpolate } from 'd3-interpolate';\nimport { arc as d3_arc } from 'd3-shape';\nimport { format as d3_format } from 'd3-format';\n\nimport { PbdsDatavizService } from './dataviz.service';\nimport { PbdsDatavizGauge } from './dataviz.interfaces';\n\n@Component({\n  selector: 'pbds-dataviz-gauge',\n  template: `\n    <div\n      *ngIf=\"!hideLabel\"\n      class=\"gauge-details\"\n      [ngClass]=\"{ halfmoon: type === 'halfmoon', 'gauge-details-small': type === 'halfmoon' }\"\n      [ngStyle]=\"{ 'max-width.px': width - 3 * gaugeWidth, 'padding-top.px': detailsPaddingTop }\"\n    >\n      <div class=\"gauge-number\">{{ label }}</div>\n      <div *ngIf=\"description\" class=\"gauge-description text-center\">{{ description }}</div>\n    </div>\n  `,\n  styles: []\n})\nexport class PbdsDatavizGaugeComponent implements OnInit, OnChanges {\n  @HostBinding('class.pbds-chart')\n  chartClass = true;\n\n  @HostBinding('class.pbds-chart-gauge')\n  gaugeClass = true;\n\n  @Input()\n  data: PbdsDatavizGauge;\n\n  @Input()\n  width = 300;\n\n  @Input()\n  type: 'halfmoon' | 'horseshoe' | 'circle' = 'halfmoon';\n\n  @Input()\n  color = '#E23DA8';\n\n  @Input()\n  hideLabel = false;\n\n  @Input()\n  labelFormatString = '';\n\n  @Input()\n  description;\n\n  @Input()\n  gaugeWidth = 20;\n\n  public label;\n  private chart;\n  private svg;\n  private gauge;\n  private labelTween;\n  private startAngle;\n  private endAngle;\n  private radius;\n  private arc;\n  private labelFormat;\n  private oldValue;\n  private height;\n  private rounded;\n  private detailsPaddingTop = 0;\n\n  constructor(private _dataviz: PbdsDatavizService, private _element: ElementRef) {}\n\n  ngOnInit() {\n    this.height = this.width;\n    this.radius = Math.max(this.width, this.height) / 2;\n    this.labelFormat = d3_format(this.labelFormatString);\n    this.label = this.labelFormat(this.data.value);\n\n    switch (this.type) {\n      case 'halfmoon':\n        this.startAngle = -90;\n        this.endAngle = 90;\n        this.rounded = true;\n        break;\n\n      case 'horseshoe':\n        this.startAngle = -140;\n        this.endAngle = 140;\n        this.rounded = true;\n        break;\n\n      case 'circle':\n        this.startAngle = 0;\n        this.endAngle = 360;\n        this.rounded = false;\n        break;\n    }\n\n    this.arc = d3_arc().cornerRadius(this.rounded ? this.gaugeWidth : 0);\n\n    this.chart = d3_select(this._element.nativeElement).attr('aria-hidden', 'true');\n\n    this.svg = this.chart\n      .append('svg')\n      .attr('width', this.width)\n      .attr('height', this.height)\n      .attr('class', 'img-fluid')\n      .attr('preserveAspectRatio', 'xMinYMin meet')\n      .attr('viewBox', `-${this.width / 2} -${this.height / 2} ${this.width} ${this.height}`);\n\n    this.drawChart();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.data && !changes.data.firstChange) {\n      this.oldValue = changes.data.previousValue.value;\n      this.updateChart();\n    }\n  }\n\n  degreesToRadians = (degree) => {\n    return (degree * Math.PI) / 180;\n  };\n\n  calculateMinMax = () => {\n    const percentage = this.data.minvalue / (this.data.maxvalue - this.data.minvalue);\n\n    return percentage * (this.data.value - this.data.minvalue) + (this.data.value - this.data.minvalue);\n  };\n\n  calculateCurve = (data) => {\n    const start = this.degreesToRadians(this.startAngle);\n    const end = start + (data * (this.degreesToRadians(this.endAngle) - start)) / this.data.maxvalue;\n\n    return [\n      {\n        startAngle: start,\n        endAngle: end\n      }\n    ];\n  };\n\n  drawChart = () => {\n    this.gauge = this.svg.append('g').attr('class', 'gauge-group');\n\n    // background arc\n    this.gauge\n      .append('path')\n      .data(this.calculateCurve(this.data.maxvalue))\n      .attr('class', 'gauge-background')\n      .attr('d', (d) => {\n        return this.arc({\n          innerRadius: this.radius - this.gaugeWidth,\n          outerRadius: this.radius,\n          startAngle: d.startAngle,\n          endAngle: d.endAngle\n        });\n      });\n\n    // value arc\n    this.gauge\n      .append('path')\n      .data(this.calculateCurve(this.calculateMinMax()))\n      .attr('class', 'gauge-value')\n      .attr('fill', this.color)\n      .attr('d', (d) => {\n        return this.arc({\n          innerRadius: this.radius - this.gaugeWidth,\n          outerRadius: this.radius,\n          startAngle: d.startAngle,\n          endAngle: d.endAngle\n        });\n      });\n\n    switch (this.type) {\n      case 'horseshoe':\n        const svgClone: SVGSVGElement = this.svg.node().cloneNode(true);\n\n        const fakeSvg = document.body.appendChild(svgClone);\n        fakeSvg.setAttribute('style', 'position: absolute; left: -10000px;'); // position the cloned element offscreen\n\n        const fakeGroup: any = fakeSvg.getElementsByClassName('gauge-group')[0];\n        const fakeBox = fakeGroup.getBBox();\n\n        this.svg\n          .attr('height', fakeBox.height)\n          .attr('viewBox', `-${this.width / 2} -${this.width / 2} ${this.width} ${fakeBox.height}`);\n\n        this.detailsPaddingTop = this.gaugeWidth;\n\n        fakeSvg.remove(); // remove the cloned element from the DOM\n        break;\n      case 'halfmoon':\n        this.svg.attr('height', this.width / 2);\n        this.svg.attr('viewBox', `-${this.width / 2} -${this.width / 2} ${this.width} ${this.width / 2}`);\n        break;\n    }\n  };\n\n  updateChart = () => {\n    const group = this.svg.select('.gauge-group');\n\n    group.select('.gauge-value').transition().duration(750).call(this.arcTween, this.calculateMinMax());\n\n    this.labelTween = this.chart.select('.gauge-number');\n\n    this.labelTween.transition().duration(750).call(this.textTween, this.data.value);\n  };\n\n  arcTween = (transition, value) => {\n    const newAngle = this.calculateCurve(value);\n\n    transition.attrTween('d', (d) => {\n      const interpolate = d3_interpolate(d.endAngle, newAngle[0].endAngle);\n\n      return (t) => {\n        d.endAngle = interpolate(t);\n\n        return this.arc({\n          innerRadius: this.radius - this.gaugeWidth,\n          outerRadius: this.radius,\n          startAngle: d.startAngle,\n          endAngle: d.endAngle\n        });\n      };\n    });\n  };\n\n  textTween = (transition, value) => {\n    value = d3_format('.4f')(value);\n    value = value.replace(/,/g, '.');\n\n    transition.tween('text', () => {\n      const interpolate = d3_interpolate(d3_format('.4f')(+this.oldValue), value);\n\n      return (t) => {\n        this.labelTween.text((d) => {\n          const updatedNumber = this.labelFormat(interpolate(t));\n          this.label = updatedNumber;\n          return updatedNumber;\n        });\n      };\n    });\n  };\n}\n","import {\n  Component,\n  OnInit,\n  Input,\n  ElementRef,\n  HostBinding,\n  ChangeDetectionStrategy,\n  OnChanges,\n  SimpleChanges\n} from '@angular/core';\n\nimport { select as d3_select } from 'd3-selection';\nimport { line as d3_line, area as d3_area } from 'd3-shape';\nimport { scaleLinear as d3_scaleLinear } from 'd3-scale';\nimport { min as d3_min, max as d3_max } from 'd3-array';\n\nimport { PbdsDatavizSparkline } from './dataviz.interfaces';\n\n@Component({\n  selector: 'pbds-dataviz-sparkline',\n  template: ``,\n  styles: [],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class PbdsDatavizSparklineComponent implements OnInit, OnChanges {\n  @HostBinding('class.pbds-chart')\n  chartClass = true;\n\n  @HostBinding('class.pbds-chart-sparkline')\n  sparklineClass = true;\n\n  @Input()\n  data: PbdsDatavizSparkline[] = [];\n\n  @Input()\n  width = 160;\n\n  @Input()\n  height = 40;\n\n  @Input()\n  type: 'line' | 'line-high' | 'area' | 'area-high' | 'bar' = 'line';\n\n  @Input()\n  color = '#E23DA8';\n\n  @Input()\n  colorNegative: string | null = null; // undocumented, may add if needed\n\n  @Input()\n  strokeWidth = 2; // undocumented, width is automatically set by the type\n\n  @Input()\n  yAxisMinBuffer = 0;\n\n  @Input()\n  yAxisMaxBuffer = 0;\n\n  private chart;\n  private svg;\n  private margin;\n\n  constructor(private _element: ElementRef) {}\n\n  ngOnInit() {\n    this.margin = { top: 1, right: 0, bottom: 1, left: 0 };\n\n    if (this.type === 'bar') {\n      this.margin = { top: 0, right: 0, bottom: 0, left: 0 };\n    }\n\n    if (this.type === 'line-high' || this.type === 'area-high') {\n      this.strokeWidth = 1;\n    }\n\n    if (this.colorNegative === null) {\n      this.colorNegative = this.color;\n    }\n\n    this.chart = d3_select(this._element.nativeElement).attr('aria-hidden', 'true');\n\n    this.svg = this.chart\n      .append('svg')\n      .attr('width', this.width)\n      .attr('height', this.height)\n      .attr('class', 'img-fluid')\n      .attr('preserveAspectRatio', 'xMinYMin meet')\n      .attr('viewBox', `-${this.margin.left} -${this.margin.top} ${this.width} ${this.height}`);\n\n    if (this.type === 'line' || this.type === 'line-high' || this.type === 'area' || this.type === 'area-high') {\n      this.svg\n        .append('path')\n        .attr('class', 'sparkline')\n        .attr('fill', 'none')\n        .attr('stroke-width', this.strokeWidth)\n        .attr('stroke', this.color);\n    }\n\n    if (this.type === 'area' || this.type === 'area-high') {\n      this.svg.append('path').attr('class', 'sparkarea').attr('fill', this.color).attr('fill-opacity', 0.3);\n    }\n\n    this.updateChart();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.data && !changes.data.firstChange) {\n      this.updateChart();\n    }\n  }\n\n  updateChart() {\n    const data: any = this.data;\n\n    const x = d3_scaleLinear()\n      .domain([0, this.data.length])\n      .range([0, this.width - this.margin.left - this.margin.right]);\n\n    const y = d3_scaleLinear()\n      .domain([+d3_min(data) - this.yAxisMinBuffer, +d3_max(data) + this.yAxisMaxBuffer])\n      .range([this.height - this.margin.top - this.margin.bottom, 0]);\n\n    const line = d3_line()\n      .x((d, i) => x(i))\n      .y((d: any) => y(d));\n\n    const area = d3_area()\n      .x((d, i) => x(i))\n      .y0(this.height)\n      .y1((d: any) => y(d));\n\n    if (this.type === 'line' || this.type === 'line-high' || this.type === 'area' || this.type === 'area-high') {\n      this.svg\n        .selectAll('.sparkline')\n        .transition()\n        .duration(1000)\n        .attr('d', () => line(data));\n    }\n\n    if (this.type === 'area' || this.type === 'area-high') {\n      this.svg\n        .selectAll('.sparkarea')\n        .transition()\n        .duration(1000)\n        .attr('d', () => area(data));\n    }\n\n    if (this.type === 'bar') {\n      const barWidth = (this.width - this.data.length) / this.data.length;\n\n      // handles negative values, see example https://www.essycode.com/posts/create-sparkline-charts-d3/\n      this.svg\n        .selectAll('.sparkbar')\n        .data(this.data)\n        .join(\n          (enter) =>\n            enter\n              .append('rect')\n              .attr('class', 'sparkbar')\n              .attr('x', (d, i) => x(i))\n              .attr('y', this.height)\n              .attr('width', barWidth)\n              .attr('fill', (d) => (d > 0 ? this.color : this.colorNegative)) // still uses undocumented negative color values\n              .attr('height', 0)\n              .call((enter) => {\n                enter\n                  .transition()\n                  .duration(1000)\n                  .attr('y', (d) => (d > 0 ? y(d) : y(0)))\n                  .attr('height', (d) => Math.abs(y(d) - y(0)));\n\n                return enter;\n              }),\n          (update) =>\n            update\n              .transition()\n              .duration(1000)\n              .selection()\n              .attr('x', (d, i) => x(i))\n              .attr('y', (d) => (d > 0 ? y(d) : y(0)))\n              .attr('width', barWidth)\n              .attr('height', (d) => Math.abs(y(d) - y(0)))\n              .attr('fill', (d) => (d > 0 ? this.color : this.colorNegative)),\n          (exit) => exit.remove()\n        );\n    }\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  EventEmitter,\n  HostBinding,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  SimpleChanges\n} from '@angular/core';\n\nimport { ViewportScroller } from '@angular/common';\n\nimport { max as d3_max, min as d3_min } from 'd3-array';\nimport { axisBottom as d3_axisBottom, axisLeft as d3_axisLeft } from 'd3-axis';\nimport { scaleBand as d3_scaleBand, scaleLinear as d3_scaleLinear, scaleOrdinal as d3_scaleOrdinal } from 'd3-scale';\nimport { select as d3_select } from 'd3-selection';\nimport { stack as d3_stack, stackOffsetDiverging, stackOrderNone as d3_stackOrderNone } from 'd3-shape';\nimport { isoParse as d3_isoParse } from 'd3-time-format';\n\nimport { PbdsDatavizBarStacked } from './dataviz.interfaces';\nimport { PbdsDatavizService } from './dataviz.service';\n\n@Component({\n  selector: 'pbds-dataviz-bar-stacked',\n  template: ``,\n  styles: [],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class PbdsDatavizBarStackedComponent implements OnInit, OnDestroy, OnChanges {\n  @HostBinding('class.pbds-chart')\n  chartClass = true;\n\n  @HostBinding('class.pbds-chart-stacked-bar')\n  stackedBarClass = true;\n\n  @Input()\n  data: Array<PbdsDatavizBarStacked>;\n\n  @Input()\n  width = 306;\n\n  @Input()\n  height = 400;\n\n  @Input()\n  type: 'low' | 'medium' | 'high' | 'debug' = 'medium'; // debug to show all chart options\n\n  @Input()\n  marginTop = 10; // hardcoded on purpose, do not document until feedback\n\n  @Input()\n  marginRight = 0; // hardcoded on purpose, do not document until feedback\n\n  @Input()\n  marginBottom = 30; // hardcoded on purpose, do not document until feedback\n\n  @Input()\n  marginLeft = 55; // hardcoded on purpose, do not document until feedback\n\n  @Input()\n  hideXAxis = false;\n\n  @Input()\n  xAxisFormatType: 'number' | 'time' = null;\n\n  @Input()\n  xAxisFormatString = '';\n\n  @Input()\n  xAxisTitle: string | null = null;\n\n  @Input()\n  yAxisFormatType: 'number' | 'time' = null;\n\n  @Input()\n  yAxisFormatString = '';\n\n  @Input()\n  yAxisTicks = 5;\n\n  @Input()\n  yAxisMaxBuffer = 0.01;\n\n  @Input()\n  hideLegend = false;\n\n  @Input()\n  legendWidth = 105 + 28; // hardcoded legend width + left margin, do not document until feedback\n\n  @Input()\n  legendPosition: 'right' | 'bottom' = 'bottom';\n\n  @Input()\n  legendLabelFormatType: 'number' | 'time' = null;\n\n  @Input()\n  legendLabelFormatString = '';\n\n  @Input()\n  tooltipHeadingFormatType: 'time' = null;\n\n  @Input()\n  tooltipHeadingFormatString = '';\n\n  @Input()\n  tooltipHeadingSuffix = '';\n\n  @Input()\n  tooltipHeadingValueFormatType: 'number' = null;\n\n  @Input()\n  tooltipHeadingValueFormatString = '';\n\n  @Input()\n  tooltipLabelFormatType: 'time' = null;\n\n  @Input()\n  tooltipLabelFormatString = '';\n\n  @Input()\n  tooltipValueFormatType: 'number' = null;\n\n  @Input()\n  tooltipValueFormatString = '';\n\n  @Input()\n  theme;\n\n  @Input()\n  customColor: boolean = false;\n\n  @Input()\n  colorsArray = [];\n\n  @Input()\n  totalSavings;\n  @Input() rotateXaxis = true;\n  @Input() isDiverging = false;\n\n  @Output()\n  hovered: EventEmitter<object> = new EventEmitter<object>();\n\n  @Output()\n  clicked: EventEmitter<object> = new EventEmitter<object>();\n\n  private dataStack;\n  private dataKeys;\n  private chart;\n  private svg;\n  private grayBars;\n  private mouseBars;\n  private bars;\n  private margin;\n  private colorRange;\n  private hideGrayBars: boolean;\n  private xAxisScale;\n  private xAxisCall;\n  private xAxis;\n  private xAxisFormat;\n  private xAxisTickSize: number;\n  private xAxisTickSizeOuter: number;\n  private xAxisTitleMargin: number;\n  private hideXAxisDomain: boolean;\n  private hideXAxisZero: boolean;\n  private hideXAxisTicks: boolean;\n  private hideXGrid: boolean;\n  private hideYGrid: boolean;\n  private yAxisMax;\n  private yAxisScale;\n  private yAxisCall;\n  private yAxis;\n  private yAxisFormat;\n  private yAxisTickSize: number;\n  private yAxisTickSizeOuter: number;\n  private xGrid;\n  private xGridCall;\n  private yGrid;\n  private yGridCall;\n  private hideYAxis: boolean;\n  private hideYAxisZero: boolean;\n  private hideYAxisDomain: boolean;\n  private hideYAxisTicks: boolean;\n  private legendLabelFormat;\n  private tooltip;\n  private hideTooltip: boolean;\n  private tooltipHeadingFormat;\n  private tooltipHeadingValueFormat;\n  private tooltipValueFormat;\n  private tooltipLabelFormat;\n  private centerline;\n  yAxisMin: any;\n\n  constructor(private _dataviz: PbdsDatavizService, private _element: ElementRef, private _scroll: ViewportScroller) {}\n\n  ngOnInit() {\n    // extract keys for stack data\n    this.dataKeys = Object.keys(this.data[0]).filter((item) => item !== 'key');\n\n    // create the D3 stack data\n    if (this.isDiverging) {\n      this.dataStack = d3_stack().keys(this.dataKeys).offset(stackOffsetDiverging)(this.data);\n    } else {\n      this.dataStack = d3_stack().keys(this.dataKeys).order(d3_stackOrderNone)(this.data);\n    }\n\n    //////////////////////////////////////////\n\n    this.margin = {\n      top: +this.marginTop,\n      right: +this.marginRight,\n      bottom: +this.marginBottom,\n      left: +this.marginLeft\n    };\n\n    // create formatters\n    this.xAxisFormat = this._dataviz.d3Format(this.xAxisFormatType, this.xAxisFormatString);\n    this.yAxisFormat = this._dataviz.d3Format(this.yAxisFormatType, this.yAxisFormatString);\n    this.legendLabelFormat = this._dataviz.d3Format(this.legendLabelFormatType, this.legendLabelFormatString);\n    this.tooltipHeadingFormat = this._dataviz.d3Format(this.tooltipHeadingFormatType, this.tooltipHeadingFormatString);\n    this.tooltipHeadingValueFormat = this._dataviz.d3Format(\n      this.tooltipHeadingValueFormatType,\n      this.tooltipHeadingValueFormatString\n    );\n    this.tooltipLabelFormat = this._dataviz.d3Format(this.tooltipLabelFormatType, this.tooltipLabelFormatString);\n    this.tooltipValueFormat = this._dataviz.d3Format(this.tooltipValueFormatType, this.tooltipValueFormatString);\n\n    // defaults for all chart types\n    this.hideGrayBars = false;\n    this.hideYAxis = false;\n    this.hideXAxisZero = false;\n    this.hideYAxisZero = false;\n    this.hideXGrid = false;\n    this.hideYGrid = false;\n    this.hideXAxisDomain = false;\n    this.hideYAxisDomain = false;\n    this.hideTooltip = false;\n    this.hideXAxisTicks = false;\n    this.hideYAxisTicks = false;\n    this.xAxisTickSize = 8;\n    this.xAxisTickSizeOuter = 0;\n    this.yAxisTickSize = 8;\n    this.yAxisTickSizeOuter = 0;\n    // this.hideTooltipLabel = false;\n\n    if (this.type !== 'debug') {\n      // set type defaults\n      switch (this.type) {\n        case 'low':\n          this.hideGrayBars = true;\n          this.hideXAxisTicks = true;\n          this.hideXGrid = true;\n          this.hideYAxisDomain = false;\n          this.hideYAxisTicks = true;\n          this.legendPosition = 'bottom';\n          break;\n\n        case 'medium':\n          this.hideXAxisDomain = true;\n          this.hideXGrid = true;\n          this.hideXAxisTicks = true;\n          this.hideYAxisDomain = true;\n          this.hideYAxisTicks = true;\n          this.hideYGrid = true;\n          break;\n\n        case 'high':\n          this.hideXAxis = true;\n          this.hideXAxisTicks = true;\n          this.hideXAxisDomain = true;\n          this.hideXGrid = true;\n          this.hideYAxisDomain = true;\n          this.hideYAxisTicks = true;\n          this.hideYGrid = true;\n          this.hideLegend = false;\n          this.legendPosition = 'bottom';\n          break;\n      }\n    }\n\n    this.xAxisTitleMargin = this.xAxisTitle ? 30 : 0;\n\n    // adjust margin if xAxis hidden\n    //if (this.hideXAxis) this.margin.bottom = 10; // need small margin for yAxis with 0 tick label\n\n    if (!this.hideLegend && this.legendPosition === 'right') {\n      this.width = +this.width - +this.legendWidth;\n    }\n\n    // create the chart\n    this.chart = d3_select(this._element.nativeElement).attr('aria-hidden', 'true');\n\n    // create chart svg\n    this.svg = this.chart\n      .append('svg')\n      .attr('width', +this.width)\n      .attr('height', +this.height + this.margin.top + this.margin.bottom)\n      .attr('class', 'img-fluid')\n      .attr('preserveAspectRatio', 'xMinYMin meet')\n      .attr(\n        'viewBox',\n        `-${this.margin.left} -${this.margin.top} ${+this.width} ${+this.height + this.margin.top + this.margin.bottom}`\n      );\n\n    this.grayBars = this.svg.append('g').attr('class', 'gray-bars');\n    this.mouseBars = this.svg.append('g').attr('class', 'mouseover-bars');\n    this.bars = this.svg.append('g').attr('class', 'bars');\n\n    // build color ranges\n    const colors = this.customColor ? this.colorsArray : this._dataviz.getColors(false, this.theme);\n    this.colorRange = d3_scaleOrdinal().range(colors);\n    // this.colorRange = d3_scaleOrdinal().range(this._dataviz.getColors(false, this.theme));\n\n    // X AXIS\n    this.xAxisScale = d3_scaleBand()\n      .domain(this.data.map((d) => d.key))\n      .rangeRound([0, this.width - this.margin.left])\n      .align(0);\n\n    // add padding to the scale for gray bars\n    !this.hideGrayBars\n      ? this.xAxisScale.paddingInner(0.1).paddingOuter(0)\n      : this.xAxisScale.paddingInner(0).paddingOuter(0);\n\n    this.xAxisCall = d3_axisBottom(this.xAxisScale)\n      .tickSize(this.xAxisTickSize)\n      .tickSizeOuter(this.xAxisTickSizeOuter)\n      .tickFormat(this.xAxisFormatter);\n\n    this.xAxis = this.svg\n      .append('g')\n      .attr('class', 'axis axis-x')\n      .attr('transform', `translate(0, ${this.height})`)\n      .classed('axis-hidden', this.hideXAxis)\n      .classed('axis-zero-hidden', this.hideXAxisZero)\n      .classed('axis-domain-hidden', this.hideXAxisDomain)\n      .classed('axis-ticks-hidden', this.hideXAxisTicks)\n      .call(this.xAxisCall);\n\n    // X GRIDLINES\n    if (!this.hideXGrid) {\n      this.xGridCall = d3_axisBottom(this.xAxisScale).tickSize(-this.height);\n\n      this.xGrid = this.svg\n        .append('g')\n        .attr('class', 'grid grid-x')\n        .classed('grid-zero-hidden', this.hideXAxisZero)\n        .attr('transform', `translate(0, ${this.height})`)\n        .call(this.xGridCall);\n    }\n\n    // X AXIS TITLE\n    if (this.xAxisTitle) {\n      this.svg\n        .append('text')\n        .attr('class', 'axis-title')\n        .attr('text-anchor', 'middle')\n        .attr(\n          'transform',\n          `translate(${this.svg.attr('width') / 2 - this.margin.left / 2 - this.margin.right / 2}, ${\n            +this.height + +this.margin.top + (this.hideXAxis ? 20 : 40)\n          })`\n        )\n        .text(this.xAxisTitle);\n    }\n\n    // KEEP: use this block to debug yAxisMax\n    // console.log(\n    //   d3_max(this.dataStack, (data: any) => {\n    //     // console.log(data);\n\n    //     return d3_max(data, (d: any) => {\n    //       // console.log('D: ', d);\n    //       return d[1];\n    //     });\n    //   })\n    // );\n\n    // Y AXIS\n    this.yAxisMin = d3_min(this.dataStack, (data: any) => {\n      return d3_min(data, (d: any) => {\n        return d[0];\n      });\n    });\n    this.yAxisMax = d3_max(this.dataStack, (data: any) => {\n      return d3_max(data, (d: any) => {\n        return d[1];\n      });\n    });\n\n    this.yAxisMax = this.yAxisMax + this.yAxisMax * this.yAxisMaxBuffer;\n\n    this.yAxisScale = d3_scaleLinear().domain([this.yAxisMin, this.yAxisMax]).nice().rangeRound([this.height, 0]);\n\n    this.yAxisCall = d3_axisLeft(this.yAxisScale)\n      .ticks(this.yAxisTicks)\n      .tickSize(this.yAxisTickSize)\n      .tickSizeOuter(this.yAxisTickSizeOuter)\n      .tickFormat(this.yAxisFormatter);\n\n    this.yAxis = this.svg\n      .append('g')\n      .attr('class', 'axis axis-y')\n      .classed('axis-hidden', this.hideYAxis)\n      .classed('axis-zero-hidden', this.hideYAxisZero)\n      .classed('axis-domain-hidden', this.hideYAxisDomain)\n      .classed('axis-ticks-hidden', this.hideYAxisTicks)\n      .call(this.yAxisCall);\n\n    if (this.isDiverging) {\n      this.centerline = this.svg\n        .append('line')\n        .attr('class', 'centerline')\n        .attr('x2', +this.width - this.margin.right - this.margin.left)\n        .attr('transform', `translate(0,  ${this.yAxisScale(0)})`);\n    } else {\n      this.svg.selectAll('.centerline').remove();\n    }\n\n    // Y GRIDLINES\n    if (!this.hideYGrid) {\n      this.yGridCall = d3_axisLeft(this.yAxisScale)\n        .ticks(this.yAxisTicks)\n        .tickSize(-this.width + this.margin.left + this.margin.right);\n\n      this.yGrid = this.svg\n        .append('g')\n        .attr('class', 'grid grid-y')\n        .classed('grid-zero-hidden', this.hideYAxisZero)\n        .attr('transform', `translate(0, 0)`)\n        .call(this.yGridCall);\n    }\n\n    // TOOLTIP\n    if (!this.hideTooltip) {\n      this.tooltip = d3_select('body')\n        .append('div')\n        .attr('class', 'pbds-tooltip west')\n        .style('opacity', 0)\n        .attr('aria-hidden', 'true'); // hide tooltip for accessibility\n\n      // tooltip header\n      this.tooltip.append('div').attr('class', 'tooltip-header');\n      this.tooltip.append('div').attr('class', 'tooltip-header-value');\n\n      // tooltip table\n      this.tooltip.append('table').attr('class', 'tooltip-table text-left w-100').append('tbody');\n    }\n\n    // add legend classes\n    if (!this.hideLegend) {\n      this.chart.classed('pbds-chart-legend-bottom', this.legendPosition === 'bottom' ? true : false);\n      this.chart.append('ul').attr('class', `legend legend-${this.legendPosition}`);\n    }\n\n    this.updateChart();\n  }\n\n  ngOnDestroy() {\n    if (this.tooltip) this.tooltip.remove();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.data && !changes.data.firstChange) {\n      this.updateChart(false);\n    }\n  }\n\n  updateChart = (firstRun = true) => {\n    this.dataKeys = Object.keys(this.data[0]).filter((item) => item !== 'key');\n\n    // create the D3 stack data\n    if (this.isDiverging) {\n      this.dataStack = d3_stack().keys(this.dataKeys).offset(stackOffsetDiverging)(this.data);\n    } else {\n      this.dataStack = d3_stack().keys(this.dataKeys).order(d3_stackOrderNone)(this.data);\n    }\n\n    // update the xScale\n    this.xAxisScale.domain(this.data.map((d) => d.key));\n\n    // update the yScale\n    this.yAxisMin = d3_min(this.dataStack, (data: any) => {\n      return d3_min(data, (d: any) => {\n        return d[0];\n      });\n    });\n    this.yAxisMax = d3_max(this.dataStack, (data: any) => {\n      return d3_max(data, (d: any) => {\n        return d[1];\n      });\n    });\n\n    this.yAxisMax = this.yAxisMax + this.yAxisMax * this.yAxisMaxBuffer;\n\n    this.yAxisScale.domain([this.yAxisMin, this.yAxisMax]).rangeRound([this.height, 0]).nice();\n\n    this.xAxis\n      .transition()\n      .duration(1000) // 1000\n      .call(this.xAxisCall);\n\n    this.yAxis\n      .transition()\n      .duration(1000) // 1000\n      .call(this.yAxisCall);\n\n    // update the grids\n    if (!this.hideXGrid) {\n      this.xGrid\n        .transition()\n        .duration(1000) // 1000\n        .call(this.xGridCall);\n    }\n\n    if (!this.hideYGrid) {\n      this.yGrid\n        .transition()\n        .duration(1000) // 1000\n        .call(this.yGridCall);\n    }\n\n    if (this.isDiverging) {\n      this.centerline\n        .transition()\n        .duration(1000) // 1000\n        .attr('transform', `translate(0,  ${this.yAxisScale(0)})`);\n    }\n\n    // add gray bars\n    if (!this.hideGrayBars) {\n      this.grayBars\n        .selectAll('.gray-bar')\n        .data(this.data)\n        .join(\n          (enter) =>\n            enter\n              .append('rect')\n              .attr('class', 'gray-bar')\n              .attr('x', (d) => this.xAxisScale(d.key))\n              .attr('width', this.xAxisScale.bandwidth())\n              .attr('height', this.height),\n          (update) =>\n            update\n              .transition()\n              .duration((d, i, n) => (firstRun ? 0 : 1000))\n              .attr('x', (d) => this.xAxisScale(d.key))\n              .attr('width', this.xAxisScale.bandwidth())\n              .attr('height', this.height)\n              .selection(),\n          (exit) => exit.remove()\n        );\n    }\n\n    // add colored bars\n    const barGroups = this.bars\n      .selectAll('.bar-group')\n      .data(this.dataStack)\n      .join(\n        (enter) =>\n          enter\n            .append('g')\n            .attr('class', 'bar-group')\n            .attr('fill', (d) => this.colorRange(d.index)),\n        (update) => update.attr('fill', (d) => this.colorRange(d.index)),\n        (exit) => exit.remove()\n      );\n\n    barGroups\n      .selectAll('.bar')\n      .data((d) => d)\n      .join(\n        (enter) =>\n          enter\n            .append('rect')\n            .attr('class', 'bar')\n            .classed('bar-divided', this.type !== 'high')\n            .classed('bar-divided-low', this.type === 'low')\n            .attr('x', (d, i) => {\n              let x;\n\n              if (this.type === 'medium') {\n                x = this.xAxisScale(d.data.key) + (this.xAxisScale.bandwidth() / 8) * 3;\n              } else {\n                x = this.xAxisScale(d.data.key) + (this.xAxisScale.bandwidth() / 4) * 1;\n              }\n\n              return x;\n            })\n            .attr('y', (d) => this.yAxisScale(d[0]))\n            .attr('width', (d) => {\n              let width;\n\n              if (this.type === 'medium') {\n                width = this.xAxisScale.bandwidth() / 4;\n              } else {\n                width = this.xAxisScale.bandwidth() / 2;\n              }\n\n              return width;\n            })\n            .attr('height', 0)\n            .call((enter) => {\n              enter\n                .transition()\n                .duration((d, i, n) => (firstRun ? 0 : 500))\n                .delay((d, i, n) => (firstRun ? 0 : 750))\n                .attr('y', (d) => this.yAxisScale(d[1]))\n                .attr('height', (d) => {\n                  return this.yAxisScale(d[0]) - this.yAxisScale(d[1]);\n                });\n\n              return enter;\n            }),\n        (update) =>\n          update.call((update) => {\n            update\n              .transition()\n              .duration(1000)\n              .attr('width', (d) => {\n                let width;\n\n                if (this.type === 'medium') {\n                  width = this.xAxisScale.bandwidth() / 4;\n                } else {\n                  width = this.xAxisScale.bandwidth() / 2;\n                }\n\n                return width;\n              })\n              .attr('x', (d, i) => {\n                let x;\n\n                if (this.type === 'medium') {\n                  x = this.xAxisScale(d.data.key) + (this.xAxisScale.bandwidth() / 8) * 3;\n                } else {\n                  x = this.xAxisScale(d.data.key) + (this.xAxisScale.bandwidth() / 4) * 1;\n                }\n\n                return x;\n              })\n              .attr('y', (d) => this.yAxisScale(d[1]))\n              .attr('height', (d) => this.yAxisScale(d[0]) - this.yAxisScale(d[1]))\n              .selection();\n\n            return update;\n          }),\n\n        (exit) => exit.remove()\n      );\n\n    // mouseover bars\n    this.mouseBars\n      .selectAll('.mouseover-bar')\n      .data(this.data)\n      .join(\n        (enter) =>\n          enter\n            .append('rect')\n            .attr('class', 'mouseover-bar')\n            .style('opacity', 0)\n            .attr('x', (d) => this.xAxisScale(d.key))\n            .attr('width', this.xAxisScale.bandwidth())\n            .attr('height', this.height),\n        (update) =>\n          update\n            .attr('pointer-events', 'none')\n            .attr('x', (d) => this.xAxisScale(d.key))\n            .attr('width', this.xAxisScale.bandwidth())\n            .attr('height', this.height)\n            .transition()\n            .selection()\n            .attr('pointer-events', 'auto'),\n        (exit) => exit.transition().selection().attr('pointer-events', 'none').remove()\n      )\n      .datum((d, i) => {\n        return { data: d, index: i };\n      })\n      .on('mouseover', (event, data) => this.barMouseOver(event, data))\n      .on('mouseout', (event, data) => this.barMouseOut())\n      .on('click', (event, data) => this.barMouseClick(event, data));\n\n    this.bars.raise();\n    this.xAxis.raise();\n    this.mouseBars.raise();\n\n    if (!this.hideLegend) {\n      this.chart\n        .select('.legend')\n        .selectAll('.legend-item')\n        .data(this.dataStack)\n        .join(\n          (enter) => {\n            const li = enter.append('li').attr('class', 'legend-item');\n\n            li.append('span')\n              .attr('class', 'legend-key')\n              .style('background-color', (d) => this.colorRange(d.index));\n\n            li.append('span')\n              .attr('class', 'legend-label')\n              .html((d) => {\n                switch (this.legendLabelFormatType) {\n                  case 'number':\n                    return this.legendLabelFormat(d.key);\n\n                  case 'time':\n                    const parsedTime = d3_isoParse(d.key);\n                    return this.legendLabelFormat(parsedTime);\n\n                  default:\n                    return d.key;\n                }\n              });\n\n            return li;\n          },\n          (update) => {\n            update.select('.legend-label').html((d) => {\n              switch (this.legendLabelFormatType) {\n                case 'number':\n                  return this.legendLabelFormat(d.key);\n\n                case 'time':\n                  const parsedTime = d3_isoParse(d.key);\n                  return this.legendLabelFormat(parsedTime);\n\n                default:\n                  return d.key;\n              }\n            });\n\n            return update;\n          },\n          (exit) => exit.remove()\n        )\n        .datum((d, i) => {\n          return { data: this.data, index: i };\n        })\n        .on('mouseover', (event, data) => this.legendMouseOver(event, data))\n        .on('mouseout', () => this.legendMouseOut())\n        .on('click', (event, data) => this.legendMouseClick(event, data));\n    }\n  };\n\n  barMouseOver = (event, data) => {\n    this.chart\n      .selectAll('.bar-group')\n      .selectAll('.bar')\n      .filter((d, i) => {\n        return i !== data.index;\n      })\n      .classed('inactive', true);\n\n    this.tooltipShow(event, data);\n\n    this.hovered.emit({ event, data });\n  };\n\n  barMouseOut = () => {\n    this.chart.selectAll('.bar').classed('inactive', false);\n\n    this.tooltipHide();\n  };\n\n  barMouseClick = (event, data) => {\n    this.clicked.emit({ event, data });\n  };\n\n  legendMouseOver = (event, data) => {\n    this.chart\n      .selectAll('.legend-item')\n      .filter((d, i) => i !== data.index)\n      .classed('inactive', true);\n\n    this.chart\n      .selectAll('.bar-group')\n      .filter((d, i) => i !== data.index)\n      .classed('inactive', true);\n\n    this.hovered.emit({ event, data });\n  };\n\n  legendMouseOut = () => {\n    this.chart.selectAll('.legend-item').classed('inactive', false);\n\n    this.chart.selectAll('.bar-group').classed('inactive', false);\n\n    this.tooltipHide();\n  };\n\n  legendMouseClick = (event, data) => {\n    this.clicked.emit({ event, data });\n  };\n\n  private xAxisFormatter = (item) => {\n    switch (this.xAxisFormatType) {\n      case 'number':\n        return this.xAxisFormat(item);\n\n      case 'time':\n        const parseDate = d3_isoParse(item);\n        return this.xAxisFormat(parseDate);\n\n      default:\n        return item;\n    }\n  };\n\n  private tooltipShow = (event, data) => {\n    const scroll = this._scroll.getScrollPosition();\n    const mouserectDimensions = event.currentTarget.getBoundingClientRect();\n    const clientWidth = document.body.clientWidth - 10;\n    let dimensionCalculated;\n    let tooltipDimensions;\n    let tooltipOffsetHeight;\n    // const yPosition = event.currentTarget.getBoundingClientRect();\n    let yMaxBar = 0;\n    let yPosition;\n    let xPosition;\n\n    // console.log(scroll, mouserectDimensions, tooltipOffsetHeight, tooltipDimensions, dimensionCalculated, clientWidth);\n\n    this.tooltip.select('.tooltip-header').html((d) => {\n      switch (this.tooltipHeadingFormatType) {\n        case 'time':\n          const parseDate = d3_isoParse(data.data.key);\n          return `${this.tooltipHeadingFormat(parseDate)}${this.tooltipHeadingSuffix}`;\n\n        default:\n          return `${data.data.key}${this.tooltipHeadingSuffix}`;\n      }\n    });\n\n    this.tooltip.select('.tooltip-header-value').html((d) => {\n      let total = 0;\n\n      Object.keys(data.data).map((e) => {\n        if (e !== 'key') {\n          total = total + data.data[e];\n        }\n      });\n\n      return this.tooltipHeadingValueFormat(total);\n    });\n\n    this.tooltip\n      .select('.tooltip-table')\n      .select('tbody')\n      .html((d) => {\n        let html = ``;\n\n        Object.keys(data.data)\n          .filter((key) => key !== 'key') // remove the 'key' property\n          .map((key, index) => {\n            let label;\n            let value = data.data[key];\n\n            switch (this.tooltipLabelFormatType) {\n              case 'time':\n                const parseDate = d3_isoParse(key);\n                label = this.tooltipHeadingFormat(parseDate);\n                break;\n\n              default:\n                label = key;\n            }\n\n            switch (this.tooltipValueFormatType) {\n              case 'number':\n                if (value === null || value === undefined) {\n                  value = '';\n                } else {\n                  value = this.tooltipValueFormat(data.data[key]);\n                }\n                break;\n\n              default:\n                value = data.data[key];\n            }\n\n            html += `\n              <tr class='tooltip-item'>\n                <td style=\"color: ${this.colorRange(index)}\">\n                  <span class=\"pbds-tooltip-key\"></span>\n                </td>\n                <td class=\"tooltip-label pr-2 text-nowrap\">${label}</td>\n                <td class=\"tooltip-value text-right text-nowrap\">${value}</td>\n              </tr>\n            `;\n          });\n\n        return html;\n      });\n\n    tooltipDimensions = this.tooltip.node().getBoundingClientRect();\n    dimensionCalculated = mouserectDimensions.left + mouserectDimensions.width + tooltipDimensions.width + 8;\n    tooltipOffsetHeight = +this.tooltip.node().offsetHeight;\n\n    // flip the tooltip positions if near the right edge of the screen\n    if (dimensionCalculated > clientWidth) {\n      this.tooltip.classed('east', true);\n      this.tooltip.classed('west', false);\n\n      if (this.type === 'medium') {\n        xPosition = `${mouserectDimensions.left + (mouserectDimensions.width / 8) * 3 - tooltipDimensions.width - 8}px`;\n      } else {\n        xPosition = `${mouserectDimensions.left + (mouserectDimensions.width / 4) * 1 - tooltipDimensions.width - 8}px`;\n      }\n    } else if (dimensionCalculated < clientWidth) {\n      this.tooltip.classed('east', false);\n      this.tooltip.classed('west', true);\n\n      if (this.type === 'medium') {\n        xPosition = `${mouserectDimensions.left + (mouserectDimensions.width / 8) * 5 + 8}px`;\n      } else {\n        xPosition = `${mouserectDimensions.left + (mouserectDimensions.width / 4) * 3 + 8}px`;\n      }\n    }\n\n    yPosition = this.svg\n      .selectAll('.bar-group')\n      .selectAll('.bar')\n      .filter((d, i) => {\n        return i === data.index;\n      })\n      .each((d, i) => {\n        yMaxBar = d[1] > yMaxBar ? d[1] : yMaxBar;\n      })\n      .filter((d, i) => {\n        return d[1] === yMaxBar;\n      })\n      .node()\n      .getBoundingClientRect();\n\n    // set the tooltip styles\n    this.tooltip.style('top', `${yPosition.top - tooltipOffsetHeight / 2 + scroll[1]}px`);\n    this.tooltip.style('left', xPosition);\n    this.tooltip.style('opacity', 1);\n  };\n\n  private tooltipHide = () => {\n    this.tooltip.style('opacity', 0);\n  };\n\n  private yAxisFormatter = (item) => {\n    switch (this.yAxisFormatType) {\n      case 'number':\n        return this.yAxisFormat(item);\n\n      case 'time':\n        const parseDate = d3_isoParse(item);\n        return this.yAxisFormat(parseDate);\n\n      default:\n        return item;\n    }\n  };\n}\n","import { Component, Input, HostBinding } from '@angular/core';\n\n@Component({\n  selector: 'pbds-dataviz-metric-indicator',\n  template: `\n    <span>{{ value }}</span>\n  `,\n  styles: []\n})\nexport class PbdsDatavizMetricIndicatorComponent {\n  @Input()\n  value = 0;\n\n  @Input()\n  class = '';\n\n  @Input()\n  indicator: 'flat' | 'increase' | 'decrease' = 'flat';\n\n  @Input()\n  inverse = false;\n\n  @HostBinding('class')\n  get hostClasses() {\n    return ['metric-block-indicator', this.indicator, this.inverse ? 'inverse' : '', this.class].join(' ');\n  }\n}\n","import { Component, OnInit, Input, HostBinding, ElementRef, ContentChild } from '@angular/core';\n\nimport { PbdsDatavizMetricIndicatorComponent } from './dataviz-metric-indicator.component';\n\n@Component({\n  selector: 'pbds-dataviz-metric-block',\n  template: `\n    <div class=\"metric-block-inner\">\n      <div *ngIf=\"heading\" class=\"metric-block-heading\">\n        {{ heading }}\n        <i\n          *ngIf=\"infoMessage\"\n          class=\"pbi-icon-mini pbi-info-circle-open ml-1 align-middle\"\n          ngbTooltip=\"{{ infoMessage }}\"\n          container=\"body\"\n        ></i>\n      </div>\n      <div class=\"metric-block-data-block\">\n        <div class=\"metric-block-contents\">\n          <div class=\"metric-block-value\" [ngClass]=\"{ 'mr-0': hideValueMargin }\">\n            {{ value\n            }}<span [ngClass]=\"{ 'metric-block-unit': isUnit, 'metric-block-percentage': isPercentUnit }\">{{\n              unit\n            }}</span>\n          </div>\n\n          <div>\n            <ng-content select=\"pbds-dataviz-metric-indicator\"></ng-content>\n          </div>\n          <div *ngIf=\"description\" class=\"metric-block-description\">{{ description }}</div>\n        </div>\n        <ng-content select=\"pbds-dataviz-sparkline\"></ng-content>\n      </div>\n    </div>\n  `,\n  styles: []\n})\nexport class PbdsDatavizMetricBlockComponent implements OnInit {\n  @Input()\n  class = '';\n\n  @Input()\n  heading: string = null;\n\n  @Input()\n  value = 0;\n\n  @Input()\n  unit: string = null;\n\n  @Input()\n  description: string = null;\n\n  @Input()\n  centered = false;\n\n  @Input()\n  centeredText = false;\n\n  @Input()\n  vertical = false;\n\n  @Input()\n  infoMessage: string | null = null;\n\n  hideValueMargin = false;\n  isPercentUnit = false;\n  isUnit = false;\n\n  @HostBinding('class')\n  get hostClasses() {\n    return [\n      'metric-block',\n      this.centered ? 'metric-block-centered' : '',\n      this.centeredText ? 'metric-block-centered-text' : '',\n      this.vertical ? 'metric-block-vertical' : '',\n      this.class\n    ].join(' ');\n  }\n\n  @ContentChild(PbdsDatavizMetricIndicatorComponent, { static: true }) indicatorRef: ElementRef;\n\n  ngOnInit() {\n    if (!this.indicatorRef) {\n      this.hideValueMargin = true;\n    }\n\n    if (this.unit !== '%' && this.unit !== null) {\n      this.isUnit = true;\n    } else if (this.unit === '%') {\n      this.isPercentUnit = true;\n    }\n  }\n}\n","import {\n  Component,\n  OnInit,\n  OnChanges,\n  Input,\n  Output,\n  EventEmitter,\n  ElementRef,\n  HostBinding,\n  OnDestroy,\n  SimpleChanges,\n  ChangeDetectionStrategy\n} from '@angular/core';\n\nimport { ViewportScroller } from '@angular/common';\n\nimport { select as d3_select } from 'd3-selection';\nimport { scaleLinear as d3_scaleLinear } from 'd3-scale';\nimport { min as d3_min, max as d3_max } from 'd3-array';\nimport {\n  geoPath as d3_geoPath,\n  geoAlbers as d3_geoAlbers,\n  geoAlbersUsa as d3_geoAlbersUsa,\n  geoMercator as d3_geoMercator\n} from 'd3-geo';\n\nimport * as topojson from 'topojson-client';\n\nimport { PbdsDatavizService } from './dataviz.service';\nimport { PbdsDatavizMapData } from './dataviz.interfaces';\n\n@Component({\n  selector: 'pbds-dataviz-bubble-map',\n  template: ``,\n  styles: [],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class PbdsDatavizBubbleMapComponent implements OnInit, OnChanges, OnDestroy {\n  @HostBinding('class.pbds-chart')\n  chartClass = true;\n\n  @HostBinding('class.pbds-chart-bubble-map')\n  bubbleMapClass = true;\n\n  @Input()\n  data: Array<PbdsDatavizMapData>;\n\n  @Input()\n  topojson;\n\n  @Input()\n  feature = '';\n\n  @Input()\n  projectionType;\n\n  @Input()\n  scale = null;\n\n  @Input()\n  center = null;\n\n  @Input()\n  width = 306;\n\n  @Input()\n  height = 400;\n\n  @Input()\n  type: 'medium' | 'high' | 'debug' = 'medium'; // debug to show all chart options\n\n  @Input()\n  dot = false;\n\n  @Input()\n  marginTop = 0;\n\n  @Input()\n  marginRight = 0;\n\n  @Input()\n  marginBottom = 0;\n\n  @Input()\n  marginLeft = 0;\n\n  @Input()\n  color = '#ef8200';\n\n  @Input()\n  textColor = '#fff';\n\n  @Input()\n  textSizeRange = [14, 24];\n\n  @Input()\n  dotSize = 4;\n\n  @Input()\n  bubbleSizeRange = [500, 2000];\n\n  @Input()\n  bubbleLabelFormatType: 'number' = null;\n\n  @Input()\n  bubbleLabelFormatString = '';\n\n  @Input()\n  hideTooltip = false;\n\n  @Input()\n  hideTooltipValue = false;\n\n  @Input()\n  tooltipHeaderSuffix = '';\n\n  @Input()\n  tooltipValueFormatType: 'number' = null;\n\n  @Input()\n  tooltipValueFormatString = '';\n\n  @Output()\n  hovered: EventEmitter<object> = new EventEmitter<object>();\n\n  @Output()\n  clicked: EventEmitter<object> = new EventEmitter<object>();\n\n  private projection;\n  private geoPath;\n  private topojsonFeature;\n  private chart;\n  private svg;\n  private margin;\n  private bubbleContainer;\n  private bubbleRadius;\n  private fontRange;\n  private bubbleLabelFormat;\n  private tooltip;\n  private tooltipValueFormat;\n\n  constructor(private _element: ElementRef, private _scroll: ViewportScroller, private _dataviz: PbdsDatavizService) {}\n\n  ngOnInit() {\n    this.margin = {\n      top: +this.marginTop,\n      right: +this.marginRight,\n      bottom: +this.marginBottom,\n      left: +this.marginLeft\n    };\n\n    if (this.type !== 'debug') {\n      // set type defaults\n      switch (this.type) {\n        case 'medium':\n          break;\n\n        case 'high':\n          break;\n      }\n    }\n\n    switch (this.projectionType) {\n      case 'geoAlbers':\n        this.projection = d3_geoAlbers();\n        break;\n\n      case 'geoAlbersUsa':\n        this.projection = d3_geoAlbersUsa();\n        break;\n\n      case 'geoMercator':\n        this.projection = d3_geoMercator();\n        break;\n\n      default:\n        break;\n    }\n\n    // dreate formatters\n    this.bubbleLabelFormat = this._dataviz.d3Format(this.bubbleLabelFormatType, this.bubbleLabelFormatString);\n    this.tooltipValueFormat = this._dataviz.d3Format(this.tooltipValueFormatType, this.tooltipValueFormatString);\n\n    // console.log('TOPOJSON: ', this.topojson);\n\n    this.topojsonFeature = topojson.feature(this.topojson, this.topojson.objects[this.feature]);\n    this.projection.fitSize([+this.width, +this.height], this.topojsonFeature);\n\n    // console.log('TOPOJSON FEATURE: ', this.topojsonFeature);\n    // console.log('MESH: ', topojson.mesh(this.topojson, this.topojson.objects[this.feature], (a, b) => a !== b));\n    // console.log('DATA: ', this.data);\n\n    if (this.scale) {\n      this.projection.scale(+this.scale);\n    }\n\n    if (this.center) {\n      this.projection.center(this.center);\n    }\n\n    this.geoPath = d3_geoPath().projection(this.projection);\n\n    // bubble radius range\n    if (this.data && !this.dot) {\n      this.bubbleRadius = d3_scaleLinear()\n        .range(this.bubbleSizeRange)\n        .domain([d3_min(this.data, (d: any) => +d.value), d3_max(this.data, (d: any) => +d.value)]);\n\n      // font range\n      this.fontRange = d3_scaleLinear()\n        .range(this.textSizeRange)\n        .domain([d3_min(this.data, (d: any) => +d.value), d3_max(this.data, (d: any) => +d.value)]);\n    }\n\n    // TOOLTIP\n    if (!this.hideTooltip) {\n      this.tooltip = d3_select('body')\n        .append('div')\n        .attr('class', 'pbds-tooltip south')\n        .style('opacity', 0)\n        .attr('aria-hidden', 'true'); // hide tooltip for accessibility\n\n      // tooltip header\n      this.tooltip.append('div').attr('class', 'tooltip-header');\n      if (!this.hideTooltipValue) this.tooltip.append('div').attr('class', 'tooltip-value');\n    }\n\n    // create the chart\n    this.chart = d3_select(this._element.nativeElement).attr('aria-hidden', 'true');\n\n    // create chart svg\n    this.svg = this.chart\n      .append('svg')\n      .attr('width', +this.width + this.margin.left + this.margin.right)\n      .attr('height', +this.height + this.margin.top + this.margin.bottom)\n      .attr('class', 'img-fluid')\n      .attr('preserveAspectRatio', 'xMinYMin meet')\n      .attr(\n        'viewBox',\n        `-${this.margin.left} -${this.margin.top} ${+this.width + this.margin.left + this.margin.right} ${\n          +this.height + this.margin.top + this.margin.bottom\n        }`\n      )\n      .append('g')\n      .attr('class', 'container');\n\n    // map\n    this.svg\n      .append('g')\n      .attr('class', 'map')\n      .selectAll('path')\n      .data(this.topojsonFeature.features)\n      .join((enter) => enter.append('path').attr('class', 'feature').attr('d', this.geoPath));\n\n    // borders\n    this.svg\n      .append('path')\n      .attr('class', 'mesh')\n      .datum(topojson.mesh(this.topojson, this.topojson.objects[this.feature], (a, b) => a !== b))\n      .attr('d', this.geoPath);\n\n    this.bubbleContainer = this.svg.append('g').attr('class', 'dots').style('color', this.color);\n\n    this.updateChart();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.data && !changes.data.firstChange) {\n      this.updateChart();\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.tooltip) this.tooltip.remove();\n  }\n\n  updateChart = () => {\n    // bubbles\n\n    this.bubbleContainer\n      .selectAll('circle')\n      .data(this.data)\n      .join(\n        (enter) =>\n          enter\n            .append('circle')\n            .attr('class', 'dot-circle')\n            .classed('solid', this.dot)\n            .attr('cx', (d) => this.projection([d.longitude, d.latitude])[0])\n            .attr('cy', (d) => this.projection([d.longitude, d.latitude])[1])\n            .attr('r', (d) => (!this.dot ? Math.sqrt(this.bubbleRadius(d.value)) : `${this.dotSize}px`)),\n        (update) =>\n          update\n            .transition()\n            .duration(1000)\n            .attr('cx', (d) => this.projection([d.longitude, d.latitude])[0])\n            .attr('cy', (d) => this.projection([d.longitude, d.latitude])[1])\n            .attr('r', (d) => (!this.dot ? Math.sqrt(this.bubbleRadius(d.value)) : `${this.dotSize}px`))\n            .transition()\n            .selection()\n            .attr('pointer-events', 'auto'),\n        (exit) => exit.transition().selection().attr('pointer-events', 'none').remove()\n      );\n\n    if (!this.hideTooltip) {\n      this.bubbleContainer\n        .selectAll('circle')\n        .on('mouseover', (event, data) => this.bubbleMouseOver(event, data))\n        .on('mouseout', (event, data) => this.bubbleMouseOut(event, data))\n        .on('click', (event, data) => this.bubbleMouseClick(event, data));\n\n      // bubble text\n      if (this.type !== 'high' && !this.dot) {\n        this.bubbleContainer\n          .selectAll('text')\n          .data(this.data)\n          .join(\n            (enter) =>\n              enter\n                .append('text')\n                .text((d) => (this.bubbleLabelFormat ? this.bubbleLabelFormat(d.value) : d.value))\n                .attr('class', 'dot-text')\n                .style('fill', this.textColor)\n                .style('font-size', (d) => `${Math.round(this.fontRange(d.value))}px`)\n                .attr('x', (d) => this.projection([d.longitude, d.latitude])[0])\n                .attr('y', (d) => this.projection([d.longitude, d.latitude])[1])\n                .attr('dy', '.4em'),\n            (update) =>\n              update\n                .attr('pointer-events', 'none')\n                .transition()\n                .duration(1000)\n                .text((d) => (this.bubbleLabelFormat ? this.bubbleLabelFormat(d.value) : d.value))\n                .style('font-size', (d) => `${Math.round(this.fontRange(d.value))}px`)\n                .attr('x', (d) => this.projection([d.longitude, d.latitude])[0])\n                .attr('y', (d) => this.projection([d.longitude, d.latitude])[1])\n                .attr('dy', '.4em')\n                .transition()\n                .selection()\n                .attr('pointer-events', 'auto'),\n            (exit) => exit.transition().selection().attr('pointer-events', 'none').remove()\n          );\n      }\n    }\n  };\n\n  bubbleMouseOver = (event, data) => {\n    this.chart.selectAll('.dot-circle').classed('inactive', true);\n\n    d3_select(event.currentTarget).classed('active', true).classed('inactive', false);\n\n    this.tooltipShow(event, data);\n\n    this.hovered.emit({ event, data });\n  };\n\n  bubbleMouseOut = (event, data) => {\n    this.chart.selectAll('.dot-circle').classed('active', false).classed('inactive', false);\n\n    this.tooltipHide();\n  };\n\n  bubbleMouseClick = (event, data) => {\n    this.clicked.emit({ event, data });\n  };\n\n  private tooltipShow = (event, data) => {\n    const dimensions = event.currentTarget.getBoundingClientRect();\n    const scroll = this._scroll.getScrollPosition();\n\n    this.tooltip.select('.tooltip-header').html((d) => `${data.label}${this.tooltipHeaderSuffix}`);\n\n    if (!this.hideTooltipValue) {\n      this.tooltip\n        .select('.tooltip-value')\n        .html((d) => (this.tooltipValueFormat ? `${this.tooltipValueFormat(data.value)}` : `${data.value}`));\n    }\n\n    const tooltipOffsetWidth = +this.tooltip.node().offsetWidth / 2;\n    const tooltipOffsetHeight = +this.tooltip.node().offsetHeight + 8;\n\n    this.tooltip.style('top', `${+scroll[1] + +dimensions.top - tooltipOffsetHeight}px`); //\n    this.tooltip.style('left', `${+scroll[0] + +dimensions.left - tooltipOffsetWidth + +dimensions.width / 2}px`);\n    this.tooltip.style('opacity', 1);\n  };\n\n  private tooltipHide = () => {\n    this.tooltip.style('opacity', 0);\n  };\n}\n","import {\n  Component,\n  OnInit,\n  OnChanges,\n  OnDestroy,\n  HostBinding,\n  Input,\n  Output,\n  ElementRef,\n  SimpleChanges,\n  EventEmitter,\n  ChangeDetectionStrategy\n} from '@angular/core';\n\nimport { ViewportScroller } from '@angular/common';\n\nimport { PbdsDatavizHeatmap } from './dataviz.interfaces';\nimport { PbdsDatavizService } from './dataviz.service';\n\nimport { select as d3_select } from 'd3-selection';\nimport {\n  scaleThreshold as d3_scaleThreshold,\n  scaleQuantile as d3_scaleQuantile,\n  scaleQuantize as d3_scaleQuantize,\n  scaleBand as d3_scaleBand\n} from 'd3-scale';\nimport { min as d3_min, max as d3_max } from 'd3-array';\nimport { axisBottom as d3_axisBottom, axisLeft as d3_axisLeft } from 'd3-axis';\nimport { isoParse as d3_isoParse } from 'd3-time-format';\n\n@Component({\n  selector: 'pbds-dataviz-heatmap',\n  template: ``,\n  styles: [],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class PbdsDatavizHeatmapComponent implements OnInit, OnChanges, OnDestroy {\n  @HostBinding('class.pbds-chart')\n  chartClass = true;\n\n  @HostBinding('class.pbds-chart-heatmap')\n  heatmapClass = true;\n\n  @Input()\n  data: Array<PbdsDatavizHeatmap>;\n\n  @Input()\n  width = 306;\n\n  @Input()\n  height = 400;\n\n  @Input()\n  marginTop = 0; // hardcoded on purpose, do not document until feedback\n\n  @Input()\n  marginRight = 0; // hardcoded on purpose, do not document until feedback\n\n  @Input()\n  marginBottom = 30; // hardcoded on purpose, do not document until feedback\n\n  @Input()\n  marginLeft = 55;\n\n  @Input()\n  scale: 'threshold' | 'quantile' | 'quantize' = 'quantile';\n\n  @Input()\n  domain: Array<number>;\n\n  @Input()\n  xAxisFormatType: 'number' | 'time' = null;\n\n  @Input()\n  xAxisFormatString = '';\n\n  @Input()\n  yAxisFormatType: 'number' | 'time' = null;\n\n  @Input()\n  yAxisFormatString = '';\n\n  @Input()\n  hideLegend = false;\n\n  @Input()\n  legendWidth = 105 + 28; // hardcoded legend width + left margin, do not document until feedback\n\n  @Input()\n  legendPosition: 'right' | 'bottom' = 'right';\n\n  @Input()\n  legendLabelFormatType: 'number' = null;\n\n  @Input()\n  legendLabelFormatString = '';\n\n  @Input()\n  tooltipXLabelFormatType: 'number' | 'time' = null;\n\n  @Input()\n  tooltipXLabelFormatString = '';\n\n  @Input()\n  tooltipYLabelFormatType: 'number' | 'time' = null;\n\n  @Input()\n  tooltipYLabelFormatString = '';\n\n  @Input()\n  tooltipValueFormatType: 'number' = null;\n\n  @Input()\n  tooltipValueFormatString = '';\n\n  @Input()\n  theme: 'classic' | 'ocean' | 'sunset' | 'twilight' = 'classic';\n\n  @Output()\n  hovered: EventEmitter<object> = new EventEmitter<object>();\n\n  @Output()\n  clicked: EventEmitter<object> = new EventEmitter<object>();\n\n  private chart;\n  private svg;\n  private margin;\n  private colorRange;\n  private colorDomain;\n  private xAxisScale;\n  private xAxisCall;\n  private xAxis;\n  private xAxisFormat;\n  private xAxisTickSize: number;\n  private xAxisTickSizeOuter: number;\n  private hideXAxisDomain: boolean;\n  private hideXAxisZero: boolean;\n  private hideXAxisTicks: boolean;\n  private hideXAxis: boolean;\n  private yAxis;\n  private yAxisFormat;\n  private yAxisTickSize;\n  private yAxisTickSizeOuter;\n  private yAxisScale;\n  private yAxisCall;\n  private hideYAxis: boolean;\n  private hideYAxisDomain: boolean;\n  private hideYAxisZero: boolean;\n  private hideYAxisTicks: boolean;\n  private legendLabelFormat;\n  private tooltip;\n  private tooltipYLabelFormat;\n  private tooltipXLabelFormat;\n  private hideTooltip;\n  private tooltipValueFormat;\n\n  constructor(private _dataviz: PbdsDatavizService, private _element: ElementRef, private _scroll: ViewportScroller) {}\n\n  ngOnInit() {\n    this.margin = {\n      top: +this.marginTop,\n      right: +this.marginRight,\n      bottom: +this.marginBottom,\n      left: +this.marginLeft\n    };\n\n    // create formatters\n    this.yAxisFormat = this._dataviz.d3Format(this.yAxisFormatType, this.yAxisFormatString);\n    this.xAxisFormat = this._dataviz.d3Format(this.xAxisFormatType, this.xAxisFormatString);\n    this.legendLabelFormat = this._dataviz.d3Format(this.legendLabelFormatType, this.legendLabelFormatString);\n    this.tooltipYLabelFormat = this._dataviz.d3Format(this.tooltipYLabelFormatType, this.tooltipYLabelFormatString);\n    this.tooltipXLabelFormat = this._dataviz.d3Format(this.tooltipXLabelFormatType, this.tooltipXLabelFormatString);\n    this.tooltipValueFormat = this._dataviz.d3Format(this.tooltipValueFormatType, this.tooltipValueFormatString);\n\n    // defaults for all chart types\n    this.hideXAxis = false;\n    this.hideXAxisZero = false;\n    this.hideXAxisDomain = true;\n    this.hideYAxisDomain = true;\n    this.hideTooltip = false;\n    this.hideXAxisTicks = true;\n    this.hideYAxisTicks = true;\n    this.xAxisTickSize = 8;\n    this.xAxisTickSizeOuter = 0;\n    this.yAxisTickSize = 8;\n    this.yAxisTickSizeOuter = 0;\n\n    // create the chart\n    this.chart = d3_select(this._element.nativeElement).attr('aria-hidden', 'true');\n\n    // create chart svg\n    this.svg = this.chart\n      .append('svg')\n      .attr('width', +this.width)\n      .attr('height', +this.height + this.margin.top + this.margin.bottom)\n      .attr('class', 'img-fluid')\n      .attr('preserveAspectRatio', 'xMinYMin meet')\n      .attr(\n        'viewBox',\n        `-${this.margin.left} -${this.margin.top} ${+this.width} ${+this.height + this.margin.top + this.margin.bottom}`\n      );\n\n    // color range\n    const colors = this._dataviz.getColors(true, this.theme).slice().reverse();\n\n    const colorDomain: any = [\n      +d3_min(this.data, (d: PbdsDatavizHeatmap) => d.value),\n      +d3_max(this.data, (d: PbdsDatavizHeatmap) => d.value)\n    ];\n    const colorValues = this.data.map((d) => d.value);\n\n    switch (this.scale) {\n      case 'threshold':\n        this.colorRange = d3_scaleThreshold().domain(this.domain).range(colors);\n\n        this.colorDomain = this.colorRange.domain();\n        break;\n\n      case 'quantile':\n        this.colorRange = d3_scaleQuantile().domain(colorValues).range(colors);\n\n        this.colorDomain = this.colorRange.quantiles();\n        break;\n\n      case 'quantize':\n        this.colorRange = d3_scaleQuantize().domain(colorDomain).range(colors);\n\n        this.colorDomain = this.colorRange.thresholds();\n        break;\n    }\n\n    // console.log(colors, colorDomain, colorValues, this.scale, this.colorRange, this.colorDomain);\n\n    // define axis labels\n    const xAxisLabels: any = [...new Set(this.data.map((d) => d.xLabel))];\n    const yAxisLabels: any = [...new Set(this.data.map((d) => d.yLabel))].reverse();\n\n    // X axis\n    this.xAxisScale = d3_scaleBand()\n      .domain(xAxisLabels)\n      .rangeRound([0, this.width - this.margin.left])\n      .paddingInner(0.1);\n\n    this.xAxisCall = d3_axisBottom(this.xAxisScale)\n      .tickSize(this.xAxisTickSize)\n      .tickSizeOuter(this.xAxisTickSizeOuter)\n      .tickFormat(this.xAxisFormatter);\n\n    this.xAxis = this.svg\n      .append('g')\n      .attr('class', 'axis axis-x')\n      .attr('transform', `translate(0, ${this.height})`)\n      .classed('axis-hidden', this.hideXAxis)\n      .classed('axis-zero-hidden', this.hideXAxisZero)\n      .classed('axis-domain-hidden', this.hideXAxisDomain)\n      .classed('axis-ticks-hidden', this.hideXAxisTicks)\n      .call(this.xAxisCall);\n\n    // Y axis\n    this.yAxisScale = d3_scaleBand().domain(yAxisLabels).rangeRound([this.height, 0]).paddingInner(0.1);\n\n    this.yAxisCall = d3_axisLeft(this.yAxisScale)\n      .tickSize(this.yAxisTickSize)\n      .tickSizeOuter(this.yAxisTickSizeOuter)\n      .tickFormat(this.yAxisFormatter);\n\n    this.yAxis = this.svg\n      .append('g')\n      .attr('class', 'axis axis-y')\n      .classed('axis-hidden', this.hideYAxis)\n      .classed('axis-zero-hidden', this.hideYAxisZero)\n      .classed('axis-domain-hidden', this.hideYAxisDomain)\n      .classed('axis-ticks-hidden', this.hideYAxisTicks)\n      .call(this.yAxisCall);\n\n    // TOOLTIP\n    if (!this.hideTooltip) {\n      this.tooltip = d3_select('body')\n        .append('div')\n        .attr('class', 'pbds-tooltip south')\n        .style('opacity', 0)\n        .attr('aria-hidden', 'true'); // hide tooltip for accessibility\n    }\n\n    // add legend classes\n    if (!this.hideLegend) {\n      this.chart.classed('pbds-chart-legend-bottom', this.legendPosition === 'bottom' ? true : false);\n      this.chart.append('ul').attr('class', `legend legend-${this.legendPosition}`);\n    }\n\n    this.updateChart();\n  }\n\n  ngOnDestroy() {\n    if (this.tooltip) this.tooltip.remove();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.data && !changes.data.firstChange) {\n      this.updateChart();\n    }\n  }\n\n  updateChart = () => {\n    this.svg\n      .selectAll('rect')\n      .data(this.data)\n      .join(\n        (enter) =>\n          enter\n            .append('rect')\n            .attr('class', 'block')\n            .classed('empty', (d) => d.value === undefined || d.value === null)\n            .attr('x', (d) => this.xAxisScale(d.xLabel))\n            .attr('y', (d) => this.yAxisScale(d.yLabel))\n            .attr('width', this.xAxisScale.bandwidth())\n            .attr('height', this.yAxisScale.bandwidth())\n            .style('fill', (d) => this.colorRange(d.value)),\n        (update) =>\n          update.call((update) => {\n            update\n              .classed('empty', (d) => d.value === undefined || d.value === null)\n              .attr('pointer-events', 'none')\n              .transition()\n              .duration(1000)\n              .attr('x', (d) => this.xAxisScale(d.xLabel))\n              .attr('y', (d) => this.yAxisScale(d.yLabel))\n              .attr('width', this.xAxisScale.bandwidth())\n              .attr('height', this.yAxisScale.bandwidth())\n              .style('fill', (d) => this.colorRange(d.value))\n              .transition()\n              .selection()\n              .attr('pointer-events', 'auto');\n\n            return update;\n          }),\n        (exit) => exit.transition().selection().attr('pointer-events', 'none').remove()\n      )\n      .on('mouseover', (event, data) => this.blockMouseOver(event, data))\n      .on('mouseout', (event, data) => this.blockMouseOut())\n      .on('click', (event, data) => this.blockMouseClick(event, data));\n\n    if (!this.hideLegend) {\n      this.chart\n        .select('.legend')\n        .selectAll('.legend-item')\n        .data(this.colorDomain)\n        .join(\n          (enter) => {\n            const li = enter\n              .append('li')\n              .attr('class', 'legend-item')\n              .attr('data-index', (d, i) => {\n                return i;\n              });\n\n            li.append('span')\n              .attr('class', 'legend-key')\n              .style('background-color', (d) => this.colorRange(d));\n\n            li.append('span')\n              .attr('class', 'legend-label')\n              .html((d) => {\n                let label: string = d;\n\n                switch (this.legendLabelFormatType) {\n                  case 'number':\n                    label = this.legendLabelFormat(d);\n                    break;\n                }\n\n                return `&ge; ${label}`;\n              });\n\n            return li;\n          },\n          (update) =>\n            update\n              .select('.legend-label')\n              .attr('data-index', (d, i) => {\n                return i;\n              })\n              .html((d) => {\n                // console.log('HTML D: ', d);\n                let label = d;\n\n                switch (this.legendLabelFormatType) {\n                  case 'number':\n                    label = this.legendLabelFormat(d);\n                    break;\n                }\n\n                return `&ge; ${label}`;\n              }),\n          (exit) => exit.remove()\n        )\n        .on('mouseover', (event, data) => this.legendMouseOver(event, data))\n        .on('mouseout', () => this.legendMouseOut())\n        .on('click', (event, data) => this.legendMouseClick(event, data));\n    }\n  };\n\n  blockMouseOver = (event, data) => {\n    // console.log(data.value, event, data, index, nodes);\n\n    if (data.value !== null) {\n      this.tooltipShow(event, data);\n    }\n\n    this.hovered.emit({ event, data });\n  };\n\n  blockMouseOut = () => {\n    this.tooltipHide();\n  };\n\n  blockMouseClick = (event, data) => {\n    this.clicked.emit({ event, data });\n  };\n\n  legendMouseOver = (event, data) => {\n    const legendItems = this.chart.selectAll('.legend-item');\n    const hovered = d3_select(event.currentTarget);\n    const hoveredIndex = +hovered.attr('data-index');\n\n    legendItems.classed('inactive', true);\n    hovered.classed('inactive', false);\n\n    const nodes = legendItems.nodes();\n\n    this.chart\n      .selectAll('.block')\n      .filter((d, i) => {\n        if (hoveredIndex + 1 === nodes.length) {\n          return d.value < data;\n        } else {\n          const nextNodeData = +d3_select(nodes[+hoveredIndex + 1]).data();\n\n          return d.value < data || d.value >= nextNodeData;\n        }\n      })\n      .classed('inactive', true);\n\n    this.hovered.emit({ event, data: data });\n  };\n\n  legendMouseOut = () => {\n    this.chart.selectAll('.legend-item').classed('inactive', false);\n\n    this.chart.selectAll('.block').classed('inactive', false);\n  };\n\n  legendMouseClick = (event, data) => {\n    this.clicked.emit({ event, data: data });\n  };\n\n  private tooltipShow = (event, data) => {\n    // console.log('TOOLTIP: ', data, index, node);\n\n    const dimensions = event.currentTarget.getBoundingClientRect();\n    const scroll = this._scroll.getScrollPosition();\n    let yLabel;\n    let xLabel;\n\n    switch (this.tooltipYLabelFormatType) {\n      case 'number':\n        yLabel = this.tooltipYLabelFormat(data.yLabel);\n        break;\n\n      case 'time':\n        const parsedTime = d3_isoParse(data.yLabel);\n        yLabel = this.tooltipYLabelFormat(parsedTime);\n        break;\n\n      default:\n        yLabel = `${data.yLabel}${this.tooltipYLabelFormatString}`;\n    }\n\n    switch (this.tooltipXLabelFormatType) {\n      case 'number':\n        xLabel = this.tooltipXLabelFormat(data.xLabel);\n        break;\n\n      case 'time':\n        const parsedTime = d3_isoParse(data.xLabel);\n        xLabel = this.tooltipXLabelFormat(parsedTime);\n        break;\n\n      default:\n        xLabel = `${data.xLabel}${this.tooltipXLabelFormatString}`;\n    }\n\n    const value =\n      this.tooltipValueFormat === null\n        ? `<div class=\"tooltip-value\">${data.value}</div>`\n        : `<div class=\"tooltip-value\">${this.tooltipValueFormat(data.value)}</div>`;\n\n    this.tooltip.html(\n      `\n        ${yLabel} : ${xLabel}<br>\n        ${value}\n      `\n    );\n\n    const tooltipOffsetWidth = +this.tooltip.node().offsetWidth / 2;\n    const tooltipOffsetHeight = +this.tooltip.node().offsetHeight + 8;\n\n    this.tooltip.style('top', `${+scroll[1] + +dimensions.top - tooltipOffsetHeight}px`); //\n    this.tooltip.style('left', `${+scroll[0] + +dimensions.left - tooltipOffsetWidth + +dimensions.width / 2}px`);\n    this.tooltip.style('opacity', 1);\n\n    this.tooltip.style('opacity', 1);\n  };\n\n  private tooltipHide = () => {\n    this.tooltip.style('opacity', 0);\n  };\n\n  private xAxisFormatter = (item) => {\n    switch (this.xAxisFormatType) {\n      case 'number':\n        return this.xAxisFormat(item);\n\n      case 'time':\n        const parseDate = d3_isoParse(item);\n        return this.xAxisFormat(parseDate);\n\n      default:\n        return item;\n    }\n  };\n\n  private yAxisFormatter = (item) => {\n    switch (this.yAxisFormatType) {\n      case 'number':\n        return this.yAxisFormat(item);\n\n      case 'time':\n        const parseDate = d3_isoParse(item);\n        return this.yAxisFormat(parseDate);\n\n      default:\n        return item;\n    }\n  };\n}\n","import {\n  Component,\n  OnInit,\n  OnChanges,\n  Input,\n  Output,\n  EventEmitter,\n  ElementRef,\n  HostBinding,\n  OnDestroy,\n  SimpleChanges,\n  ChangeDetectionStrategy\n} from '@angular/core';\n\nimport { ViewportScroller } from '@angular/common';\n\nimport { select as d3_select, pointer as d3_pointer } from 'd3-selection';\nimport {\n  scaleLinear as d3_scaleLinear,\n  scaleThreshold as d3_scaleThreshold,\n  scaleQuantile as d3_scaleQuantile,\n  scaleQuantize as d3_scaleQuantize\n} from 'd3-scale';\nimport { min as d3_min, max as d3_max, range as d3_range } from 'd3-array';\nimport {\n  geoPath as d3_geoPath,\n  geoAlbers as d3_geoAlbers,\n  geoAlbersUsa as d3_geoAlbersUsa,\n  geoMercator as d3_geoMercator\n} from 'd3-geo';\nimport { axisBottom as d3_axisBottom } from 'd3-axis';\n\nimport * as topojson from 'topojson-client';\nimport { PbdsDatavizService } from './dataviz.service';\n\nimport { PbdsDatavizChoroplethMapData } from './dataviz.interfaces';\n\n@Component({\n  selector: 'pbds-dataviz-choropleth-map',\n  template: ``,\n  styles: [],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class PbdsDatavizChoroplethMapComponent implements OnInit, OnDestroy, OnChanges {\n  @HostBinding('class.pbds-chart')\n  chartClass = true;\n\n  @HostBinding('class.pbds-chart-choropleth-map')\n  choroplethMapClass = true;\n\n  @Input()\n  data: Array<PbdsDatavizChoroplethMapData>;\n\n  @Input()\n  topojson;\n\n  @Input()\n  feature = '';\n\n  @Input()\n  projectionType;\n\n  @Input()\n  dataField = 'id';\n\n  @Input()\n  mesh: string | null = null;\n\n  @Input()\n  scale = null;\n\n  @Input()\n  center = null;\n\n  @Input()\n  width = 960;\n\n  @Input()\n  height = 500;\n\n  @Input()\n  marginTop = 0;\n\n  @Input()\n  marginRight = 0;\n\n  @Input()\n  marginBottom = 0;\n\n  @Input()\n  marginLeft = 0;\n\n  @Input()\n  theme: 'classic' | 'ocean' | 'sunset' | 'twilight' = 'classic';\n\n  @Input()\n  colorScale: 'threshold' | 'quantile' | 'quantize' = 'quantile';\n\n  @Input()\n  domain: Array<number>;\n\n  @Input()\n  hideTooltip = false;\n\n  @Input()\n  tooltipHeaderSuffix = '';\n\n  @Input()\n  tooltipValueFormatType: 'number' = null;\n\n  @Input()\n  tooltipValueFormatString = '';\n\n  @Input()\n  hideLegend = false;\n\n  @Input()\n  legendWidth = 260;\n\n  @Input()\n  legendLabel: string | null = null;\n\n  @Input()\n  legendValueFormatType: 'number' = null;\n\n  @Input()\n  legendValueFormatString = '';\n\n  @Input()\n  legendLeft = 20;\n\n  @Input()\n  legendTop = 20;\n\n  @Output()\n  hovered: EventEmitter<object> = new EventEmitter<object>();\n\n  @Output()\n  clicked: EventEmitter<object> = new EventEmitter<object>();\n\n  private projection;\n  private geoPath;\n  private topojsonFeature;\n  private chart;\n  private svg;\n  private margin;\n  private colorRange;\n  private colorDomain;\n  private tooltip;\n  private tooltipValueFormat;\n  private legendValueFormat;\n\n  constructor(private _dataviz: PbdsDatavizService, private _element: ElementRef, private _scroll: ViewportScroller) {}\n\n  ngOnInit() {\n    this.margin = {\n      top: +this.marginTop,\n      right: +this.marginRight,\n      bottom: +this.marginBottom,\n      left: +this.marginLeft\n    };\n\n    // color range\n    const colors = this._dataviz.getColors(true, this.theme).slice().reverse();\n\n    const colorDomain: any = [+d3_min(this.data, (d) => d.value), +d3_max(this.data, (d) => d.value)];\n    const colorValues = this.data.map((d) => d.value);\n\n    switch (this.colorScale) {\n      case 'threshold':\n        this.colorRange = d3_scaleThreshold().domain(this.domain).range(colors);\n\n        this.colorDomain = this.colorRange.domain();\n        break;\n\n      case 'quantile':\n        this.colorRange = d3_scaleQuantile().domain(colorValues).range(colors);\n\n        this.colorDomain = this.colorRange.quantiles();\n        break;\n\n      case 'quantize':\n        this.colorRange = d3_scaleQuantize().domain(colorDomain).range(colors);\n\n        this.colorDomain = this.colorRange.thresholds();\n        break;\n    }\n\n    // create formatters\n    this.tooltipValueFormat = this._dataviz.d3Format(this.tooltipValueFormatType, this.tooltipValueFormatString);\n    this.legendValueFormat = this._dataviz.d3Format(this.legendValueFormatType, this.legendValueFormatString);\n\n    switch (this.projectionType) {\n      case 'geoAlbers':\n        this.projection = d3_geoAlbers();\n        break;\n\n      case 'geoAlbersUsa':\n        this.projection = d3_geoAlbersUsa();\n        break;\n\n      case 'geoMercator':\n        this.projection = d3_geoMercator();\n        break;\n    }\n\n    this.topojsonFeature = topojson.feature(this.topojson, this.topojson.objects[this.feature]);\n    this.projection.fitSize([+this.width, +this.height], this.topojsonFeature);\n\n    if (this.scale) {\n      this.projection.scale(+this.scale);\n    }\n\n    if (this.center) {\n      this.projection.center(this.center);\n    }\n\n    this.geoPath = d3_geoPath().projection(this.projection);\n\n    // console.log('TOPOJSON: ', this.topojson);\n    // console.log('TOPOJSON FEATURE: ', this.topojsonFeature);\n    // console.log('MESH: ', topojson.mesh(this.topojson, this.topojson.objects[this.feature], (a, b) => a !== b));\n    // console.log('DATA: ', this.data);\n\n    // create the chart\n    this.chart = d3_select(this._element.nativeElement).attr('aria-hidden', 'true');\n\n    // TOOLTIP\n    if (!this.hideTooltip) {\n      this.tooltip = d3_select('body')\n        .append('div')\n        .attr('class', 'pbds-tooltip south')\n        .style('opacity', 0)\n        .attr('aria-hidden', 'true'); // hide tooltip for accessibility\n\n      // tooltip header\n      this.tooltip.append('div').attr('class', 'tooltip-header');\n      this.tooltip.append('div').attr('class', 'tooltip-value');\n    }\n\n    // create chart svg\n    this.svg = this.chart\n      .append('svg')\n      .attr('width', +this.width)\n      .attr('height', +this.height + this.margin.top + this.margin.bottom)\n      .attr('class', 'img-fluid')\n      .attr('preserveAspectRatio', 'xMinYMin meet')\n      .attr(\n        'viewBox',\n        `-${this.margin.left} -${this.margin.top} ${+this.width} ${+this.height + this.margin.top + this.margin.bottom}`\n      );\n\n    // map\n    this.svg\n      .append('g')\n      .attr('class', 'map')\n      .selectAll('path')\n      .data(this.topojsonFeature.features)\n      .join((enter) => enter.append('path').attr('class', 'feature').attr('d', this.geoPath));\n\n    // borders\n    this.svg\n      .append('path')\n      .attr('class', 'mesh')\n      .datum(topojson.mesh(this.topojson, this.topojson.objects[this.mesh || this.feature], (a, b) => a !== b))\n      .attr('d', this.geoPath);\n\n    // legend\n    if (!this.hideLegend) {\n      this.svg\n        .append('g')\n        .attr('transform', `translate(${+this.legendLeft}, ${+this.legendTop})`)\n        .call(this.legend);\n    }\n\n    this.updateChart();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.data && !changes.data.firstChange) {\n      this.updateChart();\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.tooltip) this.tooltip.remove();\n  }\n\n  updateChart = () => {\n    this.svg\n      .select('.map')\n      .selectAll('path')\n      .style('fill', (d, i) => {\n        const match = this.data.find((obj) => obj[this.dataField] === d[this.dataField]);\n        if (match) {\n          return this.colorRange(match.value);\n        }\n      })\n      .classed('hasData', (d, i) => {\n        return this.data.some((obj) => obj[this.dataField] === d[this.dataField]);\n      });\n\n    if (!this.hideTooltip) {\n      this.svg\n        .select('.map')\n        .selectAll('path')\n        .on('mouseover', (event, data) =>\n          this.featureMouseOver(\n            event,\n            this.data.find((obj) => obj[this.dataField] === data[this.dataField])\n          )\n        )\n        .on('mouseout', (event, data) => this.featureMouseOut(event, this.data))\n        .on('mousemove', (event, data) => this.tooltipMove(event))\n        .on('click', (event, data) =>\n          this.featureMouseClick(\n            event,\n            this.data.find((obj) => obj[this.dataField] === data[this.dataField])\n          )\n        );\n    }\n  };\n\n  featureMouseOver = (event, data) => {\n    if (data) {\n      this.tooltipShow(event, data);\n      this.hovered.emit({ event, data });\n    }\n  };\n\n  featureMouseOut = (event, data) => {\n    this.tooltipHide();\n  };\n\n  featureMouseClick = (event, data) => {\n    if (data) {\n      this.clicked.emit({ event, data });\n    }\n  };\n\n  private tooltipShow = (event, data) => {\n    // console.log('TOOLTIP: ', data, node);\n\n    this.tooltipSetPosition(event);\n\n    if (data.label) {\n      this.tooltip.select('.tooltip-header').html((d) => `${data.label}${this.tooltipHeaderSuffix}`);\n    }\n\n    this.tooltip\n      .select('.tooltip-value')\n      .html((d) => (this.tooltipValueFormat ? `${this.tooltipValueFormat(data.value)}` : `${data.value}`));\n\n    this.tooltip.style('opacity', 1);\n  };\n\n  private tooltipHide = () => {\n    this.tooltip.style('opacity', 0);\n  };\n\n  private tooltipMove = (event) => {\n    this.tooltipSetPosition(event);\n  };\n\n  private tooltipSetPosition = (event) => {\n    const mouse = d3_pointer(event, this.chart.node());\n    const mouseLeft = +mouse[0];\n    const mouseTop = +mouse[1];\n\n    const geometry = this.chart.node().getBoundingClientRect();\n    const geometryLeft = +geometry.left;\n    const geometryTop = +geometry.top;\n\n    const scroll = this._scroll.getScrollPosition();\n    // const scrollLeft = +scroll[0];\n    const scrollTop = +scroll[1];\n\n    const tooltipOffsetWidth = +this.tooltip.node().offsetWidth / 2;\n    const tooltipOffsetHeight = +this.tooltip.node().offsetHeight;\n\n    this.tooltip.style('top', `${scrollTop + mouseTop + geometryTop - tooltipOffsetHeight - 14}px`);\n    this.tooltip.style('left', `${mouseLeft + geometryLeft - tooltipOffsetWidth}px`); //\n  };\n\n  legend = (g) => {\n    const length = this.colorRange.range().length;\n\n    // console.log(this.colorRange.range().length, this.colorDomain);\n\n    const x = d3_scaleLinear()\n      .domain([1, length - 1])\n      .rangeRound([+this.legendWidth / length, (this.legendWidth * (length - 1)) / length]);\n\n    g.attr('class', 'legend')\n      .selectAll('rect')\n      .data(this.colorRange.range())\n      .join('rect')\n      .attr('height', 8)\n      .attr('x', (d, i) => x(i))\n      .attr('width', (d, i) => x(i + 1) - x(i))\n      .attr('fill', (d) => d);\n\n    if (this.legendLabel) {\n      g.append('text').attr('y', -6).attr('text-anchor', 'start').attr('class', 'legend-label').text(this.legendLabel);\n    }\n\n    g.call(\n      d3_axisBottom(x)\n        .tickSize(13)\n        .tickValues(d3_range(1, length))\n        .tickFormat((i: number) =>\n          this.legendValueFormat ? `${this.legendValueFormat(this.colorDomain[i - 1])}` : `${this.colorDomain[i - 1]}`\n        )\n    )\n      .select('.domain')\n      .remove();\n  };\n}\n","import {\n  Component,\n  OnInit,\n  OnChanges,\n  Input,\n  Output,\n  EventEmitter,\n  ElementRef,\n  HostBinding,\n  OnDestroy,\n  SimpleChanges,\n  ChangeDetectionStrategy\n} from '@angular/core';\n\nimport { ViewportScroller, Location } from '@angular/common';\n\nimport { select as d3_select } from 'd3-selection';\nimport { scaleOrdinal as d3_scaleOrdinal, scaleBand as d3_scaleBand, scaleLinear as d3_scaleLinear } from 'd3-scale';\nimport { max as d3_max } from 'd3-array';\nimport { axisBottom as d3_axisBottom, axisLeft as d3_axisLeft } from 'd3-axis';\nimport { isoParse as d3_isoParse } from 'd3-time-format';\n\nimport { PbdsDatavizService } from './dataviz.service';\nimport { PbdsDatavizBarGrouped } from './dataviz.interfaces';\n\n@Component({\n  selector: 'pbds-dataviz-bar-grouped',\n  template: ``,\n  styles: [],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class PbdsDatavizBarGroupedComponent implements OnInit, OnDestroy, OnChanges {\n  @HostBinding('class.pbds-chart')\n  chartClass = true;\n\n  @HostBinding('class.pbds-chart-bar-grouped')\n  groupedBarClass = true;\n\n  @Input()\n  data: Array<PbdsDatavizBarGrouped>;\n\n  @Input()\n  width = 306;\n\n  @Input()\n  height = 400;\n\n  @Input()\n  vertical = true;\n\n  @Input()\n  hideXAxis = false;\n\n  @Input()\n  xAxisMaxBuffer = 0.01;\n\n  @Input()\n  xAxisFormatType: 'number' | 'time' = null;\n\n  @Input()\n  xAxisFormatString = '';\n\n  @Input()\n  xAxisTicks = 5;\n\n  @Input()\n  xAxisTitle: string | null = null;\n\n  @Input()\n  hideYAxis = false;\n\n  @Input()\n  yAxisMaxBuffer = 0.01;\n\n  @Input()\n  yAxisFormatType: 'number' | 'time' = null;\n\n  @Input()\n  yAxisFormatString = '';\n\n  @Input()\n  yAxisTicks = 5;\n\n  @Input()\n  marginTop = 10;\n\n  @Input()\n  marginRight = this.vertical ? 0 : 55;\n\n  @Input()\n  marginBottom = 30;\n\n  @Input()\n  marginLeft = 55;\n\n  @Input()\n  hideLegend = false;\n\n  @Input()\n  legendWidth = 105 + 28; // hardcoded legend width + left margin, do not document until feedback\n\n  @Input()\n  legendPosition: 'right' | 'bottom' = 'right';\n\n  @Input()\n  legendLabelFormatType: 'number' | 'time' = null;\n\n  @Input()\n  legendLabelFormatString = '';\n\n  @Input()\n  hideTooltip = false;\n\n  @Input()\n  tooltipLabelFormatType: 'number' | 'time' = null;\n\n  @Input()\n  tooltipLabelFormatString = '';\n\n  @Input()\n  tooltipValueFormatType: 'number' = null;\n\n  @Input()\n  tooltipValueFormatString = '';\n\n  @Input()\n  showGrid = false;\n\n  @Input()\n  theme: 'classic' | 'sunset' | 'ocean' | 'twilight' = 'classic';\n\n  @Input()\n  gradient = true;\n\n  @Output()\n  hovered: EventEmitter<object> = new EventEmitter<object>();\n\n  @Output()\n  clicked: EventEmitter<object> = new EventEmitter<object>();\n\n  private barScale;\n  private chart;\n  private svg;\n  private margin;\n  private colorRange;\n  private xAxisMax;\n  private xAxisScale;\n  private xAxisCall;\n  private xAxis;\n  private xAxisTickSize: number;\n  private xAxisTickSizeOuter: number;\n  private xAxisFormat;\n  private xAxisTitleMargin: number;\n  private hideXAxisDomain: boolean;\n  private hideXAxisZero: boolean;\n  private hideXAxisTicks: boolean;\n  private xGrid;\n  private xGridCall;\n  private yAxisMax;\n  private yAxisScale;\n  private yAxisCall;\n  private yAxis;\n  private yAxisFormat;\n  private yAxisTickSize: number;\n  private yAxisTickSizeOuter: number;\n  private hideYAxisZero: boolean;\n  private hideYAxisDomain: boolean;\n  private hideYAxisTicks: boolean;\n  private yGrid;\n  private yGridCall;\n  private legendLabelFormat;\n  private hideGrayBars: boolean;\n  private tooltip;\n  private tooltipValueFormat;\n  private tooltipLabelFormat;\n\n  constructor(\n    private _dataviz: PbdsDatavizService,\n    private _element: ElementRef,\n    private _scroll: ViewportScroller,\n    private _location: Location\n  ) {}\n\n  ngOnInit() {\n    this.margin = {\n      top: +this.marginTop,\n      right: +this.marginRight,\n      bottom: +this.marginBottom,\n      left: +this.marginLeft\n    };\n\n    // create formatters\n    this.xAxisFormat = this._dataviz.d3Format(this.xAxisFormatType, this.xAxisFormatString);\n    this.yAxisFormat = this._dataviz.d3Format(this.yAxisFormatType, this.yAxisFormatString);\n    this.legendLabelFormat = this._dataviz.d3Format(this.legendLabelFormatType, this.legendLabelFormatString);\n    this.tooltipLabelFormat = this._dataviz.d3Format(this.tooltipLabelFormatType, this.tooltipLabelFormatString);\n    this.tooltipValueFormat = this._dataviz.d3Format(this.tooltipValueFormatType, this.tooltipValueFormatString);\n\n    // defaults for all chart types\n    this.hideGrayBars = false;\n    this.hideXAxisZero = false;\n    this.hideXAxisDomain = false;\n    this.hideXAxisTicks = true;\n    this.xAxisTickSize = 8;\n    this.xAxisTickSizeOuter = 0;\n    this.xAxisTitleMargin = this.xAxisTitle ? 30 : 0;\n    this.hideYAxisZero = false;\n    this.hideYAxisDomain = false;\n    this.hideYAxisTicks = true;\n    this.yAxisTickSize = 8;\n    this.yAxisTickSizeOuter = 0;\n\n    if (!this.hideLegend && this.legendPosition === 'right') {\n      this.width = +this.width - +this.legendWidth;\n    }\n\n    // create the chart\n    this.chart = d3_select(this._element.nativeElement).attr('aria-hidden', 'true');\n\n    // create chart svg\n    this.svg = this.chart\n      .append('svg')\n      .attr('width', () => {\n        if (this.vertical) {\n          return +this.width;\n        } else {\n          return +this.width + this.margin.left + this.margin.right;\n        }\n      })\n      .attr('height', +this.height + this.margin.top + this.margin.bottom + this.xAxisTitleMargin)\n      .attr('class', 'img-fluid')\n      .attr('preserveAspectRatio', 'xMinYMin meet')\n      .attr('viewBox', () => {\n        if (this.vertical) {\n          return `-${this.margin.left} -${this.margin.top} ${+this.width} ${\n            +this.height + this.margin.top + this.margin.bottom + this.xAxisTitleMargin\n          }`;\n        } else {\n          return `-${this.margin.left} -${this.margin.top} ${+this.width + this.margin.left + this.margin.right} ${\n            +this.height + this.margin.top + this.margin.bottom + this.xAxisTitleMargin\n          }`;\n        }\n      });\n\n    // TOOLTIP\n    if (!this.hideTooltip) {\n      this.tooltip = d3_select('body')\n        .append('div')\n        .attr('class', () => {\n          return this.vertical ? 'pbds-tooltip south' : 'pbds-tooltip west';\n        })\n        .style('opacity', 0)\n        .attr('aria-hidden', 'true'); // hide tooltip for accessibility\n    }\n\n    // add legend classes\n    if (!this.hideLegend) {\n      this.chart.classed('pbds-chart-legend-bottom', this.legendPosition === 'bottom' ? true : false);\n      this.chart.append('ul').attr('class', `legend legend-${this.legendPosition}`);\n    }\n\n    // build color ranges\n    this.colorRange = d3_scaleOrdinal().range(\n      this._dataviz.createGradientDefs(this.svg, false, this.theme, this.vertical)\n    );\n\n    if (this.vertical) {\n      // X AXIS\n      this.xAxisScale = d3_scaleBand()\n        .domain(this.data.map((d) => d.key))\n        .rangeRound([0, this.width - this.margin.left])\n        .align(0);\n\n      // add padding to the scale for gray bars\n      !this.hideGrayBars\n        ? this.xAxisScale.paddingInner(0.1).paddingOuter(0)\n        : this.xAxisScale.paddingInner(0).paddingOuter(0);\n\n      this.xAxisCall = d3_axisBottom(this.xAxisScale)\n        .tickSize(this.xAxisTickSize)\n        .tickSizeOuter(this.xAxisTickSizeOuter)\n        .tickFormat(this.xAxisFormatter);\n\n      this.xAxis = this.svg\n        .append('g')\n        .attr('class', 'axis axis-x')\n        .attr('transform', `translate(0, ${this.height})`)\n        .classed('axis-hidden', this.hideXAxis)\n        .classed('axis-zero-hidden', this.hideXAxisZero)\n        .classed('axis-domain-hidden', this.hideXAxisDomain)\n        .classed('axis-ticks-hidden', this.hideXAxisTicks)\n        .call(this.xAxisCall);\n\n      // X GRIDLINES\n      // if (!this.hideXGrid) {\n      //   this.xGridCall = d3_axisBottom(this.xAxisScale).tickSize(-this.height);\n\n      //   this.xGrid = this.svg\n      //     .append('g')\n      //     .attr('class', 'grid grid-x')\n      //     .classed('grid-zero-hidden', this.hideXAxisZero)\n      //     .attr('transform', `translate(0, ${this.height})`)\n      //     .call(this.xGridCall);\n      // }\n\n      // Y AXIS\n      this.yAxisMax = d3_max(this.data, (data: any) => {\n        const clone = { ...data };\n        delete clone.key;\n\n        return d3_max(Object.values(clone));\n      });\n\n      this.yAxisMax = this.yAxisMax + this.yAxisMax * this.yAxisMaxBuffer;\n\n      this.yAxisScale = d3_scaleLinear().domain([0, this.yAxisMax]).nice().rangeRound([this.height, 0]);\n\n      this.yAxisCall = d3_axisLeft(this.yAxisScale)\n        .ticks(this.yAxisTicks)\n        .tickSize(this.yAxisTickSize)\n        .tickSizeOuter(this.yAxisTickSizeOuter)\n        .tickFormat(this.yAxisFormatter);\n\n      this.yAxis = this.svg\n        .append('g')\n        .attr('class', 'axis axis-y')\n        .classed('axis-hidden', this.hideYAxis)\n        .classed('axis-zero-hidden', this.hideYAxisZero)\n        .classed('axis-domain-hidden', this.hideYAxisDomain)\n        .classed('axis-ticks-hidden', this.hideYAxisTicks)\n        .call(this.yAxisCall);\n\n      // Y GRIDLINES\n      if (this.showGrid) {\n        this.yGridCall = d3_axisLeft(this.yAxisScale)\n          .ticks(this.yAxisTicks)\n          .tickSize(-this.width + this.margin.left + this.margin.right);\n\n        this.yGrid = this.svg\n          .append('g')\n          .attr('class', 'grid grid-y')\n          .classed('grid-zero-hidden', this.hideYAxisZero)\n          .attr('transform', `translate(0, 0)`)\n          .call(this.yGridCall);\n      }\n\n      // color bar scale\n      this.barScale = d3_scaleBand()\n        .domain(Object.keys(this.data[0]).slice(1))\n        .rangeRound([0, this.xAxisScale.bandwidth()])\n        .paddingInner(0.2)\n        .paddingOuter(0.5);\n\n      this.updateChartVertical();\n    } else {\n      // X AXIS\n      this.xAxisMax = d3_max(this.data, (data: any) => {\n        const clone = { ...data };\n        delete clone.key;\n        return d3_max(Object.values(clone));\n      });\n\n      this.xAxisMax = this.xAxisMax + this.xAxisMax * this.xAxisMaxBuffer;\n\n      this.xAxisScale = d3_scaleLinear().domain([0, this.xAxisMax]).rangeRound([0, this.width]).nice();\n\n      this.xAxisCall = d3_axisBottom(this.xAxisScale)\n        .ticks(this.xAxisTicks)\n        .tickSize(this.xAxisTickSize)\n        .tickSizeOuter(this.xAxisTickSizeOuter)\n        .tickFormat(this.xAxisFormatter);\n\n      this.xAxis = this.svg\n        .append('g')\n        .attr('class', 'axis axis-x')\n        .attr('transform', `translate(0, ${this.height})`)\n        .classed('axis-hidden', this.hideXAxis)\n        .classed('axis-zero-hidden', this.hideXAxisZero)\n        .classed('axis-domain-hidden', this.hideXAxisDomain)\n        .classed('axis-ticks-hidden', this.hideXAxisTicks)\n        .call(this.xAxisCall);\n\n      // Y AXIS\n      this.yAxisScale = d3_scaleBand()\n        .domain(this.data.map((d) => d.key))\n        .rangeRound([0, this.height])\n        .align(1);\n\n      // add padding to the scale for gray bars\n      !this.hideGrayBars\n        ? this.yAxisScale.paddingInner(0.1).paddingOuter(0)\n        : this.yAxisScale.paddingInner(0).paddingOuter(0);\n\n      this.yAxisCall = d3_axisLeft(this.yAxisScale)\n        .tickSize(this.yAxisTickSize)\n        .tickSizeOuter(this.yAxisTickSizeOuter)\n        .tickFormat(this.yAxisFormatter);\n\n      this.yAxis = this.svg\n        .append('g')\n        .attr('class', 'axis axis-y')\n        .classed('axis-hidden', this.hideYAxis)\n        .classed('axis-zero-hidden', this.hideYAxisZero)\n        .classed('axis-domain-hidden', this.hideYAxisDomain)\n        .classed('axis-ticks-hidden', this.hideYAxisTicks)\n        .call(this.yAxisCall);\n\n      // X GRIDLINES\n      if (this.showGrid) {\n        this.xGridCall = d3_axisBottom(this.xAxisScale).tickSize(-this.height);\n        this.xGrid = this.svg\n          .append('g')\n          .attr('class', 'grid grid-x')\n          .classed('grid-zero-hidden', this.hideXAxisZero)\n          .attr('transform', `translate(0, ${this.height})`)\n          .call(this.xGridCall);\n      }\n\n      // Y GRIDLINES\n      // if (!this.hideYGrid) {\n      //   this.yGridCall = d3_axisLeft(this.yAxisScale)\n      //     .ticks(this.yAxisTicks)\n      //     .tickSize(-this.width);\n\n      //   this.yGrid = this.svg\n      //     .append('g')\n      //     .attr('class', 'grid grid-y')\n      //     .classed('grid-zero-hidden', this.hideYAxisZero)\n      //     .attr('transform', `translate(0, 0)`)\n      //     .call(this.yGridCall);\n      // }\n\n      // color bar scale\n      this.barScale = d3_scaleBand()\n        .domain(Object.keys(this.data[0]).slice(1))\n        .rangeRound([this.yAxisScale.bandwidth(), 0])\n        .paddingInner(0.2)\n        .paddingOuter(0.5);\n\n      this.updateChartHorizontal();\n    }\n\n    // X AXIS TITLE\n    if (this.xAxisTitle) {\n      this.svg\n        .append('text')\n        .attr('class', 'axis-title')\n        .attr('text-anchor', 'middle')\n        .attr(\n          'transform',\n          `translate(${this.svg.attr('width') / 2 - this.margin.left / 2 - this.margin.right / 2}, ${\n            this.height + this.margin.top + (this.hideXAxis ? 20 : 40)\n          })`\n        )\n        .text(this.xAxisTitle);\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.tooltip) this.tooltip.remove();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.data && !changes.data.firstChange) {\n      if (this.vertical) {\n        this.updateChartVertical();\n      } else {\n        this.updateChartHorizontal();\n      }\n    }\n  }\n\n  updateChartVertical() {\n    // update the xScale\n    this.xAxisScale.domain(this.data.map((d) => d.key));\n\n    // update the yScale\n    this.yAxisMax = d3_max(this.data, (data: any) => {\n      const clone = { ...data };\n      delete clone.key;\n\n      return d3_max(Object.values(clone));\n    });\n\n    this.yAxisMax = this.yAxisMax + this.yAxisMax * this.yAxisMaxBuffer;\n\n    this.yAxisScale.domain([0, this.yAxisMax]).rangeRound([this.height, 0]).nice();\n\n    this.xAxis.transition().duration(1000).call(this.xAxisCall);\n\n    this.yAxis.transition().duration(1000).call(this.yAxisCall);\n\n    // update the grids\n    // if (!this.hideXGrid) {\n    //   this.xGrid\n    //     .transition()\n    //     .duration(1000)\n    //     .call(this.xGridCall);\n    // }\n\n    if (this.showGrid) {\n      this.yGrid.transition().duration(1000).call(this.yGridCall);\n    }\n\n    // update the color bar scale\n    this.barScale.domain(Object.keys(this.data[0]).slice(1)).rangeRound([0, this.xAxisScale.bandwidth()]);\n\n    this.svg\n      .selectAll('.gray-bar')\n      .data(this.data)\n      .join(\n        (enter) =>\n          enter\n            .append('rect')\n            .attr('class', 'gray-bar')\n            .attr('x', (d) => this.xAxisScale(d.key))\n            .attr('y', (d) => this.yAxisScale(d.value))\n            .attr('width', this.xAxisScale.bandwidth())\n            .attr('height', this.height),\n        (update) =>\n          update\n            .transition()\n            .duration(1000)\n            .attr('x', (d) => this.xAxisScale(d.key))\n            .attr('y', (d) => this.yAxisScale(d.value))\n            .attr('width', this.xAxisScale.bandwidth())\n            .attr('height', this.height)\n            .selection()\n      );\n\n    this.svg\n      .selectAll('.bar-group')\n      .data(this.data)\n      .join(\n        (enter) =>\n          enter\n            .append('g')\n            .attr('class', 'bar-group')\n            .attr('transform', (d, i) => {\n              return `translate(${this.xAxisScale(d.key)}, 0)`;\n            }),\n        (update) =>\n          update\n            .transition()\n            .duration(1000)\n            .attr('transform', (d, i) => {\n              return `translate(${this.xAxisScale(d.key)}, 0)`;\n            })\n            .selection()\n      );\n\n    this.svg\n      .selectAll('.bar-group')\n      // .selectAll('.bar')\n      .selectChildren()\n      .data((d, i) => {\n        const clone = { ...d };\n        delete clone.key;\n\n        const keys = Object.keys(clone);\n\n        const keyData = keys.map(function (key) {\n          return { label: key, value: d[key], parentIndex: i };\n        });\n\n        return keyData;\n      })\n      .join(\n        (enter) =>\n          enter\n            .append('rect')\n            .attr('class', 'bar')\n            .attr('fill', (d) => this.barFill(d))\n            .attr('data-color', (d) => this.colorRange(d.label))\n            .attr('data-parent-index', (d) => d.parentIndex)\n            .attr('x', (d) => this.barScale(d.label))\n            .attr('width', this.barScale.bandwidth())\n            .attr('y', this.height)\n            .attr('height', 0)\n            .call((enter) => {\n              return enter\n                .attr('pointer-events', 'none')\n                .transition()\n                .duration(0) // 500\n                .attr('height', (d) => this.height - this.yAxisScale(d.value))\n                .attr('y', (d) => this.yAxisScale(d.value))\n                .transition()\n                .attr('pointer-events', 'auto');\n            }),\n\n        (update) =>\n          update\n            .attr('pointer-events', 'none')\n            .transition()\n            .duration(1000)\n            .attr('x', (d) => this.barScale(d.label))\n            .attr('width', this.barScale.bandwidth())\n            .attr('height', (d) => this.height - this.yAxisScale(d.value))\n            .attr('y', (d) => this.yAxisScale(d.value))\n            .transition()\n            .selection()\n            .attr('pointer-events', 'auto'),\n        (exit) =>\n          exit\n            .transition()\n            .duration(0) // 100\n            .selection()\n            .attr('pointer-events', 'none')\n            .attr('height', 0)\n            .attr('y', this.height)\n      )\n      .on('mouseover', (event, data: PbdsDatavizBarGrouped[]) => this.barMouseOver(event, data))\n      .on('mouseout', (event, data) => this.barMouseOut())\n      .on('click', (event, data) => this.barMouseClick(event, data));\n\n    this.updateLegend();\n\n    this.svg.selectAll('.axis').raise();\n  }\n\n  updateChartHorizontal() {\n    // update the xScale\n    this.xAxisMax = d3_max(this.data, (data: any) => {\n      const clone = { ...data };\n      delete clone.key;\n      return d3_max(Object.values(clone));\n    });\n\n    this.xAxisMax = this.xAxisMax + this.xAxisMax * this.xAxisMaxBuffer;\n\n    this.xAxisScale.domain([0, this.xAxisMax]).rangeRound([0, this.width]).nice();\n\n    // update the yScale\n    this.yAxisScale.domain(this.data.map((d) => d.key));\n\n    this.xAxis.transition().duration(1000).call(this.xAxisCall);\n\n    this.yAxis.transition().duration(1000).call(this.yAxisCall);\n\n    // update the grids\n    if (this.showGrid) {\n      this.xGrid.transition().duration(1000).call(this.xGridCall);\n    }\n\n    // if (!this.hideYGrid) {\n    //   this.yGrid\n    //     .transition()\n    //     .duration(1000)\n    //     .call(this.yGridCall);\n    // }\n\n    // update the color bar scale\n    this.barScale.domain(Object.keys(this.data[0]).slice(1)).rangeRound([0, this.yAxisScale.bandwidth()]);\n\n    this.svg\n      .selectAll('.gray-bar')\n      .data(this.data)\n      .join(\n        (enter) =>\n          enter\n            .append('rect')\n            .attr('class', 'gray-bar')\n            .attr('y', (d) => this.yAxisScale(d.key))\n            .attr('width', this.width)\n            .attr('height', this.yAxisScale.bandwidth()),\n        (update) =>\n          update\n            .transition()\n            .duration(1000)\n            .attr('y', (d) => this.yAxisScale(d.key))\n            .attr('width', this.width)\n            .attr('height', this.yAxisScale.bandwidth())\n            .selection()\n      );\n\n    this.svg\n      .selectAll('.bar-group')\n      .data(this.data)\n      .join(\n        (enter) =>\n          enter\n            .append('g')\n            .attr('class', 'bar-group')\n            .attr('transform', (d, i) => {\n              return `translate(0, ${this.yAxisScale(d.key)})`;\n            }),\n        (update) =>\n          update\n            .transition()\n            .duration(1000)\n            .attr('transform', (d, i) => {\n              return `translate(0, ${this.yAxisScale(d.key)})`;\n            })\n            .selection()\n      );\n\n    this.svg\n      .selectAll('.bar-group')\n      .selectAll('.bar')\n      .data((d, i) => {\n        const clone = { ...d };\n        delete clone.key;\n\n        const keys = Object.keys(clone);\n\n        const keyData = keys.map(function (key) {\n          return { label: key, value: d[key], parentIndex: i };\n        });\n\n        return keyData;\n      })\n      .join(\n        (enter) =>\n          enter\n            .append('rect')\n            .attr('class', 'bar')\n            .attr('fill', (d) => this.barFill(d, true))\n            .attr('data-color', (d) => this.colorRange(d.label))\n            .attr('data-parent-index', (d) => d.parentIndex)\n            .attr('x', 0)\n            .attr('width', 0)\n            .attr('y', (d) => this.barScale(d.label))\n            .attr('height', this.barScale.bandwidth())\n            .call((enter) => {\n              return enter\n                .attr('pointer-events', 'none')\n                .transition()\n                .duration(0) // 500\n                .attr('width', (d) => this.xAxisScale(d.value))\n                .transition()\n                .attr('pointer-events', 'auto');\n            }),\n        (update) =>\n          update\n            .attr('pointer-events', 'none')\n            .transition()\n            .duration(1000)\n            .attr('width', (d) => this.xAxisScale(d.value))\n            .attr('height', this.barScale.bandwidth())\n            .attr('y', (d) => this.barScale(d.label))\n            .transition()\n            .selection()\n            .attr('pointer-events', 'auto'),\n        (exit) =>\n          exit\n            .transition()\n            .duration(0) // 100\n            .selection()\n            .attr('pointer-events', 'none')\n            .attr('width', 0)\n      )\n      .on('mouseover', (event, data) => this.barMouseOver(event, data))\n      .on('mouseout', (event, data) => this.barMouseOut())\n      .on('click', (event, data) => this.barMouseClick(event, data));\n\n    this.updateLegend();\n\n    this.svg.selectAll('.axis').raise();\n  }\n\n  updateLegend() {\n    // legend\n    if (!this.hideLegend) {\n      const legendData = { ...this.data[0] };\n      delete legendData.key;\n      const legendKeys = Object.keys(legendData).map(function (key) {\n        return { label: key };\n      });\n\n      this.chart\n        .select('.legend')\n        .selectAll('.legend-item')\n        .data(legendKeys)\n        .join(\n          (enter) => {\n            const li = enter.append('li').attr('class', 'legend-item');\n\n            li.insert('span')\n              .attr('class', 'legend-key')\n              .style('background-color', (d) => this.colorRange(d.label));\n\n            li.insert('span', '.legend-item')\n              .attr('class', 'legend-label')\n              .html((d) => {\n                switch (this.legendLabelFormatType) {\n                  case 'number':\n                    return this.legendLabelFormat(d.label);\n\n                  case 'time':\n                    const parsedTime = d3_isoParse(d.label);\n                    return this.legendLabelFormat(parsedTime);\n\n                  default:\n                    return d.label;\n                }\n              });\n\n            return li;\n          },\n          (update) => {\n            update.select('.legend-label').html((d) => {\n              switch (this.legendLabelFormatType) {\n                case 'number':\n                  return this.legendLabelFormat(d.label);\n\n                case 'time':\n                  const parsedTime = d3_isoParse(d.label);\n                  return this.legendLabelFormat(parsedTime);\n\n                default:\n                  return d.label;\n              }\n            });\n\n            return update;\n          },\n          (exit) => exit.remove()\n        )\n        .on('mouseover', (event, data) => this.legendMouseOver(event, data))\n        .on('mouseout', () => this.legendMouseOut())\n        .on('click', (event, data) => this.legendMouseClick(event, data));\n    }\n  }\n\n  barMouseOver = (event, data: PbdsDatavizBarGrouped[]) => {\n    const node = d3_select(event.currentTarget);\n\n    this.chart.selectAll('.bar-group').selectAll('.bar').classed('inactive', true);\n\n    node.classed('inactive', false).style('fill', node.attr('data-color'));\n\n    this.tooltipShow(event, data);\n\n    this.hovered.emit({ event, data });\n  };\n\n  barMouseOut = () => {\n    this.chart.selectAll('.bar').classed('inactive', false).style('fill', null);\n\n    this.tooltipHide();\n  };\n\n  barMouseClick = (event, data) => {\n    this.clicked.emit({ event, data });\n  };\n\n  legendMouseOver = (event, data) => {\n    this.chart\n      .selectAll('.legend-item')\n      .filter((d, i) => d.label !== data.label)\n      .classed('inactive', true);\n\n    this.chart\n      .selectAll('.bar-group')\n      .selectAll('.bar')\n      .filter((d, i) => d.label !== data.label)\n      .classed('inactive', true);\n\n    const bar = this.chart\n      .selectAll('.bar-group')\n      .selectAll('.bar')\n      .filter((d, i) => d.label === data.label)\n      .classed('inactive', null);\n\n    const barColor = bar.attr('data-color');\n\n    bar.style('fill', () => barColor);\n\n    this.hovered.emit({ event, data });\n  };\n\n  legendMouseOut = () => {\n    this.chart.selectAll('.legend-item').classed('inactive', false);\n\n    this.chart.selectAll('.bar-group').selectAll('.bar').classed('inactive', false).style('fill', null);\n  };\n\n  legendMouseClick = (event, data) => {\n    this.clicked.emit({ event, data });\n  };\n\n  private tooltipShow = (event, data) => {\n    const dimensions = event.currentTarget.getBoundingClientRect();\n    const scroll = this._scroll.getScrollPosition();\n    let label;\n\n    switch (this.tooltipLabelFormatType) {\n      case 'number':\n        label = this.tooltipLabelFormat(data.label);\n        break;\n\n      case 'time':\n        const parsedTime = d3_isoParse(data.label);\n        label = this.tooltipLabelFormat(parsedTime);\n        break;\n\n      default:\n        label = data.label;\n    }\n\n    const value =\n      this.tooltipValueFormat === null\n        ? `<div class=\"tooltip-value\">${data.value}</div>`\n        : `<div class=\"tooltip-value\">${this.tooltipValueFormat(data.value)}</div>`;\n\n    this.tooltip.html(\n      `\n        ${label}\n        ${value}\n      `\n    );\n\n    const tooltipOffsetWidth = +this.tooltip.node().offsetWidth / 2;\n    const tooltipOffsetHeight = +this.tooltip.node().offsetHeight;\n    const tooltipTipSize = 8;\n\n    if (this.vertical) {\n      this.tooltip.style('top', `${+scroll[1] + +dimensions.top - tooltipOffsetHeight - tooltipTipSize}px`);\n      this.tooltip.style('left', `${+scroll[0] + +dimensions.left - tooltipOffsetWidth + +dimensions.width / 2}px`);\n    } else {\n      this.tooltip.style('top', `${+scroll[1] + +dimensions.top + +dimensions.height / 2 - tooltipOffsetHeight / 2}px`);\n      this.tooltip.style('left', `${+scroll[0] + +dimensions.right + tooltipTipSize}px`);\n    }\n\n    this.tooltip.style('opacity', 1);\n  };\n\n  private tooltipHide = () => {\n    this.tooltip.style('opacity', 0);\n  };\n\n  private xAxisFormatter = (item) => {\n    switch (this.xAxisFormatType) {\n      case 'number':\n        return this.xAxisFormat(item);\n\n      case 'time':\n        const parseDate = d3_isoParse(item);\n        return this.xAxisFormat(parseDate);\n\n      default:\n        return item;\n    }\n  };\n\n  private yAxisFormatter = (item) => {\n    switch (this.yAxisFormatType) {\n      case 'number':\n        return this.yAxisFormat(item);\n\n      case 'time':\n        const parseDate = d3_isoParse(item);\n        return this.yAxisFormat(parseDate);\n\n      default:\n        return item;\n    }\n  };\n\n  private barFill(d, isHorizontal = false) {\n    const horizontal = isHorizontal ? '-horizontal' : '';\n    const path = this._location.path();\n    const url = this._location.prepareExternalUrl(path);\n    const colorRange = this.colorRange(d.label);\n\n    if (this.gradient) {\n      return `url(${url}#gradient${horizontal}-${colorRange.substr(1)})`;\n    } else {\n      return colorRange;\n    }\n  }\n}\n","import {\n  Component,\n  OnInit,\n  Input,\n  ElementRef,\n  HostBinding,\n  OnChanges,\n  SimpleChanges,\n  Output,\n  EventEmitter,\n  ChangeDetectionStrategy,\n  OnDestroy\n} from '@angular/core';\n\nimport { ViewportScroller, Location } from '@angular/common';\n\nimport { select as d3_select } from 'd3-selection';\nimport { scaleOrdinal as d3_scaleOrdinal, scaleLinear as d3_scaleLinear } from 'd3-scale';\nimport { sum as d3_sum } from 'd3-array';\nimport { axisBottom as d3_axisBottom } from 'd3-axis';\nimport { format as d3_format } from 'd3-format';\nimport { timeFormat as d3_timeFormat, isoParse as d3_isoParse } from 'd3-time-format';\nimport { easeLinear as d3_easeLinear } from 'd3-ease';\n\nimport { PbdsDatavizService } from './dataviz.service';\nimport { PbdsDatavizBarSingleHorizontal, PbdsDatavizBarSingleHorizontalCompare } from './dataviz.interfaces';\n\n\n@Component({\n  selector: 'pbds-dataviz-bar-single-horizontal',\n  template: ``,\n  styles: [],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class PbdsDatavizBarSingleHorizontalComponent implements OnInit, OnDestroy, OnChanges {\n  @HostBinding('class.pbds-chart')\n  chartClass = true;\n\n  @HostBinding('class.pbds-chart-bar-single-horizontal')\n  singleStackedBarClass = true;\n\n  @Input()\n  data: Array<PbdsDatavizBarSingleHorizontal | PbdsDatavizBarSingleHorizontalCompare>;\n\n  @Input()\n  width = 300;\n\n  @Input()\n  height = 40;\n\n  @Input()\n  nullValueText = 'No data available';\n\n  @Input()\n  percentage = false;\n\n  @Input()\n  marginTop = 10;\n\n  @Input()\n  marginRight = 20;\n\n  @Input()\n  marginBottom = 35;\n\n  @Input()\n  marginLeft = 15;\n\n  @Input()\n  barMargin = 2;\n\n  @Input()\n  hideXAxis = false;\n\n  @Input()\n  xAxisTicks = 6;\n\n  @Input()\n  xAxisTitle: string | null = null;\n\n  @Input()\n  xAxisFormatType: 'number' = null;\n\n  @Input()\n  xAxisFormatString = '';\n\n  @Input()\n  xAxisTickLabelSuffix = '';\n\n  @Input()\n  hideXGrid = false;\n\n  @Input()\n  hideLegend = false;\n\n  @Input()\n  hideLegendTooltip = true;\n\n  @Input()\n  legendWidth = 105 + 28; // hardcoded legend width + left margin, do not document until feedback\n\n  @Input()\n  legendPosition: 'right' | 'bottom' = 'bottom';\n\n  @Input()\n  legendLabelFormatType: 'number' | 'time' = null;\n\n  @Input()\n  legendLabelFormatString = '';\n\n  @Input()\n  hideTooltip = false;\n\n  @Input()\n  tooltipLabelFormatType: 'number' | 'time' = null;\n\n  @Input()\n  tooltipLabelFormatString = '';\n\n  @Input()\n  tooltipDateFormatString = '%b %e, %Y';\n\n  @Input()\n  tooltipValueFormatType: 'number' = null;\n\n  @Input()\n  tooltipValueFormatString = '';\n\n  @Input()\n  tooltipValueSuffix = '';\n\n  @Input()\n  tooltipPercentFormatString = '.2%';\n\n  @Input()\n  compareChangeFormatString = '.2%';\n\n  @Input()\n  monochrome = false;\n\n  @Input()\n  customColor :boolean = false;\n\n  @Input()\n  colorsArray=[];\n\n  @Input()\n  theme: 'classic' | 'ocean' | 'sunset' | 'twilight';\n\n  @Input() gradient = true;\n\n  @Output()\n  hovered: EventEmitter<object> = new EventEmitter<object>();\n\n  @Output()\n  clicked: EventEmitter<object> = new EventEmitter<object>();\n\n  private isSingleData = false;\n  private isCompare = false;\n  private chart;\n  private svg;\n  private margin;\n  private colorRange;\n  private barPadding = 40;\n  private xAxisCall;\n  private xAxis;\n  private xAxisScale;\n  private xAxisTickSize: number;\n  private xAxisTickSizeOuter: number;\n  private xAxisFormat;\n  private xAxisTitleMargin: number;\n  private hideXAxisDomain: boolean;\n  private hideXAxisZero: boolean;\n  private hideXAxisTicks: boolean;\n  private xGrid;\n  private xGridCall;\n  private legendLabelFormat;\n  private tooltip;\n  private tooltipLabelFormat;\n  private tooltipValueFormat;\n  private tooltipDateFormat;\n  private tooltipPercentFormat;\n  private tooltipCompareChangeFormat;\n\n  constructor(\n    private _dataviz: PbdsDatavizService,\n    private _element: ElementRef,\n    private _scroll: ViewportScroller,\n    private _location: Location\n  ) {}\n\n  ngOnInit() {\n    this.height = +this.height + this.barPadding;\n\n    this.margin = {\n      top: +this.marginTop,\n      right: +this.marginRight,\n      bottom: +this.marginBottom,\n      left: +this.marginLeft\n    };\n\n    this.isSingleData = this.data.length === 1 ? true : false;\n    this.isCompare = Object.keys(this.data[0]).includes('compareValue');\n\n    // create formatters\n    this.xAxisFormat = this._dataviz.d3Format(this.xAxisFormatType, this.xAxisFormatString);\n    this.legendLabelFormat = this._dataviz.d3Format(this.legendLabelFormatType, this.legendLabelFormatString);\n    this.tooltipValueFormat = this._dataviz.d3Format(this.tooltipValueFormatType, this.tooltipValueFormatString);\n    this.tooltipDateFormat = d3_timeFormat(this.tooltipDateFormatString);\n    this.tooltipPercentFormat = d3_format(this.tooltipPercentFormatString);\n    this.tooltipCompareChangeFormat = d3_format(this.compareChangeFormatString);\n\n    // defaults for all chart types\n    this.hideXAxisZero = false;\n    this.hideXAxisDomain = true;\n    this.hideXAxisTicks = true;\n    this.xAxisTickSize = 8;\n    this.xAxisTickSizeOuter = 0;\n    this.xAxisTitleMargin = this.xAxisTitle ? 30 : 0;\n\n    if (!this.hideLegend && this.legendPosition === 'right') {\n      this.width = +this.width - +this.legendWidth;\n    }\n\n    // create the chart\n    this.chart = d3_select(this._element.nativeElement).attr('aria-hidden', 'true');\n\n    // create chart svg\n    this.svg = this.chart\n      .append('svg')\n      .attr('width', () => {\n        return +this.width + this.margin.left + this.margin.right;\n      })\n      .attr('height', +this.height + this.margin.top + this.margin.bottom + this.xAxisTitleMargin)\n      .attr('class', 'img-fluid')\n      .attr('preserveAspectRatio', 'xMinYMin meet')\n      .attr('viewBox', () => {\n        return `-${this.margin.left} -${this.margin.top} ${+this.width + this.margin.left + this.margin.right} ${\n          +this.height + this.margin.top + this.margin.bottom + this.xAxisTitleMargin\n        }`;\n      });\n\n    // TOOLTIP\n    if (!this.hideTooltip) {\n      this.tooltip = d3_select('body')\n        .append('div')\n        .attr('class', 'pbds-tooltip south')\n        .classed('pbds-tooltip-compare', this.isCompare)\n        .style('opacity', 0)\n        .attr('aria-hidden', 'true'); // hide tooltip for accessibility\n    }\n\n    // add legend classes\n    if (!this.hideLegend && this.data.length > 1) {\n      this.chart.classed('pbds-chart-legend-bottom', this.legendPosition === 'bottom' ? true : false);\n      this.chart.append('ul').attr('class', `legend legend-${this.legendPosition}`);\n    }\n\n    // X AXIS\n    this.xAxisScale = d3_scaleLinear()\n      .domain([0, Math.ceil(d3_sum(this.data, (d: any) => d.value))])\n      .range([0, +this.width]);\n\n    this.xAxisCall = d3_axisBottom(this.xAxisScale)\n      // .tickValues([0, d3_sum(this.data, (d: any) => d.value)])\n      .ticks(this.xAxisTicks)\n      .tickSize(this.xAxisTickSize)\n      .tickSizeOuter(this.xAxisTickSizeOuter)\n      .tickFormat(this.xAxisFormatter);\n\n    this.xAxis = this.svg\n      .append('g')\n      .attr('class', 'axis axis-x')\n      .attr('transform', `translate(0, ${this.height})`)\n      .classed('axis-hidden', this.hideXAxis)\n      .classed('axis-zero-hidden', this.hideXAxisZero)\n      .classed('axis-domain-hidden', this.hideXAxisDomain)\n      .classed('axis-ticks-hidden', this.hideXAxisTicks);\n    // .call(this.xAxisCall);\n\n    // X GRIDLINES\n    if (!this.hideXGrid) {\n      this.xGridCall = d3_axisBottom(this.xAxisScale).tickSize(-this.height);\n\n      this.xGrid = this.svg\n        .append('g')\n        .attr('class', 'grid grid-x')\n        .classed('grid-zero-hidden', this.hideXAxisZero)\n        .attr('transform', `translate(0, ${this.height})`)\n        .call(this.xGridCall);\n    }\n\n    if (this.xAxisTitle) {\n      this.svg\n        .append('text')\n        .attr('class', 'axis-title')\n        .attr('text-anchor', 'middle')\n        .attr(\n          'transform',\n          `translate(${this.svg.attr('width') / 2 - this.margin.left / 2 - this.margin.right / 2}, ${\n            this.height + this.margin.top + (this.hideXAxis ? 20 : 40)\n          })`\n        )\n        // .attr('x', this.width / 2 - this.margin.left)\n        // .attr('y', this.height + this.margin.top + (!this.hideXAxis ? 40 : 0))\n        .text(this.xAxisTitle);\n    }\n\n    // build color ranges\n    debugger\n    let colors;\n\n    if (this.isSingleData) {\n      colors = this._dataviz.createGradientDefs(this.svg, this.monochrome, this.theme, false);\n    } else if (this.monochrome) {\n      colors = this._dataviz.getColors(this.monochrome, this.theme).reverse();\n    } else {\n      colors = this.customColor ? this.colorsArray : this._dataviz.getColors(this.monochrome, this.theme);\n    \n      \n    }\n\n    this.colorRange = d3_scaleOrdinal().range(colors);\n\n    this.updateChart();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.data && !changes.data.firstChange) {\n      this.updateChart();\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.tooltip) this.tooltip.remove();\n  }\n\n  updateChart() {\n    this.isSingleData = this.data.length === 1 ? true : false;\n    this.isCompare = Object.keys(this.data[0]).includes('compareValue');\n\n    const sumValues = d3_sum(this.data, (d: any) => d.value);\n    const isLastBarZero =\n      this.data[this.data.length - 1].value === 0 || this.data[this.data.length - 1].value === null ? true : false;\n\n    let lastBarZeroCount = 0;\n    const cloneData = [...this.data];\n    let isLast = false;\n\n    cloneData.reverse().forEach((value, index, array) => {\n      if ((value.value === 0 || value.value === null) && !isLast) {\n        lastBarZeroCount++;\n      } else {\n        isLast = true;\n      }\n    });\n\n    if (this.percentage && !this.isSingleData) {\n      this.xAxisScale.domain([0, sumValues]).range([0, +this.width]);\n      this.xAxisCall.tickValues([0, sumValues * 0.25, sumValues * 0.5, sumValues * 0.75, sumValues]);\n      this.xAxis.call(this.xAxisCall);\n\n      this.xGridCall.tickValues([0, sumValues * 0.25, sumValues * 0.5, sumValues * 0.75, sumValues]);\n      this.xGrid.call(this.xGridCall);\n\n      this.svg\n        .select('.axis-x')\n        .selectAll('text')\n        .html((d, i) => {\n          const format = d3_format('.0%');\n          return format(i * 0.25);\n        });\n    } else if (this.percentage && this.isSingleData) {\n      this.xAxisScale.domain([0, 1.0]).range([0, +this.width]);\n      this.xAxisCall.tickValues([0, 0.25, 0.5, 0.75, 1.0]);\n      this.xAxis.call(this.xAxisCall);\n\n      this.xGridCall.tickValues([0, 0.25, 0.5, 0.75, 1.0]);\n      this.xGrid.call(this.xGridCall);\n\n      this.svg\n        .select('.axis-x')\n        .selectAll('text')\n        .html((d, i) => {\n          const format = d3_format('.0%');\n          return format(i * 0.25);\n        });\n    } else {\n      this.xAxisScale.domain([0, Math.ceil(sumValues)]).range([0, +this.width]);\n      this.xGridCall.tickValues(this.xAxisScale.ticks().filter((n) => Number.isInteger(n))); // remove decimal grid values\n\n      this.xAxis.transition().duration(1000).call(this.xAxisCall);\n\n      // update the grids\n      if (!this.hideXGrid) {\n        this.xGrid.transition().duration(1000).call(this.xGridCall);\n      }\n    }\n\n    this.svg\n      .selectAll('.bar')\n      .data(this.data)\n      .join(\n        (enter) =>\n          enter\n            .append('rect')\n            .attr('class', 'bar')\n            .attr('width', 0)\n            .attr('height', () => {\n              return this.height - this.barPadding;\n            })\n            .attr('fill', (d) => this.barFill(d))\n            .attr('y', () => {\n              return this.barPadding / 2;\n            })\n            .attr('x', (d, i) => {\n              return this.data.slice(0, i).reduce((acc, item) => {\n                // console.log(acc, item, acc + this.xAxisScale(item.value) + this.barMargin);\n                return +acc + +this.xAxisScale(item.value);\n              }, 1);\n            })\n            .attr('pointer-events', 'none')\n            .call((enter) => {\n              return (\n                enter\n                  .transition()\n                  // .duration(0)\n                  .delay((d, i) => i * 250)\n                  .ease(d3_easeLinear)\n                  .attr('width', (d, i) => {\n                    // debugger;\n                    if (i === this.data.length - lastBarZeroCount - 1 && isLastBarZero) {\n                      return this.xAxisScale(d.value);\n                    } else if (i !== this.data.length - 1) {\n                      let width = this.xAxisScale(d.value) - +this.barMargin;\n                      width = Math.sign(width) === -1 ? 0 : width; // handle negative values\n                      return width;\n                    } else {\n                      return this.xAxisScale(d.value);\n                    }\n                  })\n                  .transition()\n                  .attr('pointer-events', 'auto')\n              );\n            }),\n        (update) =>\n          update\n            .attr('pointer-events', 'none')\n            .transition()\n            .duration(1000)\n            .attr('width', (d, i) => {\n              // debugger;\n              if (d.value === null || d.value === 0) {\n                return this.xAxisScale(0);\n              } else if (i === this.data.length - 1) {\n                return this.xAxisScale(d.value);\n              } else {\n                return this.xAxisScale(d.value) - this.barMargin;\n              }\n            })\n            .attr('x', (d, i) => {\n              return this.data.slice(0, i).reduce((acc, item) => {\n                return acc + +this.xAxisScale(item.value);\n              }, 0);\n            })\n            .transition()\n            .selection()\n            .attr('pointer-events', 'auto'),\n        (exit) => exit.transition().selection().attr('pointer-events', 'none').remove()\n      )\n      .datum((d, i) => {\n        return { data: this.data, index: i };\n      })\n      .on('mouseover', (event, data) => this.barMouseOver(event, data))\n      .on('mouseout', (event, data) => this.barMouseOut())\n      .on('click', (event, data) => this.barMouseClick(event, data));\n\n    if (!this.hideLegend) {\n      this.chart\n        .select('.legend')\n        .selectAll('.legend-item')\n        .data(this.data)\n        .join(\n          (enter) => {\n            const li = enter.append('li').attr('class', 'legend-item').classed('align-items-start', this.isCompare);\n\n            li.insert('span')\n              .attr('class', 'legend-key')\n              .style('background-color', (d) => this.colorRange(d.label))\n              .classed('mt-1', this.isCompare);\n\n            li.insert('span')\n              .attr('class', 'legend-description')\n              .classed('d-flex', this.isCompare)\n              .classed('flex-column', this.isCompare);\n\n            li.select('.legend-description')\n              .insert('span')\n              .attr('class', 'legend-label')\n              .html((d) => {\n                switch (this.legendLabelFormatType) {\n                  case 'number':\n                    return this.legendLabelFormat(d.label);\n\n                  case 'time':\n                    const parsedTime = d3_isoParse(d.label);\n                    return this.legendLabelFormat(parsedTime);\n\n                  default:\n                    return d.label;\n                }\n              });\n\n            li.select('.legend-description')\n              .insert('div')\n              .attr('class', 'legend-change')\n              .classed('d-none', !this.isCompare);\n\n            li.select('.legend-change').html((d) => {\n              return `<div class=\"metric-block-indicator ${d.compareChangeDirection} ${\n                d.compareChangeInverse ? 'inverse' : ''\n              } mt-1\"><span>${this.tooltipCompareChangeFormat(d.compareChangeValue)}</span></div>`;\n            });\n\n            return li;\n          },\n          (update) => {\n            update.classed('align-items-start', this.isCompare);\n            update.select('.legend-key').classed('mt-1', this.isCompare);\n            update.select('.legend-change').classed('d-none', !this.isCompare);\n\n            if (this.isCompare) {\n              update.select('.legend-change').html((d) => {\n                return `<div class=\"metric-block-indicator ${d.compareChangeDirection} ${\n                  d.compareChangeInverse ? 'inverse' : ''\n                } mt-1\"><span>${this.tooltipCompareChangeFormat(d.compareChangeValue)}</span></div>`;\n              });\n            }\n\n            update.select('.legend-label').html((d) => {\n              switch (this.legendLabelFormatType) {\n                case 'number':\n                  return this.legendLabelFormat(d.label);\n\n                case 'time':\n                  const parsedTime = d3_isoParse(d.label);\n                  return this.legendLabelFormat(parsedTime);\n\n                default:\n                  return d.label;\n              }\n            });\n\n            return update;\n          },\n          (exit) => exit.remove()\n        )\n        .datum((d, i) => {\n          return { data: this.data, index: i };\n        })\n        .on('mouseover', (event, data) => this.legendMouseOver(event, data))\n        .on('mouseout', () => this.legendMouseOut())\n        .on('click', (event, data) => this.legendMouseClick(event, data));\n    }\n  }\n\n  barMouseOver = (event, data) => {\n    const node = d3_select(event.currentTarget);\n\n    this.chart.selectAll('.bar').classed('inactive', true);\n\n    node.classed('inactive', false);\n\n    this.chart\n      .selectAll('.legend-item')\n      .filter((d, i) => {\n        // debugger;\n        return i !== data.index;\n      })\n      .classed('inactive', true);\n\n    this.tooltipShow(event, data.data[data.index]);\n\n    this.hovered.emit({ event, data });\n  };\n\n  barMouseOut = () => {\n    this.chart.selectAll('.bar').classed('inactive', false).style('fill', null);\n\n    this.chart.selectAll('.legend-item').classed('inactive', false);\n\n    this.tooltipHide();\n  };\n\n  barMouseClick = (event, data) => {\n    this.clicked.emit({ event, data });\n  };\n\n  private tooltipShow = (event, data, node?) => {\n    const dimensions = node ? node.getBoundingClientRect() : event.currentTarget.getBoundingClientRect();\n    const scroll = this._scroll.getScrollPosition();\n\n    const percentage = data.value / d3_sum(this.data, (d: any) => d.value);\n    const comparePercentage = data.compareValue / d3_sum(this.data, (d: any) => d.compareValue);\n\n    let tooltipLabel = ``;\n    let tooltipCompareDaterangeMargin = ``;\n    let tooltipCompareDaterange = ``;\n    let tooltipCompareValue = ``;\n    let tooltipDaterangeMargin = ``;\n    let tooltipDaterange = ``;\n    let tooltipValue = `${this.nullValueText}`;\n    let tooltipIndicator = '';\n\n    // tooltip label\n    if (!this.isSingleData) {\n      this.tooltip.classed('pbds-tooltip-compare', null);\n\n      switch (this.tooltipLabelFormatType) {\n        case 'number':\n          tooltipLabel = this.tooltipLabelFormat(data.label);\n          break;\n\n        case 'time':\n          const parsedTime = d3_isoParse(data.label);\n          tooltipLabel = this.tooltipLabelFormat(parsedTime);\n          break;\n\n        default:\n          tooltipLabel = data.label;\n      }\n    }\n\n    // tooltip compare daterange\n    if (this.isCompare && data.compareStartDate && data.compareEndDate) {\n      this.tooltip.classed('pbds-tooltip-compare', this.isCompare);\n      tooltipCompareDaterangeMargin = `mt-2`;\n\n      tooltipCompareDaterange = `${this.tooltipDateFormat(\n        d3_isoParse(data.compareStartDate)\n      )} - ${this.tooltipDateFormat(d3_isoParse(data.compareEndDate))}`;\n    }\n\n    // tooltip compare value\n    if (this.percentage && this.isCompare && data.compareValue) {\n      tooltipCompareValue =\n        this.tooltipValueFormat === null\n          ? `${this.tooltipPercentFormat(comparePercentage)} (${data.comparveValue}${this.tooltipValueSuffix})`\n          : `${this.tooltipPercentFormat(comparePercentage)} (${this.tooltipValueFormat(data.compareValue)}${\n              this.tooltipValueSuffix\n            })`;\n    } else if (this.isCompare && data.compareValue !== null) {\n      tooltipCompareValue =\n        this.tooltipValueFormat === null\n          ? `${data.compareValue}${this.tooltipValueSuffix} (${this.tooltipPercentFormat(comparePercentage)})`\n          : `${this.tooltipValueFormat(data.compareValue)}${this.tooltipValueSuffix} (${this.tooltipPercentFormat(\n              comparePercentage\n            )})`;\n    } else if (this.isCompare && data.compareValue === null) {\n      tooltipCompareValue = `${this.nullValueText}`;\n    }\n\n    // tooltip daterange\n    if (data.startDate && data.endDate) {\n      tooltipDaterange = `${this.tooltipDateFormat(d3_isoParse(data.startDate))} - ${this.tooltipDateFormat(\n        d3_isoParse(data.endDate)\n      )}`;\n    }\n\n    //tooltip daterange margin\n    if (tooltipLabel !== '') {\n      tooltipDaterangeMargin = `mt-2`;\n    }\n\n    // tooltip value\n    if (this.isSingleData && this.percentage && data.value) {\n      tooltipValue = this.tooltipValueFormat === null ? `${data.value}` : `${this.tooltipValueFormat(data.value)}`;\n    } else if (this.isSingleData && data.value !== null) {\n      tooltipValue =\n        this.tooltipValueFormat === null\n          ? `${data.value}${this.tooltipValueSuffix}`\n          : `${this.tooltipValueFormat(data.value)}${this.tooltipValueSuffix}`;\n    } else if (!this.isSingleData && this.percentage && data.value !== null) {\n      tooltipValue =\n        this.tooltipValueFormat === null\n          ? `${this.tooltipPercentFormat(percentage)} (${data.value}${this.tooltipValueSuffix})`\n          : `${this.tooltipPercentFormat(percentage)} (${this.tooltipValueFormat(data.value)}${\n              this.tooltipValueSuffix\n            })`;\n    } else if (!this.isSingleData && data.value !== null) {\n      tooltipValue =\n        this.tooltipValueFormat === null\n          ? `${data.value}${this.tooltipValueSuffix} (${this.tooltipPercentFormat(percentage)})`\n          : `${this.tooltipValueFormat(data.value)}${this.tooltipValueSuffix} (${this.tooltipPercentFormat(\n              percentage\n            )})`;\n    }\n\n    // tooltip metric indicator\n    if (!this.isSingleData && this.isCompare && data.value !== null && data.compareValue !== null) {\n      tooltipIndicator = `<div class=\"metric-block-indicator ${data.compareChangeDirection} ${\n        data.compareChangeInverse ? 'inverse' : ''\n      } ml-2\"><span>${this.tooltipCompareChangeFormat(data.compareChangeValue)}</span></div>`;\n    }\n\n    this.tooltip.html(() => {\n      return `\n        <div class=\"tooltip-label font-weight-bold\">${tooltipLabel}</div>\n        <div class=\"${tooltipCompareDaterangeMargin}\">${tooltipCompareDaterange}</div>\n        <div class=\"tooltip-value font-weight-bold\">${tooltipCompareValue}</div>\n        <div class=\"${tooltipDaterangeMargin}\">${tooltipDaterange}</div>\n        <div class=\"tooltip-value\"><span class=\"font-weight-bold\">${tooltipValue}</span> <span>${tooltipIndicator}</span></div>\n      `;\n    });\n\n    const tooltipOffsetWidth = +this.tooltip.node().offsetWidth / 2;\n    const tooltipOffsetHeight = +this.tooltip.node().offsetHeight;\n    const tooltipTipSize = 8;\n\n    this.tooltip.style('top', `${+scroll[1] + +dimensions.top - tooltipOffsetHeight - tooltipTipSize}px`);\n\n    if (this.data.length > 1) {\n      this.tooltip.style('left', `${+scroll[0] + +dimensions.left - tooltipOffsetWidth + +dimensions.width / 2}px`);\n    } else {\n      this.tooltip.style('left', `${+scroll[0] - tooltipOffsetWidth + +dimensions.right}px`);\n    }\n\n    this.tooltip.style('opacity', 1);\n  };\n\n  private tooltipHide = () => {\n    this.tooltip.style('opacity', 0);\n  };\n\n  legendMouseOver = (event, data) => {\n    if (!this.hideLegendTooltip) {\n      const barHover = this.svg\n        .selectAll('.bar')\n        .filter((d, i) => i === data.index)\n        .node();\n\n      this.tooltipShow(event, data.data[data.index], barHover);\n    }\n\n    this.chart\n      .selectAll('.legend-item')\n      .filter((d, i) => i !== data.index)\n      .classed('inactive', true);\n\n    this.chart\n      .selectAll('.bar')\n      .filter((d, i) => i !== data.index)\n      .classed('inactive', true);\n\n    // this.chart\n    //   .selectAll('.bar')\n    //   .filter((d, i) => i === data.index)\n    //   .classed('inactive', null);\n\n    this.hovered.emit({ event, data });\n  };\n\n  legendMouseOut = () => {\n    this.chart.selectAll('.legend-item').classed('inactive', false);\n\n    this.chart.selectAll('.bar').classed('inactive', false).style('fill', null);\n\n    // hide tooltip for zero/null values\n    this.tooltipHide();\n  };\n\n  legendMouseClick = (event, data) => {\n    this.clicked.emit({ event, data });\n  };\n\n  private xAxisFormatter = (item) => {\n    switch (this.xAxisFormatType) {\n      case 'number':\n        return `${this.xAxisFormat(item)}${this.xAxisTickLabelSuffix}`;\n\n      default:\n        return `${item}${this.xAxisTickLabelSuffix}`;\n    }\n  };\n\n  private barFill(d) {\n    const path = this._location.path();\n    const url = this._location.prepareExternalUrl(path);\n    const colorRange = this.colorRange(d.label);\n\n    if (this.gradient && this.isSingleData) {\n      return `url(${url}#gradient-horizontal-${colorRange.substr(1)})`;\n    } else {\n      return colorRange;\n    }\n  }\n}\n","import {\n  Component,\n  OnInit,\n  OnChanges,\n  Input,\n  Output,\n  EventEmitter,\n  ElementRef,\n  HostBinding,\n  OnDestroy,\n  SimpleChanges,\n  ChangeDetectionStrategy\n} from '@angular/core';\n\nimport { ViewportScroller } from '@angular/common';\n\nimport { select as d3_select } from 'd3-selection';\n\nimport {\n  scaleOrdinal as d3_scaleOrdinal,\n  scaleLinear as d3_scaleLinear,\n  scaleTime as d3_scaleTime,\n  scalePoint as d3_scalePoint\n} from 'd3-scale';\nimport { min as d3_min, max as d3_max, extent as d3_extent } from 'd3-array';\nimport { axisBottom as d3_axisBottom, axisLeft as d3_axisLeft } from 'd3-axis';\nimport { format as d3_format } from 'd3-format';\nimport { isoParse as d3_isoParse, isoFormat as d3_isoFormat, timeFormat as d3_timeFormat } from 'd3-time-format';\n\nimport { PbdsDatavizService } from './dataviz.service';\n\nimport { PbdsDatavizScatterplot } from './dataviz.interfaces';\n\n@Component({\n  selector: 'pbds-dataviz-scatterplot',\n  template: ``,\n  styles: [],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class PbdsDatavizScatterplotComponent implements OnInit, OnDestroy, OnChanges {\n  @HostBinding('class.pbds-chart') chartClass = true;\n\n  @HostBinding('class.pbds-chart-scatterplot') scatterplotClass = true;\n\n  @Input() data: PbdsDatavizScatterplot[];\n\n  @Input() width = 306;\n\n  @Input() height = 400;\n\n  @Input() jitterX = 4;\n\n  @Input() jitterY = 4;\n\n  @Input() xAxisType: 'date' | 'number' | 'string' = 'date';\n\n  @Input() xAxisFormatString = '';\n\n  @Input() xAxisTicks = 6;\n\n  @Input() yAxisFormatString = '';\n\n  @Input() yAxisTicks = 5;\n\n  @Input() yAxisMinBuffer = 0.01;\n\n  @Input() yAxisMaxBuffer = 0.01;\n\n  @Input()\n  hideXGrid = false;\n\n  @Input()\n  hideYGrid = false;\n\n  @Input()\n  hideLegend = false;\n\n  @Input()\n  legendWidth = 105 + 28; // hardcoded legend width + left margin, do not document until feedback\n\n  @Input()\n  legendPosition: 'right' | 'bottom' = 'right';\n\n  @Input()\n  legendLabelFormatType: 'number' | 'time' = null;\n\n  @Input()\n  tooltipXLabel = 'X';\n\n  @Input()\n  tooltipXValueFormatType: 'number' | 'time' = null;\n\n  @Input()\n  tooltipXValueFormatString = '';\n\n  @Input()\n  tooltipYLabel = 'Y';\n\n  @Input()\n  tooltipYValueFormatType: 'number' | 'time' = null;\n\n  @Input()\n  tooltipYValueFormatString = '';\n\n  @Input()\n  tooltipValueLabel = 'Value';\n\n  @Input()\n  tooltipValueFormatType: 'number' | 'time' = null;\n\n  @Input()\n  tooltipValueFormatString = '';\n\n  @Input() marginTop = 10;\n\n  @Input() marginRight = 20;\n\n  @Input() marginBottom = 30;\n\n  @Input() marginLeft = 55;\n\n  @Input()\n  theme;\n  \n  @Input()\n  customColor :boolean = false;\n\n  @Input()\n  colorsArray=[];\n\n  @Output()\n  hovered: EventEmitter<object> = new EventEmitter<object>();\n\n  @Output()\n  clicked: EventEmitter<object> = new EventEmitter<object>();\n\n  @Output()\n  tooltipHovered: EventEmitter<object> = new EventEmitter<object>();\n\n  @Output()\n  tooltipClicked: EventEmitter<object> = new EventEmitter<object>();\n\n  private chart;\n  private svg;\n  private margin;\n  private colorRange;\n  private xAxisScale;\n  private xAxisCall;\n  private xAxis;\n  private xAxisFormat;\n  private yAxisScale;\n  private yAxisCall;\n  private yAxis;\n  private yAxisFormat;\n  private xGrid;\n  private xGridCall;\n  private yGrid;\n  private yGridCall;\n  private valueScale;\n  private xAxisTickSize: number;\n  private xAxisTickSizeOuter: number;\n  private yAxisTickSize: number;\n  private yAxisTickSizeOuter: number;\n  private hideXAxis: boolean;\n  private hideYAxis: boolean;\n  private hideXAxisDomain: boolean;\n  private hideYAxisDomain: boolean;\n  private hideXAxisZero: boolean;\n  private hideYAxisZero: boolean;\n  private hideXAxisTicks: boolean;\n  private hideYAxisTicks: boolean;\n  private legendLabelFormat;\n  private tooltip;\n  private hideTooltip: boolean;\n  private tooltipXValueFormat;\n  private tooltipYValueFormat;\n  private tooltipValueFormat;\n\n  constructor(private _dataviz: PbdsDatavizService, private _element: ElementRef, private _scroll: ViewportScroller) {}\n\n  ngOnInit() {\n    this.margin = {\n      top: +this.marginTop,\n      right: +this.marginRight,\n      bottom: +this.marginBottom,\n      left: +this.marginLeft\n    };\n\n    // create formatters\n    this.xAxisFormat =\n      this.xAxisType === 'date' ? d3_timeFormat(this.xAxisFormatString) : d3_format(this.xAxisFormatString);\n\n    this.yAxisFormat = d3_format(this.yAxisFormatString);\n    this.tooltipXValueFormat = this._dataviz.d3Format(this.tooltipXValueFormatType, this.tooltipXValueFormatString);\n    this.tooltipYValueFormat = this._dataviz.d3Format(this.tooltipYValueFormatType, this.tooltipYValueFormatString);\n    this.tooltipValueFormat = this._dataviz.d3Format(this.tooltipValueFormatType, this.tooltipValueFormatString);\n\n    this.xAxisTickSize = 8;\n    this.xAxisTickSizeOuter = 0;\n    this.yAxisTickSize = 8;\n    this.yAxisTickSizeOuter = 0;\n\n    // create the chart\n    this.chart = d3_select(this._element.nativeElement).attr('aria-hidden', 'true');\n\n    // create chart svg\n    this.svg = this.chart\n      .append('svg')\n      .attr('width', +this.width + this.margin.right)\n      .attr('height', +this.height + this.margin.top + this.margin.bottom)\n      .attr('class', 'img-fluid')\n      .attr('preserveAspectRatio', 'xMinYMin meet')\n      .attr(\n        'viewBox',\n        `-${this.margin.left} -${this.margin.top} ${+this.width + this.margin.right} ${\n          +this.height + this.margin.top + this.margin.bottom\n        }`\n      );\n\n    // X AXIS\n    if (this.xAxisType === 'date') {\n      this.xAxisScale = d3_scaleTime()\n        .domain(\n          d3_extent(this.data, (d: any) => {\n            return d3_isoParse(d.x);\n          })\n        )\n        .range([0, this.width - this.margin.left - this.margin.right]);\n    } else if (this.xAxisType === 'number') {\n      this.xAxisScale = d3_scaleLinear()\n        .domain(\n          d3_extent(this.data, (d: any) => {\n            return +d.x;\n          })\n        )\n        .range([0, this.width - this.margin.left - this.margin.right]);\n    } else {\n      const keys: any = this.data.map((d) => d.x);\n\n      console.log('KEYS: ', keys);\n\n      this.xAxisScale = d3_scalePoint()\n        .domain(keys)\n        .range([0, this.width - this.margin.left - this.margin.right]);\n    }\n\n    this.xAxisCall = d3_axisBottom(this.xAxisScale)\n      .ticks(+this.xAxisTicks)\n      .tickSize(this.xAxisTickSize)\n      .tickSizeOuter(this.xAxisTickSizeOuter)\n      .tickFormat(this.xAxisFormatter);\n\n    this.xAxis = this.svg\n      .append('g')\n      .attr('class', 'axis axis-x')\n      .attr('transform', `translate(0, ${this.height})`)\n      .classed('axis-hidden', this.hideXAxis)\n      .classed('axis-zero-hidden', this.hideXAxisZero)\n      .classed('axis-domain-hidden', this.hideXAxisDomain)\n      .classed('axis-ticks-hidden', this.hideXAxisTicks)\n      .call(this.xAxisCall);\n\n    // X GRIDLINES\n    if (!this.hideXGrid) {\n      if (this.xAxisType === 'string') {\n        this.xGridCall = d3_axisBottom(this.xAxisScale)\n          .tickSize(-this.height)\n          .tickValues(\n            this.xAxisScale.domain().filter((d, i) => {\n              console.log('GRID: ', d, i);\n              // see https://github.com/d3/d3-scale/issues/182\n              // d3 cannot determine number of strings to show on xaxis with scalePoint()\n              return i % this.xAxisTicks === 0;\n            })\n          );\n      } else {\n        this.xGridCall = d3_axisBottom(this.xAxisScale).tickSize(-this.height);\n      }\n\n      this.xGrid = this.svg\n        .append('g')\n        .attr('class', 'grid grid-x')\n        .classed('grid-zero-hidden', this.hideXAxisZero)\n        .attr('transform', `translate(0, ${this.height})`)\n        .call(this.xGridCall);\n    }\n\n    // Y AXIS\n    this.yAxisScale = d3_scaleLinear()\n      .domain([\n        d3_min(this.data, (d: any, i) => {\n          const minVal = +d.y;\n          return minVal - minVal * +this.yAxisMinBuffer;\n        }),\n        d3_max(this.data, (d: any, i) => {\n          const maxVal = +d.y;\n          return maxVal + maxVal * this.yAxisMaxBuffer;\n        })\n      ])\n      .nice()\n      .range([this.height, 0]);\n\n    this.yAxisCall = d3_axisLeft(this.yAxisScale)\n      .ticks(this.yAxisTicks)\n      .tickSize(this.yAxisTickSize)\n      .tickSizeOuter(this.yAxisTickSizeOuter)\n      .tickFormat(this.yAxisFormatter);\n\n    this.yAxis = this.svg\n      .append('g')\n      .attr('class', 'axis axis-y')\n      .classed('axis-hidden', this.hideYAxis)\n      .classed('axis-zero-hidden', this.hideYAxisZero)\n      .classed('axis-domain-hidden', this.hideYAxisDomain)\n      .classed('axis-ticks-hidden', this.hideYAxisTicks)\n      .call(this.yAxisCall);\n\n    // Y GRIDLINES\n    if (!this.hideYGrid) {\n      this.yGridCall = d3_axisLeft(this.yAxisScale)\n        .ticks(this.yAxisTicks)\n        .tickSize(-this.width + this.margin.left + this.margin.right);\n\n      this.yGrid = this.svg\n        .append('g')\n        .attr('class', 'grid grid-y')\n        .classed('grid-zero-hidden', this.hideYAxisZero)\n        .attr('transform', `translate(0, 0)`)\n        .call(this.yGridCall);\n    }\n\n    // create value scale if passed in data\n    if ('value' in this.data[0]) {\n      this.valueScale = d3_scaleLinear()\n        .domain(\n          d3_extent(this.data, (d: any) => {\n            return +d.value;\n          })\n        )\n        .range([5, 50]);\n    }\n\n    // TOOLTIP\n    if (!this.hideTooltip) {\n      this.tooltip = d3_select('body')\n        .append('div')\n        .attr('class', 'pbds-tooltip west')\n        .style('opacity', 0)\n        .attr('aria-hidden', 'true'); // hide tooltip for accessibility\n\n      // tooltip header\n      this.tooltip.append('div').attr('class', 'tooltip-header');\n\n      // tooltip table\n      this.tooltip.append('table').attr('class', 'tooltip-table text-left w-100').append('tbody');\n    }\n\n    // add legend classes\n    if (!this.hideLegend) {\n      this.chart.classed('pbds-chart-legend-bottom', this.legendPosition === 'bottom' ? true : false);\n      this.chart.append('ul').attr('class', `legend legend-${this.legendPosition}`);\n    }\n\n    this.updateChart();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.data && !changes.data.firstChange) {\n      this.updateChart();\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.tooltip) this.tooltip.remove();\n  }\n\n  updateChart = () => {\n    // build color ranges\n    const labels = new Set();\n    this.data.map((d) => labels.add(d.key));\n\n    const labelsArray: any[] = Array.from(labels.values());\n\n    //custom colors\n\n    const colors = this.customColor ? this.colorsArray : this._dataviz.getColors(false, this.theme);\n    \n  \n    this.colorRange = d3_scaleOrdinal().domain(labelsArray).range(colors);\n\n    // update the xScale\n    if (this.xAxisType === 'date') {\n      this.xAxisScale.domain(\n        d3_extent(this.data, (d: any) => {\n          return d3_isoParse(d.x);\n        })\n      );\n    } else if (this.xAxisType === 'number') {\n      this.xAxisScale.domain(\n        d3_extent(this.data, (d: any) => {\n          return +d.x;\n        })\n      );\n    }\n\n    // update the yScale\n    this.yAxisScale\n      .domain([\n        d3_min(this.data, (d: any, i) => {\n          const minVal = +d.y;\n          return minVal - minVal * +this.yAxisMinBuffer;\n        }),\n        d3_max(this.data, (d: any, i) => {\n          const maxVal = +d.y;\n          return maxVal + maxVal * this.yAxisMaxBuffer;\n        })\n      ])\n      .nice();\n\n    this.xAxis.transition().duration(1000).call(this.xAxisCall);\n    this.yAxis.transition().duration(1000).call(this.yAxisCall);\n\n    // update the grids\n    if (!this.hideXGrid) {\n      this.xGrid.transition().duration(1000).call(this.xGridCall);\n    }\n    if (!this.hideYGrid) {\n      this.yGrid.transition().duration(1000).call(this.yGridCall);\n    }\n\n    this.svg\n      .selectAll('circle')\n      .data(this.data)\n      .join(\n        (enter) => {\n          return enter\n            .append('circle')\n            .attr('cx', (d: any) => {\n              if (this.xAxisType === 'date') {\n                return this.xAxisScale(d3_isoParse(d.x)) - this.jitter(this.jitterX);\n              }\n\n              return this.xAxisScale(d.x) - this.jitter(this.jitterX);\n            })\n            .attr('cy', (d: any) => this.yAxisScale(0))\n            .attr('r', (d) => {\n              if (d.value) {\n                return this.valueScale(d.value);\n              }\n\n              return 5;\n            })\n            .attr('fill', (d: any) => this.colorRange(d.key))\n            .attr('stroke', (d: any) => this.colorRange(d.key))\n            .call((enter) => {\n              enter.attr('cy', (d: any) => this.yAxisScale(d.y) - this.jitter(this.jitterY));\n            });\n        },\n        (update) => {\n          update\n            .transition()\n            .duration(1000)\n            .attr('cx', (d: any) => this.xAxisScale(d.x) - this.jitter(this.jitterX))\n            .attr('cy', (d: any) => this.yAxisScale(d.y) - this.jitter(this.jitterY));\n          return update;\n        },\n        (exit) => {\n          exit\n            .attr('cy', (d: any) => this.yAxisScale(0) - this.jitter(this.jitterY))\n            .attr('r', 0)\n            .remove();\n        }\n      )\n      .on('mouseover', (event, data) => this.tooltipShow(event, data))\n      .on('mouseout', (event, data) => this.tooltipHide())\n      .on('click', (event, data) => this.tooltipClicked.emit({ event, data: data }));\n\n    if (!this.hideLegend) {\n      const uniqueKeys = new Set();\n\n      this.data.forEach((d) => {\n        uniqueKeys.add(d.key);\n      });\n\n      this.chart\n        .select('.legend')\n        .selectAll('.legend-item')\n        .data(Array.from(uniqueKeys.values()))\n        .join(\n          (enter) => {\n            const li = enter.append('li').attr('class', 'legend-item');\n            li.append('span')\n              .attr('class', 'legend-key')\n              .style('background-color', (d) => this.colorRange(d));\n            li.append('span')\n              .attr('class', 'legend-label')\n              .html((d) => {\n                switch (this.legendLabelFormatType) {\n                  case 'number':\n                    return this.legendLabelFormat(d);\n                  case 'time':\n                    const parsedTime = d3_isoParse(d);\n                    return this.legendLabelFormat(parsedTime);\n                  default:\n                    return d;\n                }\n              });\n            return li;\n          },\n          (update) => {\n            update.select('.legend-label').html((d) => {\n              switch (this.legendLabelFormatType) {\n                case 'number':\n                  return this.legendLabelFormat(d);\n                case 'time':\n                  const parsedTime = d3_isoParse(d);\n                  return this.legendLabelFormat(parsedTime);\n                default:\n                  return d;\n              }\n            });\n            return update;\n          },\n          (exit) => exit.remove()\n        )\n        .on('mouseover', (event, data) => this.legendMouseOver(event, data))\n        .on('mouseout', () => this.legendMouseOut())\n        .on('click', (event, data) => this.legendMouseClick(event, data));\n    }\n  };\n\n  legendMouseOver = (event, data) => {\n    const filteredData = this.data.filter((d) => d.key === data);\n\n    this.chart\n      .selectAll('.legend-item')\n      .filter((d, i) => {\n        return d !== data;\n      })\n      .classed('inactive', true);\n\n    this.svg\n      .selectAll('circle')\n      .filter((d, i) => {\n        return d.key !== data;\n      })\n      .classed('inactive', true);\n\n    this.hovered.emit({ event, data: filteredData });\n  };\n\n  legendMouseOut = () => {\n    this.chart.selectAll('.legend-item').classed('inactive', false);\n\n    this.svg.selectAll('circle').classed('inactive', false);\n  };\n\n  legendMouseClick = (event, data) => {\n    const filteredData = this.data.filter((d) => d.key === data);\n\n    this.clicked.emit({ event, data: filteredData });\n  };\n\n  private tooltipShow = (event, data) => {\n    const scroll = this._scroll.getScrollPosition();\n    const boundRect = event.currentTarget.getBoundingClientRect();\n\n    this.svg.selectAll('circle').classed('inactive', true);\n    d3_select(event.currentTarget).classed('inactive', false).classed('active', true);\n\n    const clientWidth = document.body.clientWidth - 10;\n\n    let html = `\n      <tr>\n        <td class=\"pr-3\">${this.tooltipXLabel}</td><td class=\"text-right\">${this.tooltipXValueFormatter(data.x)}</td>\n      </tr>\n      <tr>\n        <td class=\"pr-3\">${this.tooltipYLabel}</td><td class=\"text-right\">${this.tooltipYValueFormatter(data.y)}</td>\n      </tr>\n    `;\n\n    if (data.value) {\n      html += `\n      <tr>\n        <td class=\"pr-3\">${this.tooltipValueLabel}</td><td class=\"text-right\">${this.tooltipValueFormatter(\n        data.value\n      )}</td>\n      </tr>\n      `;\n    }\n\n    this.tooltip.select('tbody').html(html);\n\n    const tooltipOffsetHeight = +this.tooltip.node().offsetHeight;\n    const tooltipDimensions = this.tooltip.node().getBoundingClientRect();\n    const dimensionCalculated = boundRect.left + tooltipDimensions.width + 8;\n\n    let position;\n\n    // flip the tooltip positions if near the right edge of the screen\n    if (dimensionCalculated > clientWidth) {\n      this.tooltip.classed('east', true);\n      this.tooltip.classed('west', false);\n      position = `${boundRect.left - boundRect.width / 2 - tooltipDimensions.width - 8}px`;\n    } else if (dimensionCalculated < clientWidth) {\n      this.tooltip.classed('east', false);\n      this.tooltip.classed('west', true);\n      position = `${boundRect.left + boundRect.width / 2 + 8}px`;\n    }\n\n    // set the tooltip styles\n    this.tooltip.style('top', `${boundRect.top + boundRect.height / 2 - tooltipOffsetHeight / 2 + scroll[1]}px`);\n\n    this.tooltip.style('left', position);\n    this.tooltip.style('opacity', 1);\n\n    this.tooltipHovered.emit({ event, data: data });\n  };\n\n  private tooltipHide = () => {\n    this.svg.selectAll('circle').classed('inactive', false).classed('active', false);\n\n    this.tooltip.style('opacity', 0);\n  };\n\n  private xAxisFormatter = (item) => {\n    if (this.xAxisType === 'date') {\n      const parseDate = d3_isoParse(item);\n      return this.xAxisFormat(parseDate);\n    } else if (this.xAxisType === 'number') {\n      return this.xAxisFormat(item);\n    } else {\n      return item;\n    }\n  };\n\n  private yAxisFormatter = (item) => {\n    return this.yAxisFormat(item);\n  };\n\n  private tooltipXValueFormatter = (item) => {\n    if (this.tooltipXValueFormatType === 'time') {\n      const parseDate = d3_isoParse(item);\n      return this.tooltipXValueFormat(parseDate);\n    } else if (this.tooltipXValueFormatType === 'number') {\n      return this.tooltipXValueFormat(item);\n    } else {\n      return item;\n    }\n  };\n\n  private tooltipYValueFormatter = (item) => {\n    if (this.tooltipYValueFormatType === 'time') {\n      const parseDate = d3_isoParse(item);\n      return this.tooltipYValueFormat(parseDate);\n    } else if (this.tooltipYValueFormatType === 'number') {\n      return this.tooltipYValueFormat(item);\n    } else {\n      return item;\n    }\n  };\n\n  private tooltipValueFormatter = (item) => {\n    if (this.tooltipValueFormatType === 'time') {\n      const parseDate = d3_isoParse(item);\n      return this.tooltipValueFormat(parseDate);\n    } else if (this.tooltipValueFormatType === 'number') {\n      return this.tooltipValueFormat(item);\n    } else {\n      return item;\n    }\n  };\n\n  private jitter(jitter): number {\n    return Math.random() * jitter;\n  }\n}\n","import {\n  Directive,\n  EventEmitter,\n  forwardRef,\n  Inject,\n  Input,\n  OnChanges,\n  OnInit,\n  Output,\n  SimpleChanges\n} from '@angular/core';\n\nimport { select as d3_select } from 'd3-selection';\nimport { easeQuadInOut as d3_easeQuadInOut } from 'd3-ease';\n\nimport { PbdsDatavizBarStackedComponent } from './dataviz-bar-stacked.component';\n\nconst ANNOTATION_MARGIN_TOP = 62;\nconst ANNOTATION_OFFSET = -22;\nconst ANNOTATION_COMMENT_OFFSET = -47;\nconst TRANSITION_DURATION = 1000;\nconst TRANSITION_DELAY = 500;\n\n@Directive({\n  selector: 'pbds-dataviz-bar-stacked[annotations]'\n})\nexport class PbdsBarStackedAnnotationsDirective implements OnInit, OnChanges {\n  @Input('annotations') annotations;\n\n  @Input('annotationsHilight') annotationsHilight = null;\n\n  @Output() annotationClicked: EventEmitter<any> = new EventEmitter();\n\n  private annotationsGroup;\n  private hilightBox;\n\n  constructor(@Inject(forwardRef(() => PbdsDatavizBarStackedComponent)) private component) {\n    component.marginTop = ANNOTATION_MARGIN_TOP;\n  }\n\n  ngOnInit(): void {\n    this.annotationsGroup = this.component.svg.append('g').attr('class', 'annotations');\n\n    this.hilightBox = this.annotationsGroup\n      .append('rect')\n      .classed('annotations-hilight', true)\n      .attr('opacity', 0)\n      .attr('width', this.component.xAxisScale.bandwidth())\n      .attr('height', this.component.height)\n      .attr('transform', `translate(${0}, ${0})`);\n\n    this.update();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes && changes.annotationsHilight && !changes.annotationsHilight.firstChange) {\n      if (changes.annotationsHilight.currentValue) {\n        this.updateHilight();\n      } else {\n        this.hilightBox.transition().duration(200).attr('opacity', 0);\n      }\n    }\n\n    if (changes.annotations && !changes.annotations.firstChange) {\n      this.update();\n    }\n  }\n\n  private update() {\n    const isAnotations = this.annotations;\n    const isIncidents = this.annotations?.incidents?.length > 0;\n    const isComments = this.annotations?.comments?.length > 0;\n\n    if (isAnotations && isIncidents) {\n      const bandwidth = this.component.xAxisScale.bandwidth();\n\n      this.annotationsGroup\n        .selectAll('g.incident')\n        .data(this.annotations.incidents)\n        .join(\n          (enter) => {\n            const g = enter.append('g').attr('class', 'incident');\n\n            g.attr('transform', (d, i) => {\n              const x = this.component.xAxisScale(d.key) + bandwidth / 2;\n              const y = ANNOTATION_OFFSET;\n\n              return `translate(${x}, ${y})`;\n            }).attr('index', (d, i) => i);\n\n            g.append('circle')\n              .attr('r', 0)\n              .attr('cx', 0)\n              .attr('cy', 0)\n              .transition()\n              .duration(TRANSITION_DURATION)\n              .ease(d3_easeQuadInOut)\n              .attr('r', 15);\n\n            g.append('text')\n              .attr('x', 0)\n              .attr('y', 0)\n              .attr('dx', 1)\n              .attr('dy', 9)\n              .attr('text-anchor', 'middle')\n              .text((d) => {\n                return d.icon || '';\n              })\n              .attr('style', 'font-size: 0')\n              .transition()\n              .duration(TRANSITION_DURATION)\n              .ease(d3_easeQuadInOut)\n              .attr('style', 'font-size: 17px');\n\n            return g;\n          },\n          (update) => {\n            update\n              .transition()\n              .duration(TRANSITION_DURATION)\n              .ease(d3_easeQuadInOut)\n              .attr('transform', (d) => {\n                const x = this.component.xAxisScale(d.key) + bandwidth / 2;\n                const y = ANNOTATION_OFFSET;\n\n                return `translate(${x}, ${y})`;\n              });\n\n            return update;\n          },\n          (exit) => {\n            exit.select('circle').transition().duration(TRANSITION_DURATION).attr('r', 0);\n\n            exit.select('text').transition().duration(TRANSITION_DURATION).attr('style', 'font-size: 0');\n\n            return exit.transition().delay(TRANSITION_DELAY).remove();\n          }\n        )\n        .on('mouseover', (event, data) => {\n          d3_select(event.currentTarget).classed('hovered', true);\n        })\n        .on('mouseout', (event, data) => {\n          d3_select(event.currentTarget).classed('hovered', false);\n        })\n        .on('click', (event, data) => {\n          // console.log('incident clicked', this.index.get(event.currentTarget.node));\n          this.annotationClicked.emit({ event, data, index: +d3_select(event.currentTarget).attr('index') });\n        });\n    }\n\n    if (isAnotations && isComments) {\n      const bandwidth = this.component.xAxisScale.bandwidth();\n\n      this.annotationsGroup\n        .selectAll('g.comment')\n        .data(this.annotations.comments)\n        .join(\n          (enter) => {\n            const g = enter.append('g').attr('class', 'comment');\n\n            g.attr('transform', (d) => {\n              const x = this.component.xAxisScale(d.key) + bandwidth / 2;\n              let y = ANNOTATION_OFFSET;\n              const isIncidents = this.annotations?.incidents?.some((incident) => incident.key === d.key);\n\n              if (isIncidents) {\n                y = ANNOTATION_COMMENT_OFFSET;\n              }\n\n              return `translate(${x}, ${y})`;\n            }).attr('index', (d, i) => i);\n\n            g.append('circle')\n              .attr('r', 0)\n              .attr('cx', 0)\n              .attr('cy', 0)\n              .transition()\n              .duration(TRANSITION_DURATION)\n              .ease(d3_easeQuadInOut)\n              .attr('r', 15);\n\n            g.append('text')\n              .attr('x', 0)\n              .attr('y', 3)\n              .attr('dx', 0)\n              .attr('dy', 5)\n              .attr('text-anchor', 'middle')\n              .text('')\n              .attr('style', 'font-size: 0')\n              .transition()\n              .duration(TRANSITION_DURATION)\n              .ease(d3_easeQuadInOut)\n              .attr('style', 'font-size: 17px');\n\n            return g;\n          },\n          (update) => {\n            update\n              .transition()\n              .duration(TRANSITION_DURATION)\n              .ease(d3_easeQuadInOut)\n              .attr('transform', (d) => {\n                const x = this.component.xAxisScale(d.key) + bandwidth / 2;\n                let y = ANNOTATION_OFFSET;\n                const isIncidents = this.annotations?.incidents?.some((incident) => incident.key === d.key);\n\n                if (isIncidents) {\n                  y = ANNOTATION_COMMENT_OFFSET;\n                }\n\n                return `translate(${x}, ${y})`;\n              });\n\n            return update;\n          },\n          (exit) => {\n            exit.select('circle').transition().duration(TRANSITION_DURATION).attr('r', 0);\n\n            exit.select('text').transition().duration(TRANSITION_DURATION).attr('style', 'font-size: 0');\n\n            return exit.transition().delay(TRANSITION_DELAY).remove();\n          }\n        )\n        .on('mouseover', (event) => {\n          d3_select(event.currentTarget).classed('hovered', true);\n        })\n        .on('mouseout', (event) => {\n          d3_select(event.currentTarget).classed('hovered', false);\n        })\n        .on('click', (event, data) => {\n          this.annotationClicked.emit({ event, data, index: +d3_select(event.currentTarget).attr('index') });\n        });\n    }\n\n    // hilight\n    if (this.annotationsHilight) {\n      this.updateHilight();\n    }\n\n    this.component.svg.selectAll('.mouseover-bar').classed('pbds-annotation-add', true);\n  }\n\n  private updateHilight() {\n    const opacity = this.hilightBox.attr('opacity');\n\n    const duration = opacity === 0 ? 0 : 300;\n\n    this.hilightBox\n      .transition()\n      .duration(duration)\n      .ease(d3_easeQuadInOut)\n      .attr('transform', () => {\n        const x = this.component.xAxisScale(this.annotationsHilight);\n        const y = 0;\n\n        return `translate(${x}, ${y})`;\n      })\n      .transition()\n      .duration(200)\n      .attr('opacity', 1);\n  }\n}\n","import {\n  Directive,\n  EventEmitter,\n  forwardRef,\n  Inject,\n  Input,\n  OnChanges,\n  OnInit,\n  Output,\n  SimpleChanges\n} from '@angular/core';\n\nimport { select as d3_select } from 'd3-selection';\nimport { isoParse as d3_isoParse, isoFormat as d3_isoFormat, timeFormat as d3_timeFormat } from 'd3-time-format';\n\nimport { easeQuadInOut as d3_easeQuadInOut } from 'd3-ease';\n\nimport { PbdsDatavizLineComponent } from './dataviz-line.component';\n\nconst ANNOTATION_MARGIN_TOP = 62;\nconst ANNOTATION_OFFSET = -22;\nconst ANNOTATION_COMMENT_OFFSET = -47;\nconst ANNOTATION_WIDTH = 26;\nconst TRANSITION_DURATION = 1000;\nconst TRANSITION_DELAY = 500;\n\n@Directive({\n  selector: 'pbds-dataviz-line[annotations]'\n})\nexport class PbdsLineAnnotationsDirective implements OnInit, OnChanges {\n  @Input('annotations') annotations;\n\n  @Input('annotationsHilight') annotationsHilight = null;\n\n  @Output() annotationClicked: EventEmitter<any> = new EventEmitter();\n\n  private annotationsGroup;\n  private hilightBox;\n\n  constructor(@Inject(forwardRef(() => PbdsDatavizLineComponent)) private component) {\n    component.marginTop = ANNOTATION_MARGIN_TOP;\n  }\n\n  ngOnInit(): void {\n    this.annotationsGroup = this.component.svg.append('g').attr('class', 'annotations');\n\n    this.hilightBox = this.annotationsGroup\n      .append('rect')\n      .classed('annotations-hilight', true)\n      .attr('opacity', 0)\n      .attr('width', ANNOTATION_WIDTH)\n      .attr('height', this.component.height)\n      .attr('transform', `translate(${ANNOTATION_WIDTH / 2}, ${0})`);\n\n    this.update();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes && changes.annotationsHilight && !changes.annotationsHilight.firstChange) {\n      if (changes.annotationsHilight.currentValue) {\n        this.updateHilight();\n      } else {\n        this.hilightBox.transition().duration(200).attr('opacity', 0);\n      }\n    }\n\n    if (changes.annotations && !changes.annotations.firstChange) {\n      this.update();\n    }\n  }\n\n  private update() {\n    const isAnotations = this.annotations;\n    const isIncidents = this.annotations?.incidents?.length > 0;\n    const isComments = this.annotations?.comments?.length > 0;\n\n    if (isAnotations && isIncidents) {\n      this.annotationsGroup\n        .selectAll('g.incident')\n        .data(this.annotations.incidents)\n        .join(\n          (enter) => {\n            const g = enter.append('g').attr('class', 'incident');\n\n            g.attr('transform', (d, i) => {\n              let x;\n              const y = ANNOTATION_OFFSET;\n\n              if (this.component.xAxisType === 'date') {\n                x = this.component.xAxisScale(d3_isoParse(d.key));\n              } else {\n                x = this.component.xAxisScale(d.key);\n              }\n\n              return `translate(${x}, ${y})`;\n            }).attr('index', (d, i) => i);\n\n            g.append('circle')\n              .attr('r', 0)\n              .attr('cx', 0)\n              .attr('cy', 0)\n              .transition()\n              .duration(TRANSITION_DURATION)\n              .ease(d3_easeQuadInOut)\n              .attr('r', 15);\n\n            g.append('text')\n              .attr('x', 0)\n              .attr('y', 0)\n              .attr('dx', 1)\n              .attr('dy', 9)\n              .attr('text-anchor', 'middle')\n              .text((d) => {\n                return d.icon || '';\n              })\n              .attr('style', 'font-size: 0')\n              .transition()\n              .duration(TRANSITION_DURATION)\n              .ease(d3_easeQuadInOut)\n              .attr('style', 'font-size: 17px');\n\n            return g;\n          },\n          (update) => {\n            update\n              .transition()\n              .duration(TRANSITION_DURATION)\n              .ease(d3_easeQuadInOut)\n              .attr('transform', (d) => {\n                let x;\n                const y = ANNOTATION_OFFSET;\n\n                if (this.component.xAxisType === 'date') {\n                  x = this.component.xAxisScale(d3_isoParse(d.key));\n                } else {\n                  x = this.component.xAxisScale(d.key);\n                }\n\n                return `translate(${x}, ${y})`;\n              });\n            return update;\n          },\n          (exit) => {\n            exit.select('circle').transition().duration(TRANSITION_DURATION).attr('r', 0);\n            exit.select('text').transition().duration(TRANSITION_DURATION).attr('style', 'font-size: 0');\n            return exit.transition().delay(TRANSITION_DELAY).remove();\n          }\n        )\n        .on('mouseover', (event, data) => {\n          d3_select(event.currentTarget).classed('hovered', true);\n        })\n        .on('mouseout', (event, data) => {\n          d3_select(event.currentTarget).classed('hovered', false);\n        })\n        .on('click', (event, data) => {\n          // console.log('incident clicked', this.index.get(event.currentTarget.node));\n          this.annotationClicked.emit({ event, data, index: +d3_select(event.currentTarget).attr('index') });\n        });\n    }\n\n    if (isAnotations && isComments) {\n      this.annotationsGroup\n        .selectAll('g.comment')\n        .data(this.annotations.comments)\n        .join(\n          (enter) => {\n            const g = enter.append('g').attr('class', 'comment');\n\n            g.attr('transform', (d) => {\n              let x;\n              let y = ANNOTATION_OFFSET;\n              const isIncidents = this.annotations?.incidents?.some((incident) => incident.key === d.key);\n\n              if (this.component.xAxisType === 'date') {\n                x = this.component.xAxisScale(d3_isoParse(d.key));\n              } else {\n                x = this.component.xAxisScale(d.key);\n              }\n\n              if (isIncidents) {\n                y = ANNOTATION_COMMENT_OFFSET;\n              }\n\n              return `translate(${x}, ${y})`;\n            }).attr('index', (d, i) => i);\n\n            g.append('circle')\n              .attr('r', 0)\n              .attr('cx', 0)\n              .attr('cy', 0)\n              .transition()\n              .duration(TRANSITION_DURATION)\n              .ease(d3_easeQuadInOut)\n              .attr('r', 15);\n\n            g.append('text')\n              .attr('x', 0)\n              .attr('y', 3)\n              .attr('dx', 0)\n              .attr('dy', 5)\n              .attr('text-anchor', 'middle')\n              .text('')\n              .attr('style', 'font-size: 0')\n              .transition()\n              .duration(TRANSITION_DURATION)\n              .ease(d3_easeQuadInOut)\n              .attr('style', 'font-size: 17px');\n\n            return g;\n          },\n          (update) => {\n            update\n              .transition()\n              .duration(TRANSITION_DURATION)\n              .ease(d3_easeQuadInOut)\n              .attr('transform', (d) => {\n                let x;\n                let y = ANNOTATION_OFFSET;\n                const isIncidents = this.annotations?.incidents?.some((incident) => incident.key === d.key);\n\n                if (this.component.xAxisType === 'date') {\n                  x = this.component.xAxisScale(d3_isoParse(d.key));\n                } else {\n                  x = this.component.xAxisScale(d.key);\n                }\n\n                if (isIncidents) {\n                  y = ANNOTATION_COMMENT_OFFSET;\n                }\n\n                return `translate(${x}, ${y})`;\n              });\n\n            return update;\n          },\n          (exit) => {\n            exit.select('circle').transition().duration(TRANSITION_DURATION).attr('r', 0);\n\n            exit.select('text').transition().duration(TRANSITION_DURATION).attr('style', 'font-size: 0');\n\n            return exit.transition().delay(TRANSITION_DELAY).remove();\n          }\n        )\n        .on('mouseover', (event) => {\n          d3_select(event.currentTarget).classed('hovered', true);\n        })\n        .on('mouseout', (event) => {\n          d3_select(event.currentTarget).classed('hovered', false);\n        })\n        .on('click', (event, data) => {\n          this.annotationClicked.emit({ event, data, index: +d3_select(event.currentTarget).attr('index') });\n        });\n    }\n\n    // hilight\n    if (this.annotationsHilight) {\n      this.updateHilight();\n    }\n\n    this.component.svg.selectAll('.mouserect').classed('pbds-annotation-add', true);\n  }\n\n  private updateHilight() {\n    const opacity = this.hilightBox.attr('opacity');\n\n    const duration = opacity === 0 ? 0 : 300;\n\n    const xAxisType = this.component.xAxisType;\n\n    this.hilightBox\n      .transition()\n      .duration(duration)\n      .ease(d3_easeQuadInOut)\n      .attr('transform', () => {\n        let x = 0;\n        const y = 0;\n\n        if (xAxisType === 'date') {\n          x = this.component.xAxisScale(d3_isoParse(this.annotationsHilight));\n        } else {\n          x = this.component.xAxisScale(this.annotationsHilight);\n        }\n\n        return `translate(${x - ANNOTATION_WIDTH / 2}, ${y})`;\n      })\n      .transition()\n      .duration(200)\n      .attr('opacity', 1);\n  }\n}\n","import {\n  Directive,\n  EventEmitter,\n  forwardRef,\n  Inject,\n  Input,\n  OnChanges,\n  OnInit,\n  Output,\n  SimpleChanges\n} from '@angular/core';\n\nimport { select as d3_select } from 'd3-selection';\nimport { easeQuadInOut as d3_easeQuadInOut } from 'd3-ease';\n\nimport { PbdsDatavizBarGroupedComponent } from './dataviz-bar-grouped.component';\n\nconst ANNOTATION_MARGIN_TOP = 62;\nconst ANNOTATION_OFFSET = -22;\nconst ANNOTATION_COMMENT_OFFSET = -47;\nconst TRANSITION_DURATION = 1000;\nconst TRANSITION_DELAY = 500;\n\n@Directive({\n  selector: 'pbds-dataviz-bar-grouped[annotations]'\n})\nexport class PbdsBarGroupedAnnotationsDirective implements OnInit, OnChanges {\n  @Input('annotations') annotations;\n\n  @Input('annotationsHilight') annotationsHilight = null;\n\n  @Output() annotationClicked: EventEmitter<any> = new EventEmitter();\n\n  private annotationsGroup;\n  private hilightBox;\n\n  constructor(@Inject(forwardRef(() => PbdsDatavizBarGroupedComponent)) private component) {\n    component.marginTop = ANNOTATION_MARGIN_TOP;\n  }\n\n  ngOnInit(): void {\n    this.annotationsGroup = this.component.svg.append('g').attr('class', 'annotations');\n\n    this.hilightBox = this.annotationsGroup\n      .append('rect')\n      .classed('annotations-hilight', true)\n      .attr('opacity', 0)\n      .attr('width', this.component.xAxisScale.bandwidth())\n      .attr('height', this.component.height)\n      .attr('transform', `translate(${0}, ${0})`);\n\n    this.update();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes && changes.annotationsHilight && !changes.annotationsHilight.firstChange) {\n      if (changes.annotationsHilight.currentValue) {\n        this.updateHilight();\n      } else {\n        this.hilightBox.transition().duration(200).attr('opacity', 0);\n      }\n    }\n\n    if (changes.annotations && !changes.annotations.firstChange) {\n      this.update();\n    }\n  }\n\n  private update() {\n    const isAnotations = this.annotations;\n    const isIncidents = this.annotations?.incidents?.length > 0;\n    const isComments = this.annotations?.comments?.length > 0;\n\n    if (isAnotations && isIncidents) {\n      const bandwidth = this.component.xAxisScale.bandwidth();\n\n      this.annotationsGroup\n        .selectAll('g.incident')\n        .data(this.annotations.incidents)\n        .join(\n          (enter) => {\n            const g = enter.append('g').attr('class', 'incident');\n\n            g.attr('transform', (d, i) => {\n              const x = this.component.xAxisScale(d.key) + bandwidth / 2;\n              const y = ANNOTATION_OFFSET;\n\n              return `translate(${x}, ${y})`;\n            }).attr('index', (d, i) => i);\n\n            g.append('circle')\n              .attr('r', 0)\n              .attr('cx', 0)\n              .attr('cy', 0)\n              .transition()\n              .duration(TRANSITION_DURATION)\n              .ease(d3_easeQuadInOut)\n              .attr('r', 15);\n\n            g.append('text')\n              .attr('x', 0)\n              .attr('y', 0)\n              .attr('dx', 1)\n              .attr('dy', 9)\n              .attr('text-anchor', 'middle')\n              .text((d) => {\n                return d.icon || '';\n              })\n              .attr('style', 'font-size: 0')\n              .transition()\n              .duration(TRANSITION_DURATION)\n              .ease(d3_easeQuadInOut)\n              .attr('style', 'font-size: 17px');\n\n            return g;\n          },\n          (update) => {\n            update\n              .transition()\n              .duration(TRANSITION_DURATION)\n              .ease(d3_easeQuadInOut)\n              .attr('transform', (d) => {\n                const x = this.component.xAxisScale(d.key) + bandwidth / 2;\n                const y = ANNOTATION_OFFSET;\n\n                return `translate(${x}, ${y})`;\n              });\n\n            return update;\n          },\n          (exit) => {\n            exit.select('circle').transition().duration(TRANSITION_DURATION).attr('r', 0);\n\n            exit.select('text').transition().duration(TRANSITION_DURATION).attr('style', 'font-size: 0');\n\n            return exit.transition().delay(TRANSITION_DELAY).remove();\n          }\n        )\n        .on('mouseover', (event, data) => {\n          d3_select(event.currentTarget).classed('hovered', true);\n        })\n        .on('mouseout', (event, data) => {\n          d3_select(event.currentTarget).classed('hovered', false);\n        })\n        .on('click', (event, data) => {\n          // console.log('incident clicked', this.index.get(event.currentTarget.node));\n          this.annotationClicked.emit({ event, data, index: +d3_select(event.currentTarget).attr('index') });\n        });\n    }\n\n    if (isAnotations && isComments) {\n      const bandwidth = this.component.xAxisScale.bandwidth();\n\n      this.annotationsGroup\n        .selectAll('g.comment')\n        .data(this.annotations.comments)\n        .join(\n          (enter) => {\n            const g = enter.append('g').attr('class', 'comment');\n\n            g.attr('transform', (d) => {\n              const x = this.component.xAxisScale(d.key) + bandwidth / 2;\n              let y = ANNOTATION_OFFSET;\n              const isIncidents = this.annotations?.incidents?.some((incident) => incident.key === d.key);\n\n              if (isIncidents) {\n                y = ANNOTATION_COMMENT_OFFSET;\n              }\n\n              return `translate(${x}, ${y})`;\n            }).attr('index', (d, i) => i);\n\n            g.append('circle')\n              .attr('r', 0)\n              .attr('cx', 0)\n              .attr('cy', 0)\n              .transition()\n              .duration(TRANSITION_DURATION)\n              .ease(d3_easeQuadInOut)\n              .attr('r', 15);\n\n            g.append('text')\n              .attr('x', 0)\n              .attr('y', 3)\n              .attr('dx', 0)\n              .attr('dy', 5)\n              .attr('text-anchor', 'middle')\n              .text('')\n              .attr('style', 'font-size: 0')\n              .transition()\n              .duration(TRANSITION_DURATION)\n              .ease(d3_easeQuadInOut)\n              .attr('style', 'font-size: 17px');\n\n            return g;\n          },\n          (update) => {\n            update\n              .transition()\n              .duration(TRANSITION_DURATION)\n              .ease(d3_easeQuadInOut)\n              .attr('transform', (d) => {\n                const x = this.component.xAxisScale(d.key) + bandwidth / 2;\n                let y = ANNOTATION_OFFSET;\n                const isIncidents = this.annotations?.incidents?.some((incident) => incident.key === d.key);\n\n                if (isIncidents) {\n                  y = ANNOTATION_COMMENT_OFFSET;\n                }\n\n                return `translate(${x}, ${y})`;\n              });\n\n            return update;\n          },\n          (exit) => {\n            exit.select('circle').transition().duration(TRANSITION_DURATION).attr('r', 0);\n\n            exit.select('text').transition().duration(TRANSITION_DURATION).attr('style', 'font-size: 0');\n\n            return exit.transition().delay(TRANSITION_DELAY).remove();\n          }\n        )\n        .on('mouseover', (event) => {\n          d3_select(event.currentTarget).classed('hovered', true);\n        })\n        .on('mouseout', (event) => {\n          d3_select(event.currentTarget).classed('hovered', false);\n        })\n        .on('click', (event, data) => {\n          this.annotationClicked.emit({ event, data, index: +d3_select(event.currentTarget).attr('index') });\n        });\n    }\n\n    // hilight\n    if (this.annotationsHilight) {\n      this.updateHilight();\n    }\n\n    this.component.svg.selectAll('.bar').classed('pbds-annotation-add', true);\n  }\n\n  private updateHilight() {\n    const opacity = this.hilightBox.attr('opacity');\n\n    const duration = opacity === 0 ? 0 : 300;\n\n    this.hilightBox\n      .transition()\n      .duration(duration)\n      .ease(d3_easeQuadInOut)\n      .attr('transform', () => {\n        const x = this.component.xAxisScale(this.annotationsHilight);\n        const y = 0;\n\n        return `translate(${x}, ${y})`;\n      })\n      .transition()\n      .duration(200)\n      .attr('opacity', 1);\n  }\n}\n","import {\n  Directive,\n  EventEmitter,\n  forwardRef,\n  Inject,\n  Input,\n  OnChanges,\n  OnInit,\n  Output,\n  SimpleChanges\n} from '@angular/core';\n\nimport { select as d3_select } from 'd3-selection';\nimport { easeQuadInOut as d3_easeQuadInOut } from 'd3-ease';\n\nimport { PbdsDatavizBarComponent } from './dataviz-bar.component';\n\nconst ANNOTATION_MARGIN_TOP = 62;\nconst ANNOTATION_OFFSET = -22;\nconst ANNOTATION_COMMENT_OFFSET = -47;\nconst TRANSITION_DURATION = 1000;\nconst TRANSITION_DELAY = 500;\n\n@Directive({\n  selector: 'pbds-dataviz-bar[annotations]'\n})\nexport class PbdsBarAnnotationsDirective implements OnInit, OnChanges {\n  @Input('annotations') annotations;\n\n  @Input('annotationsHilight') annotationsHilight = null;\n\n  @Output('annotationClicked') annotationClicked: EventEmitter<any> = new EventEmitter();\n\n  private annotationsGroup;\n  private hilightBox;\n\n  constructor(@Inject(forwardRef(() => PbdsDatavizBarComponent)) private component) {\n    component.marginTop = ANNOTATION_MARGIN_TOP;\n  }\n\n  ngOnInit(): void {\n    this.annotationsGroup = this.component.svg.append('g').attr('class', 'annotations');\n\n    this.hilightBox = this.annotationsGroup\n      .append('rect')\n      .classed('annotations-hilight', true)\n      .attr('opacity', 0)\n      .attr('width', this.component.xAxisScale.bandwidth())\n      .attr('height', this.component.height)\n      .attr('transform', `translate(${0}, ${0})`);\n\n    this.update();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes && changes.annotationsHilight && !changes.annotationsHilight.firstChange) {\n      if (changes.annotationsHilight.currentValue) {\n        this.updateHilight();\n      } else {\n        this.hilightBox.transition().duration(200).attr('opacity', 0);\n      }\n    }\n  }\n\n  private update() {\n    const isAnotations = this.annotations;\n    const isIncidents = this.annotations?.incidents?.length > 0;\n    const isComments = this.annotations?.comments?.length > 0;\n    const bandwidth = this.component.xAxisScale.bandwidth();\n\n    if (isAnotations && isIncidents) {\n      this.annotationsGroup\n        .selectAll('g.incident')\n        .data(this.annotations.incidents)\n        .join(\n          (enter) => {\n            const g = enter.append('g').attr('class', 'incident');\n\n            g.attr('transform', (d, i) => {\n              const x = this.component.xAxisScale(d.key) + bandwidth / 2;\n              const y = ANNOTATION_OFFSET;\n\n              return `translate(${x}, ${y})`;\n            }).attr('index', (d, i) => i);\n\n            g.append('circle')\n              .attr('r', 0)\n              .attr('cx', 0)\n              .attr('cy', 0)\n              .transition()\n              .duration(TRANSITION_DURATION)\n              .ease(d3_easeQuadInOut)\n              .attr('r', 15);\n\n            g.append('text')\n              .attr('x', 0)\n              .attr('y', 0)\n              .attr('dx', 1)\n              .attr('dy', 9)\n              .attr('text-anchor', 'middle')\n              .text((d) => {\n                return d.icon || '';\n              })\n              .attr('style', 'font-size: 0')\n              .transition()\n              .duration(TRANSITION_DURATION)\n              .ease(d3_easeQuadInOut)\n              .attr('style', 'font-size: 17px');\n\n            return g;\n          },\n          (update) => {\n            update\n              .transition()\n              .duration(TRANSITION_DURATION)\n              .ease(d3_easeQuadInOut)\n              .attr('transform', (d) => {\n                const x = this.component.xAxisScale(d.key) + bandwidth / 2;\n                const y = ANNOTATION_OFFSET;\n\n                return `translate(${x}, ${y})`;\n              });\n\n            return update;\n          },\n          (exit) => {\n            exit.select('circle').transition().duration(TRANSITION_DURATION).attr('r', 0);\n\n            exit.select('text').transition().duration(TRANSITION_DURATION).attr('style', 'font-size: 0');\n\n            return exit.transition().delay(TRANSITION_DELAY).remove();\n          }\n        )\n        .on('mouseover', (event, data) => {\n          d3_select(event.currentTarget).classed('hovered', true);\n        })\n        .on('mouseout', (event, data) => {\n          d3_select(event.currentTarget).classed('hovered', false);\n        })\n        .on('click', (event, data) => {\n          // console.log('incident clicked', this.index.get(event.currentTarget.node));\n          this.annotationClicked.emit({ event, data, index: +d3_select(event.currentTarget).attr('index') });\n        });\n    }\n\n    if (isAnotations && isComments) {\n      this.annotationsGroup\n        .selectAll('g.comment')\n        .data(this.annotations.comments)\n        .join(\n          (enter) => {\n            const g = enter.append('g').attr('class', 'comment');\n\n            g.attr('transform', (d) => {\n              const x = this.component.xAxisScale(d.key) + bandwidth / 2;\n              let y = ANNOTATION_OFFSET;\n              const isIncidents = this.annotations?.incidents?.some((incident) => incident.key === d.key);\n\n              if (isIncidents) {\n                y = ANNOTATION_COMMENT_OFFSET;\n              }\n\n              return `translate(${x}, ${y})`;\n            }).attr('index', (d, i) => i);\n\n            g.append('circle')\n              .attr('r', 0)\n              .attr('cx', 0)\n              .attr('cy', 0)\n              .transition()\n              .duration(TRANSITION_DURATION)\n              .ease(d3_easeQuadInOut)\n              .attr('r', 15);\n\n            g.append('text')\n              .attr('x', 0)\n              .attr('y', 3)\n              .attr('dx', 0)\n              .attr('dy', 5)\n              .attr('text-anchor', 'middle')\n              .text('')\n              .attr('style', 'font-size: 0')\n              .transition()\n              .duration(TRANSITION_DURATION)\n              .ease(d3_easeQuadInOut)\n              .attr('style', 'font-size: 17px');\n\n            return g;\n          },\n          (update) => {\n            update\n              .transition()\n              .duration(TRANSITION_DURATION)\n              .ease(d3_easeQuadInOut)\n              .attr('transform', (d) => {\n                const x = this.component.xAxisScale(d.key) + bandwidth / 2;\n                let y = ANNOTATION_OFFSET;\n                const isIncidents = this.annotations?.incidents?.some((incident) => incident.key === d.key);\n\n                if (isIncidents) {\n                  y = ANNOTATION_COMMENT_OFFSET;\n                }\n\n                return `translate(${x}, ${y})`;\n              });\n\n            return update;\n          },\n          (exit) => {\n            exit.select('circle').transition().duration(TRANSITION_DURATION).attr('r', 0);\n\n            exit.select('text').transition().duration(TRANSITION_DURATION).attr('style', 'font-size: 0');\n\n            return exit.transition().delay(TRANSITION_DELAY).remove();\n          }\n        )\n        .on('mouseover', (event, data) => {\n          d3_select(event.currentTarget).classed('hovered', true);\n        })\n        .on('mouseout', (event, data) => {\n          d3_select(event.currentTarget).classed('hovered', false);\n        })\n        .on('click', (event, data) => {\n          this.annotationClicked.emit({ event, data, index: +d3_select(event.currentTarget).attr('index') });\n        });\n    }\n\n    // hilight\n    if (this.annotationsHilight) {\n      this.updateHilight();\n    }\n\n    this.component.svg.selectAll('.bar').classed('pbds-annotation-add', true);\n  }\n\n  private updateHilight() {\n    const opacity = this.hilightBox.attr('opacity');\n\n    const duration = opacity === 0 ? 0 : 300;\n\n    this.hilightBox\n      .transition()\n      .duration(duration)\n      .ease(d3_easeQuadInOut)\n      .attr('transform', () => {\n        const x = this.component.xAxisScale(this.annotationsHilight);\n        const y = 0;\n\n        return `translate(${x}, ${y})`;\n      })\n      .transition()\n      .duration(200)\n      .attr('opacity', 1);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { NgbTooltipModule } from '@ng-bootstrap/ng-bootstrap';\n\nimport { PbdsDatavizPieComponent } from './dataviz-pie.component';\nimport { PbdsDatavizBarComponent } from './dataviz-bar.component';\nimport { PbdsDatavizLineComponent } from './dataviz-line.component';\nimport { PbdsDatavizGaugeComponent } from './dataviz-gauge.component';\nimport { PbdsDatavizSparklineComponent } from './dataviz-sparkline.component';\nimport { PbdsDatavizBarStackedComponent } from './dataviz-bar-stacked.component';\nimport { PbdsDatavizMetricBlockComponent } from './dataviz-metric-block.component';\nimport { PbdsDatavizMetricIndicatorComponent } from './dataviz-metric-indicator.component';\nimport { PbdsDatavizBubbleMapComponent } from './dataviz-bubble-map.component';\nimport { PbdsDatavizHeatmapComponent } from './dataviz-heatmap.component';\nimport { PbdsDatavizChoroplethMapComponent } from './dataviz-choropleth-map.component';\nimport { PbdsDatavizBarGroupedComponent } from './dataviz-bar-grouped.component';\nimport { PbdsDatavizBarSingleHorizontalComponent } from './dataviz-bar-single-horizontal.component';\nimport { PbdsDatavizScatterplotComponent } from './dataviz-scatterplot.component';\n\n// directives\nimport { PbdsBarStackedAnnotationsDirective } from './dataviz-bar-stacked-annotations.directive';\nimport { PbdsLineAnnotationsDirective } from './dataviz-line-annotations.directive';\nimport { PbdsBarGroupedAnnotationsDirective } from './dataviz-bar-grouped-annotations.directive';\nimport { PbdsBarAnnotationsDirective } from './dataviz-bar-annotations.directive';\n\n@NgModule({\n  declarations: [\n    PbdsDatavizPieComponent,\n    PbdsDatavizBarComponent,\n    PbdsDatavizLineComponent,\n    PbdsDatavizGaugeComponent,\n    PbdsDatavizSparklineComponent,\n    PbdsDatavizBarStackedComponent,\n    PbdsDatavizMetricBlockComponent,\n    PbdsDatavizBubbleMapComponent,\n    PbdsDatavizMetricIndicatorComponent,\n    PbdsDatavizHeatmapComponent,\n    PbdsDatavizChoroplethMapComponent,\n    PbdsDatavizBarGroupedComponent,\n    PbdsDatavizBarSingleHorizontalComponent,\n    PbdsDatavizScatterplotComponent,\n    PbdsBarStackedAnnotationsDirective,\n    PbdsLineAnnotationsDirective,\n    PbdsBarGroupedAnnotationsDirective,\n    PbdsBarAnnotationsDirective\n  ],\n  imports: [CommonModule, NgbTooltipModule],\n  exports: [\n    PbdsDatavizPieComponent,\n    PbdsDatavizBarComponent,\n    PbdsDatavizLineComponent,\n    PbdsDatavizGaugeComponent,\n    PbdsDatavizSparklineComponent,\n    PbdsDatavizBarStackedComponent,\n    PbdsDatavizMetricBlockComponent,\n    PbdsDatavizBubbleMapComponent,\n    PbdsDatavizMetricIndicatorComponent,\n    PbdsDatavizHeatmapComponent,\n    PbdsDatavizChoroplethMapComponent,\n    PbdsDatavizBarGroupedComponent,\n    PbdsDatavizBarSingleHorizontalComponent,\n    PbdsDatavizScatterplotComponent,\n    PbdsBarStackedAnnotationsDirective,\n    PbdsLineAnnotationsDirective,\n    PbdsBarGroupedAnnotationsDirective,\n    PbdsBarAnnotationsDirective\n  ]\n})\nexport class PbdsDatavizModule {}\n","// dataviz\nexport * from './dataviz.module';\nexport * from './dataviz.interfaces';\nexport * from './dataviz.service';\n\n// components\nexport * from './dataviz-bar.component';\nexport * from './dataviz-bar-grouped.component';\nexport * from './dataviz-bar-single-horizontal.component';\nexport * from './dataviz-bar-stacked.component';\nexport * from './dataviz-bubble-map.component';\nexport * from './dataviz-choropleth-map.component';\nexport * from './dataviz-gauge.component';\nexport * from './dataviz-heatmap.component';\nexport * from './dataviz-line.component';\nexport * from './dataviz-metric-indicator.component';\nexport * from './dataviz-metric-block.component';\nexport * from './dataviz-pie.component';\nexport * from './dataviz-sparkline.component';\nexport * from './dataviz-scatterplot.component';\n\n// directives\nexport * from './dataviz-bar-stacked-annotations.directive';\nexport * from './dataviz-line-annotations.directive';\nexport * from './dataviz-bar-grouped-annotations.directive';\nexport * from './dataviz-bar-annotations.directive';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["format","d3_format","d3_timeFormat","d3_isoParse","d3_interpolate","interpolate","d3_pointer","d3_scaleOrdinal","d3_pie","d3_arc","d3_select","i1.PbdsDatavizService","d3_min","d3_max","d3_scaleBand","d3_axisBottom","d3_scaleLinear","d3_axisLeft","d3_extent","d3_easeQuadInOut","d3_bisectRight","d3_isoFormat","range","d3_range","d3_bisect","d3_line","d3_curveCatmullRom","d3_area","d3_scaleTime","d3_scalePoint","line","area","d3_stack","d3_stackOrderNone","i1","i2","d3_geoAlbers","d3_geoAlbersUsa","d3_geoMercator","d3_geoPath","i2.PbdsDatavizService","d3_scaleThreshold","d3_scaleQuantile","d3_scaleQuantize","d3_sum","d3_easeLinear","ANNOTATION_MARGIN_TOP","ANNOTATION_OFFSET","ANNOTATION_COMMENT_OFFSET","TRANSITION_DURATION","TRANSITION_DELAY"],"mappings":";;;;;;;;;;;;;;;;;;;MAOa,kBAAkB,CAAA;AAwE7B,IAAA,WAAA,GAAA;AAvEQ,QAAA,IAAA,CAAA,MAAM,GAAG;AACf,YAAA,OAAO,EAAE;AACP,gBAAA,IAAI,EAAE;oBACJ,SAAS;oBACT,SAAS;oBACT,SAAS;oBACT,SAAS;oBACT,SAAS;oBACT,SAAS;oBACT,SAAS;oBACT,SAAS;oBACT,SAAS;oBACT,SAAS;oBACT,SAAS;oBACT,SAAS;AACV,iBAAA;AACD,gBAAA,IAAI,EAAE,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;AACzE,aAAA;AACD,YAAA,QAAQ,EAAE;AACR,gBAAA,IAAI,EAAE;oBACJ,SAAS;oBACT,SAAS;oBACT,SAAS;oBACT,SAAS;oBACT,SAAS;oBACT,SAAS;oBACT,SAAS;oBACT,SAAS;oBACT,SAAS;oBACT,SAAS;oBACT,SAAS;oBACT,SAAS;AACV,iBAAA;AACD,gBAAA,IAAI,EAAE,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;AACzE,aAAA;AACD,YAAA,KAAK,EAAE;AACL,gBAAA,IAAI,EAAE;oBACJ,SAAS;oBACT,SAAS;oBACT,SAAS;oBACT,SAAS;oBACT,SAAS;oBACT,SAAS;oBACT,SAAS;oBACT,SAAS;oBACT,SAAS;oBACT,SAAS;oBACT,SAAS;oBACT,SAAS;AACV,iBAAA;AACD,gBAAA,IAAI,EAAE,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;AACzE,aAAA;AACD,YAAA,MAAM,EAAE;AACN,gBAAA,IAAI,EAAE;oBACJ,SAAS;oBACT,SAAS;oBACT,SAAS;oBACT,SAAS;oBACT,SAAS;oBACT,SAAS;oBACT,SAAS;oBACT,SAAS;oBACT,SAAS;oBACT,SAAS;oBACT,SAAS;oBACT,SAAS;AACV,iBAAA;AACD,gBAAA,IAAI,EAAE,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;AACzE,aAAA;SACF,CAAC;QAIF,IAAS,CAAA,SAAA,GAAG,CAAC,IAAI,GAAG,KAAK,EAAE,KAAK,GAAG,SAAS,KAAI;YAC9C,OAAO,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC;AAClE,SAAC,CAAC;AAEF,QAAA,IAAA,CAAA,kBAAkB,GAAG,CAAC,GAAG,EAAE,IAAI,GAAG,KAAK,EAAE,KAAK,GAAG,SAAS,EAAE,QAAQ,GAAG,IAAI,KAAI;AAC7E,YAAA,MAAM,MAAM,GAAG,IAAI,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC;AAE7E,YAAA,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AACtC,gBAAA,MAAM,KAAK,GAAG,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AAC7E,gBAAA,IAAI,QAAQ,CAAC;AAEb,gBAAA,IAAI,QAAQ,EAAE;AACZ,oBAAA,QAAQ,GAAG,GAAG;yBACX,MAAM,CAAC,MAAM,CAAC;yBACd,MAAM,CAAC,gBAAgB,CAAC;AACxB,yBAAA,IAAI,CAAC,IAAI,EAAE,CAAA,SAAA,EAAY,KAAK,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,CAAC;AAChD,yBAAA,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC;AACf,yBAAA,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC;AACf,yBAAA,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC;AACf,yBAAA,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC;AACf,yBAAA,IAAI,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC;oBAE/B,QAAQ;yBACL,MAAM,CAAC,MAAM,CAAC;AACd,yBAAA,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC;AACpB,yBAAA,IAAI,CAAC,YAAY,EAAE,KAAK,CAAC;AACzB,yBAAA,IAAI,CAAC,cAAc,EAAE,GAAG,CAAC,CAAC;oBAE7B,QAAQ;yBACL,MAAM,CAAC,MAAM,CAAC;AACd,yBAAA,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC;AACtB,yBAAA,IAAI,CAAC,YAAY,EAAE,KAAK,CAAC;AACzB,yBAAA,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;AAC/B,iBAAA;AAAM,qBAAA;AACL,oBAAA,QAAQ,GAAG,GAAG;yBACX,MAAM,CAAC,MAAM,CAAC;yBACd,MAAM,CAAC,gBAAgB,CAAC;AACxB,yBAAA,IAAI,CAAC,IAAI,EAAE,CAAA,oBAAA,EAAuB,KAAK,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,CAAC;AAC3D,yBAAA,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC;AACf,yBAAA,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC;AACf,yBAAA,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC;AACf,yBAAA,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC;AACf,yBAAA,IAAI,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC;oBAE/B,QAAQ;yBACL,MAAM,CAAC,MAAM,CAAC;AACd,yBAAA,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC;AACpB,yBAAA,IAAI,CAAC,YAAY,EAAE,KAAK,CAAC;AACzB,yBAAA,IAAI,CAAC,cAAc,EAAE,GAAG,CAAC,CAAC;oBAE7B,QAAQ;yBACL,MAAM,CAAC,MAAM,CAAC;AACd,yBAAA,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC;AACtB,yBAAA,IAAI,CAAC,YAAY,EAAE,KAAK,CAAC;AACzB,yBAAA,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;AAC/B,iBAAA;AACF,aAAA;AAED,YAAA,OAAO,MAAM,CAAC;AAChB,SAAC,CAAC;QAEF,IAAgB,CAAA,gBAAA,GAAG,GAAG,IAAG;;YAEvB,MAAM,IAAI,GAAG,GAAG;iBACb,MAAM,CAAC,MAAM,CAAC;iBACd,MAAM,CAAC,QAAQ,CAAC;AAChB,iBAAA,IAAI,CAAC,IAAI,EAAE,MAAM,CAAC;AAClB,iBAAA,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC;AACrB,iBAAA,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;YAE1B,IAAI;iBACD,MAAM,CAAC,gBAAgB,CAAC;AACxB,iBAAA,IAAI,CAAC,IAAI,EAAE,eAAe,CAAC;AAC3B,iBAAA,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC;;AAG3B,YAAA,MAAM,SAAS,GAAG;AAChB,gBAAA;AACE,oBAAA,EAAE,EAAE,CAAC;AACL,oBAAA,KAAK,EAAE,GAAG;AACX,iBAAA;AACD,gBAAA;AACE,oBAAA,EAAE,EAAE,CAAC;AACL,oBAAA,KAAK,EAAE,IAAI;AACZ,iBAAA;aACF,CAAC;AAEF,YAAA,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACzC,IAAI;qBACD,MAAM,CAAC,UAAU,CAAC;AAClB,qBAAA,IAAI,CAAC,QAAQ,EAAE,YAAY,GAAG,CAAC,CAAC;AAChC,qBAAA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;qBACb,IAAI,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;AAChC,aAAA;AAED,YAAA,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACzC,IAAI;qBACD,MAAM,CAAC,qBAAqB,CAAC;AAC7B,qBAAA,IAAI,CAAC,QAAQ,EAAE,aAAa,GAAG,CAAC,CAAC;AACjC,qBAAA,IAAI,CAAC,IAAI,EAAE,YAAY,GAAG,CAAC,CAAC;qBAC5B,MAAM,CAAC,SAAS,CAAC;AACjB,qBAAA,IAAI,CAAC,MAAM,EAAE,QAAQ,CAAC;qBACtB,IAAI,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AACtC,aAAA;YAED,MAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;AAErC,YAAA,KAAK,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,eAAe,CAAC,CAAC;AAExD,YAAA,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AACzC,gBAAA,KAAK,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,aAAa,GAAG,CAAC,CAAC,CAAC;AAC3D,aAAA;AACH,SAAC,CAAC;KAlHc;IAoHhB,QAAQ,CAAC,IAAY,EAAE,MAAc,EAAA;AACnC,QAAA,IAAIA,QAAM,CAAC;AAEX,QAAA,QAAQ,IAAI;AACV,YAAA,KAAK,QAAQ;AACX,gBAAAA,QAAM,GAAGC,MAAS,CAAC,MAAM,CAAC,CAAC;gBAC3B,MAAM;AACR,YAAA,KAAK,MAAM;AACT,gBAAAD,QAAM,GAAGE,UAAa,CAAC,MAAM,CAAC,CAAC;gBAC/B,MAAM;AACR,YAAA;gBACEF,QAAM,GAAG,IAAI,CAAC;gBACd,MAAM;AACT,SAAA;AAED,QAAA,OAAOA,QAAM,CAAC;KACf;;+GA5MU,kBAAkB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,UAAA,EAAA,CAAA,CAAA;AAAlB,kBAAA,CAAA,KAAA,GAAA,EAAA,CAAA,qBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,kBAAkB,cAFjB,MAAM,EAAA,CAAA,CAAA;2FAEP,kBAAkB,EAAA,UAAA,EAAA,CAAA;kBAH9B,UAAU;AAAC,YAAA,IAAA,EAAA,CAAA;AACV,oBAAA,UAAU,EAAE,MAAM;AACnB,iBAAA,CAAA;;;MCwBY,uBAAuB,CAAA;IA0ElC,WAAoB,CAAA,QAA4B,EAAU,QAAoB,EAAA;QAA1D,IAAQ,CAAA,QAAA,GAAR,QAAQ,CAAoB;QAAU,IAAQ,CAAA,QAAA,GAAR,QAAQ,CAAY;QAxE9E,IAAU,CAAA,UAAA,GAAG,IAAI,CAAC;QAGlB,IAAQ,CAAA,QAAA,GAAG,IAAI,CAAC;QAMhB,IAAK,CAAA,KAAA,GAAG,GAAG,CAAC;QAGZ,IAAI,CAAA,IAAA,GAAoB,KAAK,CAAC;QAG9B,IAAU,CAAA,UAAA,GAAG,KAAK,CAAC;QAGnB,IAAqB,CAAA,qBAAA,GAAW,IAAI,CAAC;QAGrC,IAAuB,CAAA,uBAAA,GAAG,EAAE,CAAC;QAG7B,IAAuB,CAAA,uBAAA,GAAG,EAAE,CAAC;QAG7B,IAAsB,CAAA,sBAAA,GAAW,IAAI,CAAC;QAGtC,IAAwB,CAAA,wBAAA,GAAG,EAAE,CAAC;QAG9B,IAAkB,CAAA,kBAAA,GAAG,EAAE,CAAC;QAGxB,IAAwB,CAAA,wBAAA,GAAG,EAAE,CAAC;QAM9B,IAAW,CAAA,WAAA,GAAY,KAAK,CAAC;QAG7B,IAAW,CAAA,WAAA,GAAC,EAAE,CAAC;AAGf,QAAA,IAAA,CAAA,OAAO,GAAsB,IAAI,YAAY,EAAO,CAAC;AAGrD,QAAA,IAAA,CAAA,OAAO,GAAsB,IAAI,YAAY,EAAO,CAAC;QAE7C,IAAW,CAAA,WAAA,GAAG,EAAE,CAAC;AAyFzB,QAAA,IAAA,CAAA,WAAW,GAAG,CAAC,QAAQ,GAAG,IAAI,KAAI;;AAEhC,YAAA,IAAI,CAAC,GAAG;iBACL,SAAS,CAAC,MAAM,CAAC;iBACjB,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACzB,iBAAA,IAAI,CACH,CAAC,KAAK,KAAI;gBACR,MAAM,IAAI,GAAG,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBAElC,IAAI;AACD,qBAAA,IAAI,CAAC,CAAC,CAAM,MAAM,CAAC,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC;AACpD,qBAAA,IAAI,CAAC,MAAM,EAAE,CAAC,CAAM,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AACvD,qBAAA,IAAI,CAAC,OAAO,EAAE,OAAO,CAAC;qBACtB,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,KAAI;;oBAEpB,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;AACnC,iBAAC,CAAC,CAAC;AAEL,gBAAA,IAAI,IAAI,CAAC,IAAI,KAAK,KAAK,EAAE;oBACvB,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC,KAAK,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,kBAAkB,EAAE,OAAO,CAAC,CAAC;AAC1F,iBAAA;gBAED,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,KACb,IAAI;AACD,qBAAA,UAAU,EAAE;qBACZ,KAAK,CAAC,GAAG,CAAC;qBACV,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,MAAM,QAAQ,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC;qBAC3C,SAAS,CAAC,GAAG,EAAE,IAAI,CAAC,aAAa,CAAC,CACtC,CAAC;AAEF,gBAAA,OAAO,IAAI,CAAC;AACd,aAAC,EACD,CAAC,MAAM,KAAI;gBACT,IAAI,CAAC,WAAW,EAAE,CAAC;AAEnB,gBAAA,MAAM,CAAC,IAAI,CAAC,CAAC,CAAM,KAAI;oBACrB,QAAQ,CAAC,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,EAAE;AAC5C,iBAAC,CAAC,CAAC;AAEH,gBAAA,MAAM,CAAC,UAAU,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,GAAG,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;AAEtE,gBAAA,OAAO,MAAM,CAAC;aACf,EACD,CAAC,IAAI,KAAK,IAAI,CAAC,MAAM,EAAE,CACxB;iBACA,EAAE,CAAC,WAAW,EAAE,CAAC,KAAK,EAAE,IAAI,KAAI;AAC/B,gBAAA,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;AAChC,gBAAA,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;AAChC,aAAC,CAAC;iBACD,EAAE,CAAC,WAAW,EAAE,CAAC,KAAK,EAAE,IAAI,KAAI;AAC/B,gBAAA,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;;AAE9B,gBAAA,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC;AAC7C,aAAC,CAAC;iBACD,EAAE,CAAC,UAAU,EAAE,CAAC,KAAK,EAAE,IAAI,KAAI;AAC9B,gBAAA,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;gBAC/B,IAAI,CAAC,WAAW,EAAE,CAAC;AACrB,aAAC,CAAC;iBACD,EAAE,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,IAAI,KAAI;AAC3B,gBAAA,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;AAC9B,aAAC,CAAC,CAAC;;AAGL,YAAA,IAAI,CAAC,KAAK;iBACP,MAAM,CAAC,SAAS,CAAC;iBACjB,SAAS,CAAC,cAAc,CAAC;AACzB,iBAAA,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;AACf,iBAAA,IAAI,CACH,CAAC,KAAK,KAAI;AACR,gBAAA,MAAM,EAAE,GAAG,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC;AAE3D,gBAAA,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC;AACd,qBAAA,IAAI,CAAC,OAAO,EAAE,YAAY,CAAC;AAC3B,qBAAA,KAAK,CAAC,kBAAkB,EAAE,CAAC,CAAM,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;AAEnE,gBAAA,MAAM,WAAW,GAAG,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,oBAAoB,CAAC,CAAC;gBAE1E,WAAW;qBACR,MAAM,CAAC,MAAM,CAAC;AACd,qBAAA,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC;AAC7B,qBAAA,IAAI,CAAC,CAAC,CAAM,KAAI;oBACf,QAAQ,IAAI,CAAC,qBAAqB;AAChC,wBAAA,KAAK,MAAM;4BACT,MAAM,UAAU,GAAGG,QAAW,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AACxC,4BAAA,OAAO,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,CAAC;AAE5C,wBAAA;4BACE,OAAO,CAAC,CAAC,KAAK,CAAC;AAClB,qBAAA;AACH,iBAAC,CAAC,CAAC;gBAEL,WAAW;qBACR,MAAM,CAAC,MAAM,CAAC;AACd,qBAAA,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC;AAC7B,qBAAA,IAAI,CAAC,CAAC,CAAM,KAAK,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;AAErD,gBAAA,OAAO,EAAE,CAAC;AACZ,aAAC,EACD,CAAC,MAAM,KAAI;gBACT,MAAM,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,kBAAkB,EAAE,CAAC,CAAM,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;gBAEhG,MAAM,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,CAAC,CAAM,KAAI;oBAC7C,QAAQ,IAAI,CAAC,qBAAqB;AAChC,wBAAA,KAAK,MAAM;4BACT,MAAM,UAAU,GAAGA,QAAW,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AACxC,4BAAA,OAAO,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,CAAC;AAE5C,wBAAA;4BACE,OAAO,CAAC,CAAC,KAAK,CAAC;AAClB,qBAAA;AACH,iBAAC,CAAC,CAAC;gBAEH,MAAM,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,CAAC,CAAM,KAAK,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;AAEjF,gBAAA,OAAO,MAAM,CAAC;aACf,EACD,CAAC,IAAI,KAAK,IAAI,CAAC,MAAM,EAAE,CACxB;AACA,iBAAA,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,KAAI;gBACd,OAAO,EAAE,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC;AAC/B,aAAC,CAAC;iBACD,EAAE,CAAC,iBAAiB,EAAE,CAAC,KAAK,EAAE,IAAI,KAAI;AACrC,gBAAA,IAAI,CAAC,oBAAoB,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;AACvC,gBAAA,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;AAClC,aAAC,CAAC;iBACD,EAAE,CAAC,eAAe,EAAE,CAAC,KAAK,EAAE,IAAI,KAAI;AACnC,gBAAA,IAAI,CAAC,kBAAkB,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;AACrC,gBAAA,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;AACjC,aAAC,CAAC;iBACD,EAAE,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,IAAI,KAAI;AAC3B,gBAAA,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;AACvD,aAAC,CAAC,CAAC;AACP,SAAC,CAAC;AAEM,QAAA,IAAA,CAAA,aAAa,GAAG,CAAC,IAAI,KAAI;AAC/B,YAAA,MAAM,CAAC,GAAGC,WAAc,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;YACzD,OAAO,CAAC,CAAC,KAAI;AACX,gBAAA,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;AACrB,gBAAA,OAAO,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;AACxB,aAAC,CAAC;AACJ,SAAC,CAAC;;QAGM,IAAc,CAAA,cAAA,GAAG,CAAC,IAAI,EAAE,KAAK,EAAE,CAAC,KAAI;AAC1C,YAAA,MAAMC,aAAW,GAAGD,WAAc,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC,CAAC;;YAGlE,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,GAAGC,aAAW,CAAC,CAAC,CAAC,CAAC;YAEzC,OAAO,CAAC,CAAC,KAAI;gBACX,OAAO,IAAI,CAAC,GAAG,CAACA,aAAW,CAAC,CAAC,CAAC,CAAC,CAAC;AAClC,aAAC,CAAC;AACJ,SAAC,CAAC;AAEM,QAAA,IAAA,CAAA,iBAAiB,GAAG,CAAC,IAAI,KAAI;AACnC,YAAA,MAAM,CAAC,GAAGD,WAAc,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC;YAE5E,OAAO,CAAC,CAAC,KAAI;AACX,gBAAA,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;AACxB,gBAAA,OAAO,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;AACxB,aAAC,CAAC;AACJ,SAAC,CAAC;AAEM,QAAA,IAAA,CAAA,gBAAgB,GAAG,CAAC,IAAI,KAAI;;AAElC,YAAA,MAAM,CAAC,GAAGA,WAAc,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;YAC7D,OAAO,CAAC,CAAC,KAAI;AACX,gBAAA,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;AACxB,gBAAA,OAAO,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;AACxB,aAAC,CAAC;AACJ,SAAC,CAAC;AAEM,QAAA,IAAA,CAAA,oBAAoB,GAAG,CAAC,KAAK,EAAE,IAAI,KAAI;AAC7C,YAAA,IAAI,CAAC,KAAK;iBACP,SAAS,CAAC,cAAc,CAAC;AACzB,iBAAA,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAI;gBACf,OAAO,CAAA,EAAG,CAAC,CAAC,KAAK,CAAA,CAAE,KAAK,CAAA,EAAG,IAAI,CAAC,KAAK,CAAA,CAAE,CAAC;AAC1C,aAAC,CAAC;AACD,iBAAA,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;AAC/B,SAAC,CAAC;AAEM,QAAA,IAAA,CAAA,kBAAkB,GAAG,CAAC,KAAK,EAAE,IAAI,KAAI;AAC3C,YAAA,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;AAClE,SAAC,CAAC;AAEM,QAAA,IAAA,CAAA,aAAa,GAAG,CAAC,KAAK,EAAE,IAAI,KAAI;;YAGtC,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;AAC9C,YAAA,MAAM,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,KAAK,CAAC,CAAC;AAExD,YAAA,IAAI,CAAC,KAAK;iBACP,SAAS,CAAC,cAAc,CAAC;AACzB,iBAAA,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,KAAK,CAAC;AAClC,iBAAA,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;YAE7B,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;YAEpE,KAAK,CAAC,UAAU,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;AAEjF,YAAA,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;AAChB,gBAAA,KAAK,EAAE,KAAK;AACZ,gBAAA,IAAI,EAAE,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI;AACnC,aAAA,CAAC,CAAC;AACL,SAAC,CAAC;AAEM,QAAA,IAAA,CAAA,YAAY,GAAG,CAAC,KAAK,EAAE,IAAI,KAAI;YACrC,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;YAC9C,MAAM,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,CAAC,CAAC;AAE9D,YAAA,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;AAEhE,YAAA,MAAM,CAAC,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;YAElC,KAAK,CAAC,UAAU,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;AAClF,SAAC,CAAC;AAEM,QAAA,IAAA,CAAA,SAAS,GAAG,CAAC,KAAK,EAAE,IAAI,KAAI;AAClC,YAAA,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;AAChB,gBAAA,KAAK,EAAE,KAAK;gBACZ,IAAI,EAAE,IAAI,CAAC,IAAI;AAChB,aAAA,CAAC,CAAC;AACL,SAAC,CAAC;AAEM,QAAA,IAAA,CAAA,WAAW,GAAG,CAAC,KAAK,EAAE,IAAI,KAAI;;AAEpC,YAAA,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;AAE/B,YAAA,MAAM,UAAU,GAAG,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,UAAU,KAAK,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC;AACrE,YAAA,IAAI,KAAK,CAAC;YAEV,QAAQ,IAAI,CAAC,sBAAsB;AACjC,gBAAA,KAAK,MAAM;oBACT,MAAM,UAAU,GAAGD,QAAW,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AAChD,oBAAA,KAAK,GAAG,CAAA,EAAG,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC,CAAG,EAAA,IAAI,CAAC,kBAAkB,EAAE,CAAC;oBAC3E,MAAM;AAER,gBAAA;AACE,oBAAA,KAAK,GAAG,CAAA,EAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAA,EAAG,IAAI,CAAC,kBAAkB,CAAA,CAAE,CAAC;AAC1D,aAAA;AAED,YAAA,IAAI,CAAC,OAAO,CAAC,IAAI,CACf,CAAA;qCAC+B,KAAK,CAAA;AACL,mCAAA,EAAA,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC,CAAA;AACjE,MAAA,CAAA,CACF,CAAC;YAEF,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;AACnC,SAAC,CAAC;AAEM,QAAA,IAAA,CAAA,WAAW,GAAG,CAAC,KAAK,EAAE,IAAI,KAAI;AACpC,YAAA,IAAI,CAAC,kBAAkB,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;AACvC,SAAC,CAAC;QAEM,IAAW,CAAA,WAAA,GAAG,MAAK;YACzB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;AACnC,SAAC,CAAC;AAEM,QAAA,IAAA,CAAA,kBAAkB,GAAG,CAAC,KAAK,EAAE,IAAK,KAAI;;YAE5C,MAAM,WAAW,GAAGG,OAAU,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;AAE5C,YAAA,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,EAAE,CAAA,EAAG,WAAW,CAAC,CAAC,CAAC,GAAG,EAAE,CAAA,EAAA,CAAI,CAAC,CAAC;AACvD,YAAA,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,EAAE,CAAA,EAAG,WAAW,CAAC,CAAC,CAAC,GAAG,EAAE,CAAA,EAAA,CAAI,CAAC,CAAC;AACxD,SAAC,CAAC;KA/UgF;IAElF,QAAQ,GAAA;QACN,IAAI,CAAC,MAAM,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,MAAM,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,CAAC;AAC3D,QAAA,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC;AAC/D,QAAA,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;AAChE,QAAA,IAAI,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,WAAW,IAAI,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;AAC/H,QAAA,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC;AAC3D,QAAA,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;AACzD,QAAA,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;AAClB,QAAA,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,iBAAiB,GAAGL,QAAS,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC;QACjE,IAAI,CAAC,kBAAkB,GAAGA,QAAS,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC;;AAGnE,QAAA,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,uBAAuB,CAAC,CAAC;AAC1G,QAAA,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,sBAAsB,EAAE,IAAI,CAAC,wBAAwB,CAAC,CAAC;AAE7G,QAAA,IAAI,CAAC,UAAU,GAAGM,YAAe,EAAE;AAChC,aAAA,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC;AAClB,aAAA,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;AAEzC,QAAA,IAAI,IAAI,CAAC,IAAI,KAAK,KAAK,EAAE;AACvB,YAAA,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;AACrB,YAAA,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;AACnB,SAAA;AAED,QAAA,IAAI,CAAC,GAAG,GAAGC,GAAM,EAAE;AAChB,aAAA,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC;aACvB,KAAK,CAAC,CAAC,CAAM,KAAK,CAAC,CAAC,KAAK,CAAC;aAC1B,IAAI,CAAC,IAAI,CAAC,CAAC;AAEd,QAAA,IAAI,CAAC,GAAG,GAAGC,GAAM,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;AAE9E,QAAA,IAAI,CAAC,KAAK,GAAGC,MAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;AAEhF,QAAA,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,KAAK;aAClB,MAAM,CAAC,KAAK,CAAC;AACb,aAAA,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC;AACzB,aAAA,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC;AAC3B,aAAA,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;AAC1B,aAAA,IAAI,CAAC,qBAAqB,EAAE,eAAe,CAAC;AAC5C,aAAA,IAAI,CACH,SAAS,EACT,CAAA,CAAA,EAAI,IAAI,CAAC,KAAK,GAAG,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAA,EAAA,EAAK,IAAI,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAA,CAAA,EACzE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,KAC9C,CAAA,CAAA,EAAI,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAA,CAAE,CACzD,CAAC;AAEJ,QAAA,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,qBAAqB,CAAC,CAAC;AAE7D,QAAA,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK;aACtB,MAAM,CAAC,KAAK,CAAC;AACb,aAAA,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC;AACnB,aAAA,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC;AAC7B,aAAA,IAAI,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;QAE/B,IAAI,CAAC,WAAW,EAAE,CAAC;KACpB;AAED,IAAA,WAAW,CAAC,OAAsB,EAAA;QAChC,IAAI,OAAO,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE;AAC7C,YAAA,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;AACzB,SAAA;KACF;IAED,WAAW,GAAA;QACT,IAAI,IAAI,CAAC,OAAO;AAAE,YAAA,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;KACzC;;oHA9IU,uBAAuB,EAAA,IAAA,EAAA,CAAA,EAAA,KAAA,EAAAC,kBAAA,EAAA,EAAA,EAAA,KAAA,EAAA,EAAA,CAAA,UAAA,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;AAAvB,uBAAA,CAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,uBAAuB,suBAJxB,CAAE,CAAA,EAAA,QAAA,EAAA,IAAA,EAAA,eAAA,EAAA,EAAA,CAAA,uBAAA,CAAA,MAAA,EAAA,CAAA,CAAA;2FAID,uBAAuB,EAAA,UAAA,EAAA,CAAA;kBANnC,SAAS;AACE,YAAA,IAAA,EAAA,CAAA,EAAA,QAAA,EAAA,kBAAkB,EAClB,QAAA,EAAA,CAAA,CAAE,EAEK,eAAA,EAAA,uBAAuB,CAAC,MAAM,EAAA,CAAA;+HAI/C,UAAU,EAAA,CAAA;sBADT,WAAW;uBAAC,kBAAkB,CAAA;gBAI/B,QAAQ,EAAA,CAAA;sBADP,WAAW;uBAAC,sBAAsB,CAAA;gBAInC,IAAI,EAAA,CAAA;sBADH,KAAK;gBAIN,KAAK,EAAA,CAAA;sBADJ,KAAK;gBAIN,IAAI,EAAA,CAAA;sBADH,KAAK;gBAIN,UAAU,EAAA,CAAA;sBADT,KAAK;gBAIN,qBAAqB,EAAA,CAAA;sBADpB,KAAK;gBAIN,uBAAuB,EAAA,CAAA;sBADtB,KAAK;gBAIN,uBAAuB,EAAA,CAAA;sBADtB,KAAK;gBAIN,sBAAsB,EAAA,CAAA;sBADrB,KAAK;gBAIN,wBAAwB,EAAA,CAAA;sBADvB,KAAK;gBAIN,kBAAkB,EAAA,CAAA;sBADjB,KAAK;gBAIN,wBAAwB,EAAA,CAAA;sBADvB,KAAK;gBAIN,KAAK,EAAA,CAAA;sBADJ,KAAK;gBAIN,WAAW,EAAA,CAAA;sBADV,KAAK;gBAIN,WAAW,EAAA,CAAA;sBADV,KAAK;gBAIN,OAAO,EAAA,CAAA;sBADN,MAAM;gBAIP,OAAO,EAAA,CAAA;sBADN,MAAM;;;MCnDI,uBAAuB,CAAA;AA0JlC,IAAA,WAAA,CACU,QAA4B,EAC5B,QAAoB,EACpB,OAAyB,EACzB,SAAmB,EAAA;QAHnB,IAAQ,CAAA,QAAA,GAAR,QAAQ,CAAoB;QAC5B,IAAQ,CAAA,QAAA,GAAR,QAAQ,CAAY;QACpB,IAAO,CAAA,OAAA,GAAP,OAAO,CAAkB;QACzB,IAAS,CAAA,SAAA,GAAT,SAAS,CAAU;QA5J7B,IAAU,CAAA,UAAA,GAAG,IAAI,CAAC;QAGlB,IAAQ,CAAA,QAAA,GAAG,IAAI,CAAC;QAMhB,IAAK,CAAA,KAAA,GAAG,GAAG,CAAC;QAGZ,IAAM,CAAA,MAAA,GAAG,GAAG,CAAC;AAGb,QAAA,IAAA,CAAA,IAAI,GAAwC,QAAQ,CAAC;QAGrD,IAAY,CAAA,YAAA,GAAG,KAAK,CAAC;QAGrB,IAAe,CAAA,eAAA,GAAsB,IAAI,CAAC;QAG1C,IAAiB,CAAA,iBAAA,GAAG,EAAE,CAAC;QAGvB,IAAU,CAAA,UAAA,GAAkB,IAAI,CAAC;QAGjC,IAAe,CAAA,eAAA,GAAsB,IAAI,CAAC;QAG1C,IAAiB,CAAA,iBAAA,GAAG,EAAE,CAAC;QAGvB,IAAU,CAAA,UAAA,GAAG,CAAC,CAAC;QAGf,IAAc,CAAA,cAAA,GAAG,IAAI,CAAC;QAGtB,IAAc,CAAA,cAAA,GAAG,IAAI,CAAC;QAGtB,IAAU,CAAA,UAAA,GAAG,KAAK,CAAC;AAGnB,QAAA,IAAA,CAAA,WAAW,GAAG,GAAG,GAAG,EAAE,CAAC;QAGvB,IAAc,CAAA,cAAA,GAAuB,OAAO,CAAC;QAG7C,IAAqB,CAAA,qBAAA,GAAsB,IAAI,CAAC;QAGhD,IAAuB,CAAA,uBAAA,GAAG,EAAE,CAAC;QAG7B,IAAsB,CAAA,sBAAA,GAAsB,IAAI,CAAC;QAGjD,IAAwB,CAAA,wBAAA,GAAG,EAAE,CAAC;QAG9B,IAAkB,CAAA,kBAAA,GAAG,EAAE,CAAC;QAGxB,IAAgB,CAAA,gBAAA,GAAY,IAAI,CAAC;QAGjC,IAAsB,CAAA,sBAAA,GAAsB,IAAI,CAAC;QAGjD,IAAwB,CAAA,wBAAA,GAAG,EAAE,CAAC;AAG9B,QAAA,IAAA,CAAA,SAAS,GAAG,EAAE,CAAC;AAGf,QAAA,IAAA,CAAA,WAAW,GAAG,CAAC,CAAC;AAGhB,QAAA,IAAA,CAAA,YAAY,GAAG,EAAE,CAAC;AAGlB,QAAA,IAAA,CAAA,UAAU,GAAG,EAAE,CAAC;QAGhB,IAAS,CAAA,SAAA,GAAG,IAAI,CAAC;QAGjB,IAAc,CAAA,cAAA,GAAG,WAAW,CAAC;QAG7B,IAAO,CAAA,OAAA,GAAG,IAAI,CAAC;QAGf,IAAY,CAAA,YAAA,GAAG,SAAS,CAAC;QAKhB,IAAQ,CAAA,QAAA,GAAG,IAAI,CAAC;AAGzB,QAAA,IAAA,CAAA,OAAO,GAAyB,IAAI,YAAY,EAAU,CAAC;AAG3D,QAAA,IAAA,CAAA,OAAO,GAAyB,IAAI,YAAY,EAAU,CAAC;QAkU3D,IAAW,CAAA,WAAA,GAAG,MAAK;;YAEjB,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;;AAGtD,YAAA,IAAI,CAAC,UAAU;AACZ,iBAAA,MAAM,CAAC;gBACNC,GAAM,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC;gBAClEC,GAAM,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC;aACnE,CAAC;iBACD,UAAU,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;AAC5B,iBAAA,IAAI,EAAE,CAAC;AAEV,YAAA,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AAE5D,YAAA,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;;AAG5D,YAAA,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;AACnB,gBAAA,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AAC7D,aAAA;AAED,YAAA,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;AACnB,gBAAA,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AAC7D,aAAA;AAED,YAAA,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;;AAEtB,gBAAA,IAAI,CAAC,GAAG;qBACL,SAAS,CAAC,WAAW,CAAC;AACtB,qBAAA,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;AACf,qBAAA,IAAI,CACH,CAAC,KAAK,KACJ,KAAK;qBACF,MAAM,CAAC,MAAM,CAAC;AACd,qBAAA,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC;AACzB,qBAAA,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;AACjB,qBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;qBAC1C,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;AAC1C,qBAAA,IAAI,CAAC,CAAC,KAAK,KAAK,KAAK,CAAC,UAAU,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,EAClF,CAAC,MAAM,KACL,MAAM;AACH,qBAAA,UAAU,EAAE;qBACZ,QAAQ,CAAC,IAAI,CAAC;AACd,qBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;qBAC1C,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;qBAC1C,SAAS,EAAE,EAChB,CAAC,IAAI,KAAK,IAAI,CAAC,UAAU,EAAE,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC,gBAAgB,EAAE,MAAM,CAAC,CAAC,MAAM,EAAE,CAChF,CAAC;;AAGJ,gBAAA,IAAI,CAAC,GAAG;qBACL,SAAS,CAAC,MAAM,CAAC;AACjB,qBAAA,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;AACf,qBAAA,IAAI,CACH,CAAC,KAAK,KACJ,KAAK;qBACF,MAAM,CAAC,MAAM,CAAC;AACd,qBAAA,IAAI,CAAC,OAAO,EAAE,KAAK,CAAC;AACpB,qBAAA,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;qBACpC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC;qBAC5E,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC;AAC9C,qBAAA,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,MAAM,CAAC;AACtB,qBAAA,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;AACjB,qBAAA,IAAI,CAAC,gBAAgB,EAAE,MAAM,CAAC;AAC9B,qBAAA,IAAI,CAAC,CAAC,KAAK,KACV,KAAK;AACF,qBAAA,UAAU,EAAE;qBACZ,QAAQ,CAAC,IAAI,CAAC;AACd,qBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;qBAC1C,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AAC7D,qBAAA,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AACnD,qBAAA,UAAU,EAAE;AACZ,qBAAA,IAAI,CAAC,gBAAgB,EAAE,MAAM,CAAC,CAClC,EACL,CAAC,MAAM,KACL,MAAM;AACH,qBAAA,IAAI,CAAC,gBAAgB,EAAE,MAAM,CAAC;AAC9B,qBAAA,UAAU,EAAE;qBACZ,QAAQ,CAAC,IAAI,CAAC;qBACd,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC;qBAC5E,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC;qBAC9C,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AAC7D,qBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AAC1C,qBAAA,UAAU,EAAE;AACZ,qBAAA,SAAS,EAAE;AACX,qBAAA,IAAI,CAAC,gBAAgB,EAAE,MAAM,CAAC,EACnC,CAAC,IAAI,KAAK,IAAI,CAAC,UAAU,EAAE,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC,gBAAgB,EAAE,MAAM,CAAC,CAAC,MAAM,EAAE,CAChF;AACA,qBAAA,EAAE,CAAC,WAAW,EAAE,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;AAChE,qBAAA,EAAE,CAAC,UAAU,EAAE,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,WAAW,EAAE,CAAC;AACnD,qBAAA,EAAE,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC;AAClE,aAAA;AAAM,iBAAA;;AAEL,gBAAA,IAAI,CAAC,GAAG;qBACL,SAAS,CAAC,MAAM,CAAC;AACjB,qBAAA,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;AACf,qBAAA,IAAI,CACH,CAAC,KAAK,KACJ,KAAK;qBACF,MAAM,CAAC,MAAM,CAAC;AACd,qBAAA,IAAI,CAAC,OAAO,EAAE,KAAK,CAAC;AACpB,qBAAA,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;qBACpC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,GAAG,GAAG,CAAC;qBAC9E,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,GAAG,GAAG,CAAC;AAChD,qBAAA,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,MAAM,CAAC;AACtB,qBAAA,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;AACjB,qBAAA,IAAI,CAAC,gBAAgB,EAAE,MAAM,CAAC;AAC9B,qBAAA,IAAI,CAAC,CAAC,KAAK,KACV,KAAK;AACF,qBAAA,UAAU,EAAE;qBACZ,QAAQ,CAAC,IAAI,CAAC;AACd,qBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;qBAC1C,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AAC7D,qBAAA,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AACnD,qBAAA,UAAU,EAAE;AACZ,qBAAA,IAAI,CAAC,gBAAgB,EAAE,MAAM,CAAC,CAClC,EACL,CAAC,MAAM,KACL,MAAM;AACH,qBAAA,IAAI,CAAC,gBAAgB,EAAE,MAAM,CAAC;AAC9B,qBAAA,UAAU,EAAE;qBACZ,QAAQ,CAAC,IAAI,CAAC;qBACd,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,GAAG,GAAG,CAAC;qBAC9E,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,GAAG,GAAG,CAAC;qBAChD,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AAC7D,qBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AAC1C,qBAAA,UAAU,EAAE;AACZ,qBAAA,SAAS,EAAE;qBACX,IAAI,CAAC,gBAAgB,EAAE,MAAM,CAAC,EACnC,CAAC,IAAI,KAAK,IAAI,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC,gBAAgB,EAAE,MAAM,CAAC,CAAC,MAAM,EAAE,CACpE;AACA,qBAAA,EAAE,CAAC,WAAW,EAAE,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;AAChE,qBAAA,EAAE,CAAC,UAAU,EAAE,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,WAAW,EAAE,CAAC;AACnD,qBAAA,EAAE,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC;AAClE,aAAA;AAED,YAAA,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;AACpB,gBAAA,IAAI,CAAC,KAAK;qBACP,MAAM,CAAC,SAAS,CAAC;qBACjB,SAAS,CAAC,cAAc,CAAC;AACzB,qBAAA,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;AACf,qBAAA,IAAI,CACH,CAAC,KAAK,KAAI;AACR,oBAAA,MAAM,EAAE,GAAG,KAAK,CAAC,MAAM,CAAC,IAAI,EAAE,kBAAkB,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC;AAE/E,oBAAA,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC;AACd,yBAAA,IAAI,CAAC,OAAO,EAAE,YAAY,CAAC;AAC3B,yBAAA,KAAK,CAAC,kBAAkB,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;AAE9D,oBAAA,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC;AACd,yBAAA,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC;AAC7B,yBAAA,IAAI,CAAC,CAAC,CAAC,KAAI;wBACV,QAAQ,IAAI,CAAC,qBAAqB;AAChC,4BAAA,KAAK,QAAQ;gCACX,OAAO,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AAEzC,4BAAA,KAAK,MAAM;gCACT,MAAM,UAAU,GAAGV,QAAW,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AACxC,gCAAA,OAAO,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,CAAC;AAE5C,4BAAA;gCACE,OAAO,CAAC,CAAC,KAAK,CAAC;AAClB,yBAAA;AACH,qBAAC,CAAC,CAAC;AAEL,oBAAA,OAAO,EAAE,CAAC;AACZ,iBAAC,EACD,CAAC,MAAM,KACL,MAAM,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAI;oBACxC,QAAQ,IAAI,CAAC,qBAAqB;AAChC,wBAAA,KAAK,QAAQ;4BACX,OAAO,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AAEzC,wBAAA,KAAK,MAAM;4BACT,MAAM,UAAU,GAAGA,QAAW,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AACxC,4BAAA,OAAO,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,CAAC;AAE5C,wBAAA;4BACE,OAAO,CAAC,CAAC,KAAK,CAAC;AAClB,qBAAA;iBACF,CAAC,EACJ,CAAC,IAAI,KAAK,IAAI,CAAC,MAAM,EAAE,CACxB;AACA,qBAAA,EAAE,CAAC,WAAW,EAAE,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;qBACnE,EAAE,CAAC,UAAU,EAAE,MAAM,IAAI,CAAC,cAAc,EAAE,CAAC;AAC3C,qBAAA,EAAE,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC;AACrE,aAAA;YAED,IAAI,IAAI,CAAC,SAAS,EAAE;AAClB,gBAAA,IAAI,CAAC,UAAU;AACZ,qBAAA,KAAK,EAAE;AACP,qBAAA,UAAU,EAAE;qBACZ,QAAQ,CAAC,IAAI,CAAC;AACd,qBAAA,IAAI,CAAC,WAAW,EAAE,CAAA,cAAA,EAAiB,IAAI,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAA,CAAA,CAAG,CAAC,CAAC;AAC5E,aAAA;YAED,IAAI,IAAI,CAAC,OAAO,EAAE;AAChB,gBAAA,IAAI,CAAC,QAAQ;AACV,qBAAA,KAAK,EAAE;AACP,qBAAA,UAAU,EAAE;qBACZ,QAAQ,CAAC,IAAI,CAAC;AACd,qBAAA,IAAI,CAAC,WAAW,EAAE,CAAA,cAAA,EAAiB,IAAI,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA,CAAA,CAAG,CAAC,CAAC;AAC1E,aAAA;AACH,SAAC,CAAC;AAEF,QAAA,IAAA,CAAA,YAAY,GAAG,CAAC,KAAK,EAAE,IAAI,KAAI;AAC7B,YAAA,IAAI,CAAC,KAAK;iBACP,SAAS,CAAC,MAAM,CAAC;AACjB,iBAAA,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,CAAC;AACxC,iBAAA,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;AAE7B,YAAA,MAAM,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,CAAC,CAAC;YAElF,MAAM,QAAQ,GAAG,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;AAExC,YAAA,GAAG,CAAC,KAAK,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;AAE5B,YAAA,IAAI,CAAC,KAAK;iBACP,SAAS,CAAC,cAAc,CAAC;AACzB,iBAAA,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,CAAC;AACxC,iBAAA,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;AAE7B,YAAA,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;YAE9B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AACrC,SAAC,CAAC;QAEF,IAAW,CAAA,WAAA,GAAG,MAAK;YACjB,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC,KAAK,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;AAE5E,YAAA,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;YAEhE,IAAI,CAAC,WAAW,EAAE,CAAC;AACrB,SAAC,CAAC;AAEF,QAAA,IAAA,CAAA,aAAa,GAAG,CAAC,KAAK,EAAE,IAAI,KAAI;YAC9B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AACrC,SAAC,CAAC;AAEF,QAAA,IAAA,CAAA,eAAe,GAAG,CAAC,KAAK,EAAE,IAAI,KAAI;AAChC,YAAA,IAAI,CAAC,KAAK;iBACP,SAAS,CAAC,cAAc,CAAC;AACzB,iBAAA,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,CAAC;AACxC,iBAAA,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;AAE7B,YAAA,IAAI,CAAC,KAAK;iBACP,SAAS,CAAC,MAAM,CAAC;AACjB,iBAAA,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,CAAC;AACxC,iBAAA,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;AAE7B,YAAA,MAAM,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,CAAC,CAAC;YAElF,MAAM,QAAQ,GAAG,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;AAExC,YAAA,GAAG,CAAC,KAAK,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;YAE5B,IAAI,CAAC,WAAW,CACd,KAAK,EACL,IAAI,EACJ,IAAI,CAAC,KAAK;iBACP,SAAS,CAAC,MAAM,CAAC;AACjB,iBAAA,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,CAAC;iBACxC,IAAI,EAAE,CACV,CAAC;YAEF,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AACrC,SAAC,CAAC;QAEF,IAAc,CAAA,cAAA,GAAG,MAAK;AACpB,YAAA,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;YAEhE,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC,KAAK,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;YAE5E,IAAI,CAAC,WAAW,EAAE,CAAC;AACrB,SAAC,CAAC;AAEF,QAAA,IAAA,CAAA,gBAAgB,GAAG,CAAC,KAAK,EAAE,IAAI,KAAI;YACjC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AACrC,SAAC,CAAC;QAEM,IAAW,CAAA,WAAA,GAAG,CAAC,KAAK,EAAE,IAAI,EAAE,IAAK,KAAI;YAC3C,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,iBAAiB,EAAE,CAAC;YAChD,IAAI,UAAU,GAAG,KAAK,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC;AAC7D,YAAA,IAAI,KAAK,CAAC;AAEV,YAAA,IAAI,IAAI,EAAE;AACR,gBAAA,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK;qBACtB,SAAS,CAAC,MAAM,CAAC;AACjB,qBAAA,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,CAAC;AACxC,qBAAA,IAAI,EAAE,CAAC;AAEV,gBAAA,UAAU,GAAG,MAAM,CAAC,qBAAqB,EAAE,CAAC;AAC7C,aAAA;YAED,QAAQ,IAAI,CAAC,sBAAsB;AACjC,gBAAA,KAAK,QAAQ;AACX,oBAAA,KAAK,GAAG,CAAA,EAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAG,EAAA,IAAI,CAAC,kBAAkB,EAAE,CAAC;oBAC3E,MAAM;AAER,gBAAA,KAAK,MAAM;oBACT,MAAM,UAAU,GAAGA,QAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AAC3C,oBAAA,KAAK,GAAG,CAAA,EAAG,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC,CAAG,EAAA,IAAI,CAAC,kBAAkB,EAAE,CAAC;oBAC3E,MAAM;AAER,gBAAA;oBACE,KAAK,GAAG,CAAG,EAAA,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,kBAAkB,CAAA,CAAE,CAAC;AACrD,aAAA;AACD,YAAA,MAAM,KAAK,GACT,IAAI,CAAC,kBAAkB,KAAK,IAAI;AAC9B,kBAAE,CAAA,2BAAA,EAA8B,IAAI,CAAC,KAAK,CAAQ,MAAA,CAAA;kBAChD,CAA8B,2BAAA,EAAA,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA,MAAA,CAAQ,CAAC;AAEhF,YAAA,IAAI,CAAC,OAAO,CAAC,IAAI,CACf,CAAA;UACI,IAAI,CAAC,gBAAgB,GAAG,EAAE,GAAG,CAAG,EAAA,KAAK,CAAE,CAAA,CAAA;UACvC,KAAK,CAAA;AACR,MAAA,CAAA,CACF,CAAC;AAEF,YAAA,MAAM,kBAAkB,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,WAAW,GAAG,CAAC,CAAC;AAChE,YAAA,MAAM,mBAAmB,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,YAAY,GAAG,CAAC,CAAC;YAElE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,EAAE,CAAA,EAAG,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,UAAU,CAAC,GAAG,GAAG,mBAAmB,CAAI,EAAA,CAAA,CAAC,CAAC;AACrF,YAAA,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,EAAE,CAAA,EAAG,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,GAAG,kBAAkB,GAAG,CAAC,UAAU,CAAC,KAAK,GAAG,CAAC,CAAA,EAAA,CAAI,CAAC,CAAC;YAC9G,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;AACnC,SAAC,CAAC;QAEM,IAAW,CAAA,WAAA,GAAG,MAAK;YACzB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;AACnC,SAAC,CAAC;AAEM,QAAA,IAAA,CAAA,cAAc,GAAG,CAAC,IAAI,KAAI;YAChC,QAAQ,IAAI,CAAC,eAAe;AAC1B,gBAAA,KAAK,QAAQ;AACX,oBAAA,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;AAEhC,gBAAA,KAAK,MAAM;AACT,oBAAA,MAAM,SAAS,GAAGA,QAAW,CAAC,IAAI,CAAC,CAAC;AACpC,oBAAA,OAAO,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;AAErC,gBAAA;AACE,oBAAA,OAAO,IAAI,CAAC;AACf,aAAA;AACH,SAAC,CAAC;AAEM,QAAA,IAAA,CAAA,cAAc,GAAG,CAAC,IAAI,KAAI;YAChC,QAAQ,IAAI,CAAC,eAAe;AAC1B,gBAAA,KAAK,QAAQ;AACX,oBAAA,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;AAEhC,gBAAA,KAAK,MAAM;AACT,oBAAA,MAAM,SAAS,GAAGA,QAAW,CAAC,IAAI,CAAC,CAAC;AACpC,oBAAA,OAAO,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;AAErC,gBAAA;AACE,oBAAA,OAAO,IAAI,CAAC;AACf,aAAA;AACH,SAAC,CAAC;KAznBE;IAEJ,QAAQ,GAAA;QACN,IAAI,CAAC,MAAM,GAAG;AACZ,YAAA,GAAG,EAAE,CAAC,IAAI,CAAC,SAAS;AACpB,YAAA,KAAK,EAAE,CAAC,IAAI,CAAC,WAAW;AACxB,YAAA,MAAM,EAAE,CAAC,IAAI,CAAC,YAAY;AAC1B,YAAA,IAAI,EAAE,CAAC,IAAI,CAAC,UAAU;SACvB,CAAC;;AAGF,QAAA,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;AACxF,QAAA,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;AACxF,QAAA,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,uBAAuB,CAAC,CAAC;AAC1G,QAAA,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,sBAAsB,EAAE,IAAI,CAAC,wBAAwB,CAAC,CAAC;AAC7G,QAAA,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,sBAAsB,EAAE,IAAI,CAAC,wBAAwB,CAAC,CAAC;;AAG7G,QAAA,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;AAC1B,QAAA,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;AACvB,QAAA,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;AACvB,QAAA,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;AAC3B,QAAA,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;AAC3B,QAAA,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;AACvB,QAAA,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;AACvB,QAAA,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;AAC7B,QAAA,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;AAC7B,QAAA,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;AACzB,QAAA,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;AAC5B,QAAA,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;AAC5B,QAAA,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;AACvB,QAAA,IAAI,CAAC,kBAAkB,GAAG,CAAC,CAAC;AAC5B,QAAA,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;AACvB,QAAA,IAAI,CAAC,kBAAkB,GAAG,CAAC,CAAC;AAE5B,QAAA,IAAI,IAAI,CAAC,IAAI,KAAK,OAAO,EAAE;;YAEzB,QAAQ,IAAI,CAAC,IAAI;AACf,gBAAA,KAAK,KAAK;AACR,oBAAA,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;AACzB,oBAAA,IAAI,CAAC,SAAS,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC;AAClC,oBAAA,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;AAC3B,oBAAA,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;AACtB,oBAAA,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;AAC7B,oBAAA,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;AAC3B,oBAAA,IAAI,CAAC,cAAc,GAAG,QAAQ,CAAC;oBAC/B,MAAM;AAER,gBAAA,KAAK,QAAQ;AACX,oBAAA,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;AAC5B,oBAAA,IAAI,CAAC,SAAS,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC;AAClC,oBAAA,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;AACtB,oBAAA,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;AAC3B,oBAAA,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;AAC5B,oBAAA,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;AAC3B,oBAAA,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;oBACtB,MAAM;AAER,gBAAA,KAAK,MAAM;AACT,oBAAA,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;AACtB,oBAAA,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;AAC5B,oBAAA,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;AACtB,oBAAA,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;AAC5B,oBAAA,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;AAC3B,oBAAA,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;AACtB,oBAAA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;AACvB,oBAAA,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;oBAC9B,MAAM;AACT,aAAA;;YAGD,IAAI,IAAI,CAAC,YAAY,EAAE;AACrB,gBAAA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;AACvB,gBAAA,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;AACtB,gBAAA,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;AACtB,gBAAA,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;AAC/B,aAAA;AAED,YAAA,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,UAAU,GAAG,EAAE,GAAG,CAAC,CAAC;AAClD,SAAA;;QAGD,IAAI,IAAI,CAAC,SAAS;YAAE,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,EAAE,CAAC;QAE5C,IAAI,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,cAAc,KAAK,OAAO,EAAE;AACvD,YAAA,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC;AAC9C,SAAA;;AAGD,QAAA,IAAI,CAAC,KAAK,GAAGO,MAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;;AAGhF,QAAA,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,KAAK;aAClB,MAAM,CAAC,KAAK,CAAC;AACb,aAAA,IAAI,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC;aAC1B,IAAI,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,gBAAgB,CAAC;AAC3F,aAAA,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;AAC1B,aAAA,IAAI,CAAC,qBAAqB,EAAE,eAAe,CAAC;AAC5C,aAAA,IAAI,CACH,SAAS,EACT,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAA,CAAA,EACrD,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,gBAC7D,CAAA,CAAE,CACH,CAAC;;QAGJ,IAAI,CAAC,UAAU,GAAGH,YAAe,EAAE,CAAC,KAAK,CACvC,IAAI,CAAC,QAAQ,CAAC,kBAAkB,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,KAAK,CAAC,CAC1E,CAAC;;AAGF,QAAA,IAAI,CAAC,UAAU,GAAGO,SAAY,EAAE;AAC7B,aAAA,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC;AACrC,aAAA,UAAU,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;aAC9C,KAAK,CAAC,CAAC,CAAC,CAAC;;QAGZ,CAAC,IAAI,CAAC,YAAY;AAChB,cAAE,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;AACnD,cAAE,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;QAEpD,IAAI,CAAC,SAAS,GAAGC,UAAa,CAAC,IAAI,CAAC,UAAU,CAAC;AAC5C,aAAA,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC;AAC5B,aAAA,aAAa,CAAC,IAAI,CAAC,kBAAkB,CAAC;AACtC,aAAA,UAAU,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;AAEnC,QAAA,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG;aAClB,MAAM,CAAC,GAAG,CAAC;AACX,aAAA,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC;aAC5B,IAAI,CAAC,WAAW,EAAE,CAAA,aAAA,EAAgB,IAAI,CAAC,MAAM,GAAG,CAAC;AACjD,aAAA,OAAO,CAAC,aAAa,EAAE,IAAI,CAAC,SAAS,CAAC;AACtC,aAAA,OAAO,CAAC,kBAAkB,EAAE,IAAI,CAAC,aAAa,CAAC;AAC/C,aAAA,OAAO,CAAC,oBAAoB,EAAE,IAAI,CAAC,eAAe,CAAC;AACnD,aAAA,OAAO,CAAC,mBAAmB,EAAE,IAAI,CAAC,cAAc,CAAC;AACjD,aAAA,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;;AAGxB,QAAA,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;AACnB,YAAA,IAAI,CAAC,SAAS,GAAGA,UAAa,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AAEvE,YAAA,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG;iBAClB,MAAM,CAAC,GAAG,CAAC;AACX,iBAAA,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC;AAC5B,iBAAA,OAAO,CAAC,kBAAkB,EAAE,IAAI,CAAC,aAAa,CAAC;iBAC/C,IAAI,CAAC,WAAW,EAAE,CAAA,aAAA,EAAgB,IAAI,CAAC,MAAM,GAAG,CAAC;AACjD,iBAAA,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AACzB,SAAA;;QAGD,IAAI,IAAI,CAAC,UAAU,EAAE;AACnB,YAAA,IAAI,CAAC,GAAG;iBACL,MAAM,CAAC,MAAM,CAAC;AACd,iBAAA,IAAI,CAAC,OAAO,EAAE,YAAY,CAAC;AAC3B,iBAAA,IAAI,CAAC,aAAa,EAAE,QAAQ,CAAC;iBAC7B,IAAI,CACH,WAAW,EACX,CAAa,UAAA,EAAA,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,CACpF,EAAA,EAAA,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,IAAI,IAAI,CAAC,SAAS,GAAG,EAAE,GAAG,EAAE,CAC3D,CAAA,CAAA,CAAG,CACJ;AACA,iBAAA,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;AAC1B,SAAA;;AAGD,QAAA,IAAI,CAAC,UAAU,GAAGC,WAAc,EAAE;AAC/B,aAAA,MAAM,CAAC;YACNJ,GAAM,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC;YAClEC,GAAM,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC;SACnE,CAAC;AACD,aAAA,IAAI,EAAE;aACN,UAAU,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC;QAEhC,IAAI,CAAC,SAAS,GAAGI,QAAW,CAAC,IAAI,CAAC,UAAU,CAAC;AAC1C,aAAA,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC;AACtB,aAAA,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC;AAC5B,aAAA,aAAa,CAAC,IAAI,CAAC,kBAAkB,CAAC;AACtC,aAAA,UAAU,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;AAEnC,QAAA,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG;aAClB,MAAM,CAAC,GAAG,CAAC;AACX,aAAA,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC;AAC5B,aAAA,OAAO,CAAC,aAAa,EAAE,IAAI,CAAC,SAAS,CAAC;AACtC,aAAA,OAAO,CAAC,kBAAkB,EAAE,IAAI,CAAC,aAAa,CAAC;AAC/C,aAAA,OAAO,CAAC,oBAAoB,EAAE,IAAI,CAAC,eAAe,CAAC;AACnD,aAAA,OAAO,CAAC,mBAAmB,EAAE,IAAI,CAAC,cAAc,CAAC;AACjD,aAAA,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;;AAGxB,QAAA,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;YACnB,IAAI,CAAC,SAAS,GAAGA,QAAW,CAAC,IAAI,CAAC,UAAU,CAAC;AAC1C,iBAAA,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC;AACtB,iBAAA,QAAQ,CAAC,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AAEhE,YAAA,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG;iBAClB,MAAM,CAAC,GAAG,CAAC;AACX,iBAAA,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC;AAC5B,iBAAA,OAAO,CAAC,kBAAkB,EAAE,IAAI,CAAC,aAAa,CAAC;AAC/C,iBAAA,IAAI,CAAC,WAAW,EAAE,CAAA,eAAA,CAAiB,CAAC;AACpC,iBAAA,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AACzB,SAAA;;QAGD,IAAI,IAAI,CAAC,SAAS,EAAE;AAClB,YAAA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,GAAG;iBACvB,MAAM,CAAC,MAAM,CAAC;AACd,iBAAA,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;AAC1B,iBAAA,IAAI,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;AAC9D,iBAAA,IAAI,CAAC,WAAW,EAAE,CAAA,cAAA,EAAiB,IAAI,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAA,CAAA,CAAG,CAAC,CAAC;AAC5E,SAAA;;QAGD,IAAI,IAAI,CAAC,OAAO,EAAE;AAChB,YAAA,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,GAAG;iBACrB,MAAM,CAAC,MAAM,CAAC;AACd,iBAAA,IAAI,CAAC,OAAO,EAAE,SAAS,CAAC;AACxB,iBAAA,IAAI,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;AAC9D,iBAAA,IAAI,CAAC,WAAW,EAAE,CAAA,cAAA,EAAiB,IAAI,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA,CAAA,CAAG,CAAC,CAAC;AAC1E,SAAA;;AAGD,QAAA,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;AACrB,YAAA,IAAI,CAAC,OAAO,GAAGP,MAAS,CAAC,MAAM,CAAC;iBAC7B,MAAM,CAAC,KAAK,CAAC;AACb,iBAAA,IAAI,CAAC,OAAO,EAAE,oBAAoB,CAAC;AACnC,iBAAA,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC;AACnB,iBAAA,IAAI,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;AAChC,SAAA;;AAGD,QAAA,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;YACpB,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,0BAA0B,EAAE,IAAI,CAAC,cAAc,KAAK,QAAQ,GAAG,IAAI,GAAG,KAAK,CAAC,CAAC;AAChG,YAAA,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,CAAiB,cAAA,EAAA,IAAI,CAAC,cAAc,CAAA,CAAE,CAAC,CAAC;AAC/E,SAAA;;QAGD,IAAI,IAAI,CAAC,OAAO,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;AACpC,YAAA,IAAI,CAAC,KAAK;iBACP,MAAM,CAAC,SAAS,CAAC;iBACjB,MAAM,CAAC,IAAI,CAAC;AACZ,iBAAA,IAAI,CAAC,OAAO,EAAE,8BAA8B,CAAC;iBAC7C,IAAI,CAAC,MAAK;gBACT,OAAO,CAAA;;AAEsB,qCAAA,EAAA,IAAI,CAAC,YAAY,CAAA;SAC/C,CAAC;AACF,aAAC,CAAC,CAAC;AACN,SAAA;;QAGD,IAAI,IAAI,CAAC,SAAS,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;AACtC,YAAA,IAAI,CAAC,KAAK;iBACP,MAAM,CAAC,SAAS,CAAC;iBACjB,MAAM,CAAC,IAAI,CAAC;AACZ,iBAAA,IAAI,CAAC,OAAO,EAAE,gCAAgC,CAAC;iBAC/C,IAAI,CAAC,MAAK;gBACT,OAAO,CAAA;;AAEsB,qCAAA,EAAA,IAAI,CAAC,cAAc,CAAA;SACjD,CAAC;AACF,aAAC,CAAC,CAAC;AACN,SAAA;QAED,IAAI,CAAC,WAAW,EAAE,CAAC;KACpB;AAED,IAAA,WAAW,CAAC,OAAsB,EAAA;QAChC,IAAI,OAAO,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE;YAC7C,IAAI,CAAC,WAAW,EAAE,CAAC;AACpB,SAAA;KACF;IAED,WAAW,GAAA;QACT,IAAI,IAAI,CAAC,OAAO;AAAE,YAAA,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;KACzC;AA0WO,IAAA,OAAO,CAAC,CAAC,EAAA;QACf,MAAM,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;QACnC,MAAM,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;QACpD,MAAM,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;QAE5C,IAAI,IAAI,CAAC,QAAQ,EAAE;YACjB,OAAO,CAAA,IAAA,EAAO,GAAG,CAAA,UAAA,EAAa,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,CAAA,CAAA,CAAG,CAAC;AACvD,SAAA;AAAM,aAAA;AACL,YAAA,OAAO,UAAU,CAAC;AACnB,SAAA;KACF;;oHApyBU,uBAAuB,EAAA,IAAA,EAAA,CAAA,EAAA,KAAA,EAAAC,kBAAA,EAAA,EAAA,EAAA,KAAA,EAAA,EAAA,CAAA,UAAA,EAAA,EAAA,EAAA,KAAA,EAAA,EAAA,CAAA,gBAAA,EAAA,EAAA,EAAA,KAAA,EAAA,EAAA,CAAA,QAAA,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;AAAvB,uBAAA,CAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,uBAAuB,8zCAJxB,CAAE,CAAA,EAAA,QAAA,EAAA,IAAA,EAAA,eAAA,EAAA,EAAA,CAAA,uBAAA,CAAA,MAAA,EAAA,CAAA,CAAA;2FAID,uBAAuB,EAAA,UAAA,EAAA,CAAA;kBANnC,SAAS;AACE,YAAA,IAAA,EAAA,CAAA,EAAA,QAAA,EAAA,kBAAkB,EAClB,QAAA,EAAA,CAAA,CAAE,EAEK,eAAA,EAAA,uBAAuB,CAAC,MAAM,EAAA,CAAA;qLAI/C,UAAU,EAAA,CAAA;sBADT,WAAW;uBAAC,kBAAkB,CAAA;gBAI/B,QAAQ,EAAA,CAAA;sBADP,WAAW;uBAAC,sBAAsB,CAAA;gBAInC,IAAI,EAAA,CAAA;sBADH,KAAK;gBAIN,KAAK,EAAA,CAAA;sBADJ,KAAK;gBAIN,MAAM,EAAA,CAAA;sBADL,KAAK;gBAIN,IAAI,EAAA,CAAA;sBADH,KAAK;gBAIN,YAAY,EAAA,CAAA;sBADX,KAAK;gBAIN,eAAe,EAAA,CAAA;sBADd,KAAK;gBAIN,iBAAiB,EAAA,CAAA;sBADhB,KAAK;gBAIN,UAAU,EAAA,CAAA;sBADT,KAAK;gBAIN,eAAe,EAAA,CAAA;sBADd,KAAK;gBAIN,iBAAiB,EAAA,CAAA;sBADhB,KAAK;gBAIN,UAAU,EAAA,CAAA;sBADT,KAAK;gBAIN,cAAc,EAAA,CAAA;sBADb,KAAK;gBAIN,cAAc,EAAA,CAAA;sBADb,KAAK;gBAIN,UAAU,EAAA,CAAA;sBADT,KAAK;gBAIN,WAAW,EAAA,CAAA;sBADV,KAAK;gBAIN,cAAc,EAAA,CAAA;sBADb,KAAK;gBAIN,qBAAqB,EAAA,CAAA;sBADpB,KAAK;gBAIN,uBAAuB,EAAA,CAAA;sBADtB,KAAK;gBAIN,sBAAsB,EAAA,CAAA;sBADrB,KAAK;gBAIN,wBAAwB,EAAA,CAAA;sBADvB,KAAK;gBAIN,kBAAkB,EAAA,CAAA;sBADjB,KAAK;gBAIN,gBAAgB,EAAA,CAAA;sBADf,KAAK;gBAIN,sBAAsB,EAAA,CAAA;sBADrB,KAAK;gBAIN,wBAAwB,EAAA,CAAA;sBADvB,KAAK;gBAIN,SAAS,EAAA,CAAA;sBADR,KAAK;gBAIN,WAAW,EAAA,CAAA;sBADV,KAAK;gBAIN,YAAY,EAAA,CAAA;sBADX,KAAK;gBAIN,UAAU,EAAA,CAAA;sBADT,KAAK;gBAIN,SAAS,EAAA,CAAA;sBADR,KAAK;gBAIN,cAAc,EAAA,CAAA;sBADb,KAAK;gBAIN,OAAO,EAAA,CAAA;sBADN,KAAK;gBAIN,YAAY,EAAA,CAAA;sBADX,KAAK;gBAIN,KAAK,EAAA,CAAA;sBADJ,KAAK;gBAGG,QAAQ,EAAA,CAAA;sBAAhB,KAAK;gBAGN,OAAO,EAAA,CAAA;sBADN,MAAM;gBAIP,OAAO,EAAA,CAAA;sBADN,MAAM;;;ACtGT;AACA,IAAI,MAAM,GAAG,CAAC,CAAC;MAQF,wBAAwB,CAAA;AAoKnC,IAAA,WAAA,CACU,QAA4B,EAC5B,QAAoB,EACpB,OAAyB,EACzB,SAAmB,EAAA;QAHnB,IAAQ,CAAA,QAAA,GAAR,QAAQ,CAAoB;QAC5B,IAAQ,CAAA,QAAA,GAAR,QAAQ,CAAY;QACpB,IAAO,CAAA,OAAA,GAAP,OAAO,CAAkB;QACzB,IAAS,CAAA,SAAA,GAAT,SAAS,CAAU;QAtK7B,IAAU,CAAA,UAAA,GAAG,IAAI,CAAC;QAGlB,IAAS,CAAA,SAAA,GAAG,IAAI,CAAC;QAMjB,IAAK,CAAA,KAAA,GAAG,GAAG,CAAC;QAGZ,IAAM,CAAA,MAAA,GAAG,GAAG,CAAC;AAGb,QAAA,IAAA,CAAA,IAAI,GAAgC,QAAQ,CAAC;QAG7C,IAAI,CAAA,IAAA,GAAG,KAAK,CAAC;QAGb,IAAS,CAAA,SAAA,GAAiC,MAAM,CAAC;QAGjD,IAAiB,CAAA,iBAAA,GAAG,EAAE,CAAC;QAGvB,IAAU,CAAA,UAAA,GAAG,CAAC,CAAC;QAGf,IAAU,CAAA,UAAA,GAAkB,IAAI,CAAC;QAGjC,IAAiB,CAAA,iBAAA,GAAG,EAAE,CAAC;QAGvB,IAAU,CAAA,UAAA,GAAG,CAAC,CAAC;QAGf,IAAc,CAAA,cAAA,GAAG,IAAI,CAAC;QAGtB,IAAc,CAAA,cAAA,GAAG,IAAI,CAAC;QAGtB,IAAS,CAAA,SAAA,GAAG,IAAI,CAAC;QAGjB,IAAS,CAAA,SAAA,GAAG,IAAI,CAAC;QAGjB,IAAU,CAAA,UAAA,GAAG,KAAK,CAAC;AAGnB,QAAA,IAAA,CAAA,WAAW,GAAG,GAAG,GAAG,EAAE,CAAC;QAGvB,IAAc,CAAA,cAAA,GAAuB,OAAO,CAAC;QAG7C,IAAqB,CAAA,qBAAA,GAAsB,IAAI,CAAC;QAGhD,IAAuB,CAAA,uBAAA,GAAG,EAAE,CAAC;QAG7B,IAA0B,CAAA,0BAAA,GAAG,EAAE,CAAC;QAGhC,IAAoB,CAAA,oBAAA,GAAG,EAAE,CAAC;QAG1B,IAAsB,CAAA,sBAAA,GAAsB,IAAI,CAAC;QAGjD,IAAwB,CAAA,wBAAA,GAAG,EAAE,CAAC;QAG9B,IAAsB,CAAA,sBAAA,GAAsB,IAAI,CAAC;QAGjD,IAAwB,CAAA,wBAAA,GAAG,EAAE,CAAC;AAG9B,QAAA,IAAA,CAAA,SAAS,GAAG,EAAE,CAAC;AAGf,QAAA,IAAA,CAAA,WAAW,GAAG,EAAE,CAAC;AAGjB,QAAA,IAAA,CAAA,YAAY,GAAG,EAAE,CAAC;AAGlB,QAAA,IAAA,CAAA,UAAU,GAAG,EAAE,CAAC;QAMhB,IAAW,CAAA,WAAA,GAAY,KAAK,CAAC;QAG7B,IAAW,CAAA,WAAA,GAAG,EAAE,CAAC;QAER,IAAU,CAAA,UAAA,GAAG,IAAI,CAAC;AAG3B,QAAA,IAAA,CAAA,OAAO,GAAyB,IAAI,YAAY,EAAU,CAAC;AAG3D,QAAA,IAAA,CAAA,OAAO,GAAyB,IAAI,YAAY,EAAU,CAAC;AAG3D,QAAA,IAAA,CAAA,cAAc,GAAyB,IAAI,YAAY,EAAU,CAAC;AAGlE,QAAA,IAAA,CAAA,cAAc,GAAyB,IAAI,YAAY,EAAU,CAAC;QAmZlE,IAAW,CAAA,WAAA,GAAG,MAAK;YACjB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;;AAG/B,YAAA,IAAI,IAAI,CAAC,SAAS,KAAK,MAAM,EAAE;AAC7B,gBAAA,IAAI,CAAC,UAAU;AACZ,qBAAA,MAAM,CACLO,MAAS,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAM,KAAI;AACrC,oBAAA,OAAOf,QAAW,CAAC,CAAC,CAAC,CAAC;AACxB,iBAAC,CAAC,CACH;qBACA,KAAK,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;AAClE,aAAA;AAAM,iBAAA,IAAI,IAAI,CAAC,SAAS,KAAK,QAAQ,EAAE;AACtC,gBAAA,IAAI,CAAC,UAAU,CAAC,MAAM,CACpBe,MAAS,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAM,KAAI;AACrC,oBAAA,OAAO,CAAC,CAAC;iBACV,CAAC,CACH,CAAC;AACH,aAAA;AAAM,iBAAA;gBACL,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AAC1C,aAAA;;AAGD,YAAA,IAAI,CAAC,UAAU;AACZ,iBAAA,MAAM,CAAC;AACN,gBAAAN,GAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAM,EAAE,CAAC,KAAI;oBACrC,MAAM,MAAM,GAAG,CAACA,GAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;oBACjC,OAAO,MAAM,GAAG,MAAM,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC;AAChD,iBAAC,CAAC;AACF,gBAAAC,GAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAM,EAAE,CAAC,KAAI;oBACrC,MAAM,MAAM,GAAG,CAACA,GAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;AACjC,oBAAA,OAAO,MAAM,GAAG,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC;AAC/C,iBAAC,CAAC;aACH,CAAC;AACD,iBAAA,IAAI,EAAE,CAAC;AAEV,YAAA,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AAE5D,YAAA,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;;AAG5D,YAAA,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;AACnB,gBAAA,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AAC7D,aAAA;AAED,YAAA,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;AACnB,gBAAA,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AAC7D,aAAA;;AAGD,YAAA,IAAI,CAAC,GAAG;iBACL,SAAS,CAAC,WAAW,CAAC;AACtB,iBAAA,IAAI,CAAC,QAAQ,EAAE,MACd,IAAI,CAAC,IAAI,KAAK,MAAM,GAAG,CAAO,IAAA,EAAA,IAAI,CAAC,SAAS,CAAC,kBAAkB,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,CAAQ,MAAA,CAAA,GAAG,IAAI,CACtG;AACA,iBAAA,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;AACtB,iBAAA,IAAI,CACH,CAAC,KAAK,KAAI;gBACR,KAAK;qBACF,MAAM,CAAC,MAAM,CAAC;qBACd,IAAI,CACH,WAAW,EACX,CAAA,IAAA,EAAO,IAAI,CAAC,SAAS,CAAC,kBAAkB,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,cAAc,IAAI,CAAC,UAAU,CAAA,CAAA,CAAG,CAChG;AACA,qBAAA,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC;AACrB,qBAAA,KAAK,CAAC,QAAQ,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AAChD,qBAAA,KAAK,CAAC,cAAc,EAAE,IAAI,CAAC,SAAS,CAAC;AACrC,qBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,IAAI,KAAI;AAClB,oBAAA,MAAM,KAAK,GAAG,IAAI,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AACpD,oBAAA,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AAC5B,iBAAC,CAAC;AACD,qBAAA,IAAI,CAAC,CAAC,KAAK,KACV,KAAK;AACF,qBAAA,UAAU,EAAE;qBACZ,QAAQ,CAAC,IAAI,CAAC;qBACd,IAAI,CAACM,aAAgB,CAAC;AACtB,qBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,IAAI,KAAK,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CACjD,CAAC;AACN,aAAC,EACD,CAAC,MAAM,KACL,MAAM,CAAC,IAAI,CAAC,CAAC,MAAM,KACjB,MAAM;AACH,iBAAA,UAAU,EAAE;iBACZ,QAAQ,CAAC,IAAI,CAAC;iBACd,IAAI,CAACA,aAAgB,CAAC;AACtB,iBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAC3C,EACH,CAAC,IAAI,KAAK,IAAI,CAAC,MAAM,EAAE,CACxB,CAAC;;YAGJ,IAAI,IAAI,CAAC,IAAI,EAAE;AACb,gBAAA,IAAI,CAAC,GAAG;qBACL,SAAS,CAAC,WAAW,CAAC;AACtB,qBAAA,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;AACtB,qBAAA,IAAI,CACH,CAAC,KAAK,KACJ,KAAK;qBACF,MAAM,CAAC,MAAM,CAAC;qBACd,IAAI,CACH,WAAW,EACX,CAAA,IAAA,EAAO,IAAI,CAAC,SAAS,CAAC,kBAAkB,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,cAAc,IAAI,CAAC,UAAU,CAAA,CAAA,CAAG,CAChG;AACA,qBAAA,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC;AACrB,qBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,IAAI,KAAI;AAClB,oBAAA,MAAM,KAAK,GAAG,IAAI,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AACpD,oBAAA,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AAC5B,iBAAC,CAAC;AACD,qBAAA,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AAC/C,qBAAA,IAAI,CAAC,CAAC,KAAK,KACV,KAAK;AACF,qBAAA,UAAU,EAAE;qBACZ,QAAQ,CAAC,IAAI,CAAC;qBACd,IAAI,CAACA,aAAgB,CAAC;AACtB,qBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,IAAI,KAAK,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CACjD,EACL,CAAC,MAAM,KACL,MAAM,CAAC,IAAI,CAAC,CAAC,MAAM,KAAI;AACrB,oBAAA,OAAO,MAAM;AACV,yBAAA,UAAU,EAAE;yBACZ,QAAQ,CAAC,IAAI,CAAC;yBACd,IAAI,CAACA,aAAgB,CAAC;AACtB,yBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;AAC7C,iBAAC,CAAC,EACJ,CAAC,IAAI,KAAK,IAAI,CAAC,MAAM,EAAE,CACxB,CAAC;AACL,aAAA;;YAGD,IAAI,IAAI,CAAC,UAAU,EAAE;;AAEnB,gBAAA,IAAI,CAAC,GAAG;qBACL,SAAS,CAAC,UAAU,CAAC;AACrB,qBAAA,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;AACtB,qBAAA,IAAI,CACH,CAAC,KAAK,KACJ,KAAK;qBACF,MAAM,CAAC,GAAG,CAAC;AACX,qBAAA,IAAI,CAAC,OAAO,EAAE,QAAQ,CAAC;qBACvB,IAAI,CACH,WAAW,EACX,CAAA,IAAA,EAAO,IAAI,CAAC,SAAS,CAAC,kBAAkB,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,qBAAqB,IAAI,CAAC,UAAU,CAAA,CAAA,CAAG,CACvG;AACA,qBAAA,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;qBAElD,SAAS,CAAC,QAAQ,CAAC;qBACnB,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC;AACrB,qBAAA,IAAI,CACH,CAAC,KAAK,KACJ,KAAK;qBACF,MAAM,CAAC,QAAQ,CAAC;qBAChB,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,CAAC,KAAI;AACnB,oBAAA,IAAI,IAAI,CAAC,SAAS,KAAK,MAAM,EAAE;AAC7B,wBAAA,OAAO,IAAI,CAAC,UAAU,CAAChB,QAAW,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC1D,qBAAA;AAAM,yBAAA;AACL,wBAAA,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;AAC7C,qBAAA;AACH,iBAAC,CAAC;AACD,qBAAA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;qBACrC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,KAAI;;oBAElB,IAAI,CAAC,KAAK,IAAI,EAAE;AACd,wBAAA,OAAO,CAAC,CAAC;AACV,qBAAA;AAED,oBAAA,OAAO,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;AAC5B,iBAAC,CAAC;AACD,qBAAA,KAAK,CAAC,cAAc,EAAE,IAAI,CAAC,SAAS,CAAC;AACrC,qBAAA,IAAI,CAAC,CAAC,KAAK,KACV,KAAK;AACF,qBAAA,UAAU,EAAE;qBACZ,QAAQ,CAAC,IAAI,CAAC;qBACd,IAAI,CAACgB,aAAgB,CAAC;AACtB,qBAAA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CACzC,EACL,MAAO,GAAC,EACR,CAAC,IAAI,KAAK,IAAI,CAAC,MAAM,EAAE,CACxB,EACL,CAAC,MAAM,KACL,MAAM;qBACH,SAAS,CAAC,QAAQ,CAAC;qBACnB,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC;AACrB,qBAAA,IAAI,CACH,CAAC,KAAK,KACJ,KAAK;qBACF,MAAM,CAAC,QAAQ,CAAC;qBAChB,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,CAAC,KAAI;AACnB,oBAAA,IAAI,IAAI,CAAC,SAAS,KAAK,MAAM,EAAE;AAC7B,wBAAA,OAAO,IAAI,CAAC,UAAU,CAAChB,QAAW,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC1D,qBAAA;AAAM,yBAAA;AACL,wBAAA,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;AAC7C,qBAAA;AACH,iBAAC,CAAC;AACD,qBAAA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;qBACrC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,KAAI;;oBAElB,IAAI,CAAC,KAAK,IAAI,EAAE;AACd,wBAAA,OAAO,CAAC,CAAC;AACV,qBAAA;AAED,oBAAA,OAAO,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;AAC5B,iBAAC,CAAC;qBACD,KAAK,CAAC,cAAc,EAAE,IAAI,CAAC,SAAS,CAAC,EAC1C,CAAC,MAAM,KACL,MAAM,CAAC,IAAI,CAAC,CAAC,MAAM,KACjB,MAAM;AACH,qBAAA,UAAU,EAAE;qBACZ,QAAQ,CAAC,IAAI,CAAC;qBACd,IAAI,CAACgB,aAAgB,CAAC;qBACtB,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,CAAC,KAAI;AACnB,oBAAA,IAAI,IAAI,CAAC,SAAS,KAAK,MAAM,EAAE;AAC7B,wBAAA,OAAO,IAAI,CAAC,UAAU,CAAChB,QAAW,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC1D,qBAAA;AAAM,yBAAA;AACL,wBAAA,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;AAC7C,qBAAA;AACH,iBAAC,CAAC;AACD,qBAAA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,KAAI;oBAChB,IAAI,CAAC,KAAK,IAAI,EAAE;AACd,wBAAA,OAAO,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;AAC3B,qBAAA;AAED,oBAAA,OAAO,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;AAC5B,iBAAC,CAAC;qBACD,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,KAAI;;oBAElB,IAAI,CAAC,KAAK,IAAI,EAAE;AACd,wBAAA,OAAO,CAAC,CAAC;AACV,qBAAA;AAED,oBAAA,OAAO,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;iBAC3B,CAAC,CACL,EACH,CAAC,IAAI,KAAK,IAAI,CAAC,MAAM,EAAE,CACxB,EACL,CAAC,IAAI,KAAK,IAAI,CAAC,MAAM,EAAE,CACxB,CAAC;AACL,aAAA;AAED,YAAA,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;AACpB,gBAAA,IAAI,CAAC,KAAK;qBACP,MAAM,CAAC,SAAS,CAAC;qBACjB,SAAS,CAAC,cAAc,CAAC;AACzB,qBAAA,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;AACtB,qBAAA,IAAI,CACH,CAAC,KAAK,KAAI;AACR,oBAAA,MAAM,EAAE,GAAG,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC;AAE3D,oBAAA,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC;AACd,yBAAA,IAAI,CAAC,OAAO,EAAE,YAAY,CAAC;AAC3B,yBAAA,KAAK,CAAC,kBAAkB,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;AAE9D,oBAAA,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC;AACd,yBAAA,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC;AAC7B,yBAAA,IAAI,CAAC,CAAC,CAAC,KAAI;wBACV,QAAQ,IAAI,CAAC,qBAAqB;AAChC,4BAAA,KAAK,QAAQ;gCACX,OAAO,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AAEzC,4BAAA,KAAK,MAAM;gCACT,MAAM,UAAU,GAAGA,QAAW,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AACxC,gCAAA,OAAO,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,CAAC;AAE5C,4BAAA;gCACE,OAAO,CAAC,CAAC,KAAK,CAAC;AAClB,yBAAA;AACH,qBAAC,CAAC,CAAC;AAEL,oBAAA,OAAO,EAAE,CAAC;AACZ,iBAAC,EACD,CAAC,MAAM,KAAI;oBACT,MAAM,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAI;wBACxC,QAAQ,IAAI,CAAC,qBAAqB;AAChC,4BAAA,KAAK,QAAQ;gCACX,OAAO,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AAEzC,4BAAA,KAAK,MAAM;gCACT,MAAM,UAAU,GAAGA,QAAW,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AACxC,gCAAA,OAAO,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,CAAC;AAE5C,4BAAA;gCACE,OAAO,CAAC,CAAC,KAAK,CAAC;AAClB,yBAAA;AACH,qBAAC,CAAC,CAAC;AAEH,oBAAA,OAAO,MAAM,CAAC;iBACf,EACD,CAAC,IAAI,KAAK,IAAI,CAAC,MAAM,EAAE,CACxB;AACA,qBAAA,EAAE,CAAC,WAAW,EAAE,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;qBACnE,EAAE,CAAC,UAAU,EAAE,MAAM,IAAI,CAAC,cAAc,EAAE,CAAC;AAC3C,qBAAA,EAAE,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC;AACrE,aAAA;AAED,YAAA,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;AACrB,gBAAA,IAAI,CAAC,OAAO;qBACT,MAAM,CAAC,gBAAgB,CAAC;qBACxB,SAAS,CAAC,IAAI,CAAC;AACf,qBAAA,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;AACtB,qBAAA,IAAI,CACH,CAAC,KAAK,KAAI;AACR,oBAAA,MAAM,WAAW,GAAG,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC,CAAC;oBAErE,WAAW;yBACR,MAAM,CAAC,IAAI,CAAC;AACZ,yBAAA,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;yBAC/C,MAAM,CAAC,MAAM,CAAC;AACd,yBAAA,IAAI,CAAC,OAAO,EAAE,kBAAkB,CAAC,CAAC;oBAErC,WAAW;yBACR,MAAM,CAAC,IAAI,CAAC;AACZ,yBAAA,IAAI,CAAC,OAAO,EAAE,gCAAgC,CAAC;AAC/C,yBAAA,IAAI,CAAC,CAAC,CAAC,KAAI;wBACV,OAAO,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC;AAClF,qBAAC,CAAC,CAAC;oBAEL,WAAW;yBACR,MAAM,CAAC,IAAI,CAAC;AACZ,yBAAA,IAAI,CAAC,OAAO,EAAE,sCAAsC,CAAC;yBACrD,IAAI,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC;AAEnB,oBAAA,OAAO,WAAW,CAAC;AACrB,iBAAC,EACD,CAAC,MAAM,KAAI;;oBAET,MAAM,YAAY,GAAG,MAAM,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC;AAErD,oBAAA,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC,KAAI;wBACtB,OAAO,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC;AAClF,qBAAC,CAAC,CAAC;iBACJ,EACD,CAAC,IAAI,KAAK,IAAI,CAAC,MAAM,EAAE,CACxB,CAAC;AACL,aAAA;YAED,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,KAAK,EAAE,CAAC;AACtC,YAAA,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;AACzB,SAAC,CAAC;AAEF,QAAA,IAAA,CAAA,eAAe,GAAG,CAAC,KAAK,EAAE,IAAI,KAAI;;AAGhC,YAAA,IAAI,CAAC,KAAK;iBACP,SAAS,CAAC,cAAc,CAAC;AACzB,iBAAA,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAI;AACf,gBAAA,OAAO,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,CAAC;AAChC,aAAC,CAAC;AACD,iBAAA,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;AAE7B,YAAA,IAAI,CAAC,GAAG;iBACL,SAAS,CAAC,OAAO,CAAC;AAClB,iBAAA,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAI;AACf,gBAAA,OAAO,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,CAAC;AAChC,aAAC,CAAC;AACD,iBAAA,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;YAE7B,IAAI,IAAI,CAAC,IAAI,EAAE;AACb,gBAAA,IAAI,CAAC,GAAG;qBACL,SAAS,CAAC,OAAO,CAAC;AAClB,qBAAA,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAI;AACf,oBAAA,OAAO,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,CAAC;AAChC,iBAAC,CAAC;AACD,qBAAA,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;AAC9B,aAAA;YAED,IAAI,IAAI,CAAC,UAAU,EAAE;AACnB,gBAAA,IAAI,CAAC,GAAG;qBACL,SAAS,CAAC,SAAS,CAAC;AACpB,qBAAA,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAI;AACf,oBAAA,OAAO,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,CAAC;AAChC,iBAAC,CAAC;qBACD,SAAS,CAAC,QAAQ,CAAC;AACnB,qBAAA,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;AAC9B,aAAA;YAED,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AACrC,SAAC,CAAC;QAEF,IAAc,CAAA,cAAA,GAAG,MAAK;AACpB,YAAA,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;YAEhE,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC,OAAO,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;YAElF,IAAI,IAAI,CAAC,UAAU,EAAE;gBACnB,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;AAClF,aAAA;YAED,IAAI,IAAI,CAAC,IAAI,EAAE;AACb,gBAAA,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;AACxD,aAAA;AACH,SAAC,CAAC;AAEF,QAAA,IAAA,CAAA,gBAAgB,GAAG,CAAC,KAAK,EAAE,IAAI,KAAI;YACjC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AACrC,SAAC,CAAC;AAEF,QAAA,IAAA,CAAA,kBAAkB,GAAG,CAAC,KAAK,EAAE,IAAI,KAAI;YACnC,IAAI,MAAM,CAAC;AACX,YAAA,IAAI,KAAK,CAAC;AACV,YAAA,IAAI,KAAK,CAAC;AACV,YAAA,IAAI,OAAO,CAAC;AACZ,YAAA,IAAI,YAAY,CAAC;YAEjB,IAAI,SAAS,GAAG,CAAC,CAAC;;AAGlB,YAAA,IAAI,IAAI,CAAC,SAAS,KAAK,QAAQ,EAAE;gBAC/B,MAAM,GAAGG,OAAU,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;AAC/B,aAAA;AAAM,iBAAA;AACL,gBAAA,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAACA,OAAU,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACvD,aAAA;AAED,YAAA,IAAI,IAAI,CAAC,SAAS,KAAK,MAAM,EAAE;AAC7B,gBAAA,SAAS,GAAGc,WAAc,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAEC,SAAY,CAAC,MAAM,CAAC,CAAC,CAAC;;gBAGnE,IAAI,SAAS,KAAK,CAAC;AAAE,oBAAA,OAAO,KAAK,CAAC;AAElC,gBAAA,KAAK,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC,CAAC;AAClD,gBAAA,KAAK,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC;gBAC9C,OAAO,GAAG,CAAC,MAAM,GAAG,CAAC,KAAK,GAAG,CAAC,KAAK,GAAG,MAAM,GAAG,KAAK,GAAG,KAAK,CAAC;AAC7D,gBAAA,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAACA,SAAY,CAAC,OAAO,CAAC,CAAC,CAAC;;AAEhE,aAAA;AAAM,iBAAA,IAAI,IAAI,CAAC,SAAS,KAAK,QAAQ,EAAE;gBACtC,SAAS,GAAGD,WAAc,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;;gBAGrD,IAAI,SAAS,KAAK,CAAC;AAAE,oBAAA,OAAO,KAAK,CAAC;gBAElC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC;gBACxC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;gBACpC,OAAO,GAAG,CAAC,MAAM,GAAG,CAAC,KAAK,GAAG,CAAC,KAAK,GAAG,MAAM,GAAG,KAAK,GAAG,KAAK,CAAC;AAC7D,gBAAA,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;;AAElD,aAAA;AAAM,iBAAA;gBACL,MAAM,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;gBACxC,MAAME,OAAK,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;gBACtC,MAAM,WAAW,GAAGC,KAAQ,CAACD,OAAK,CAAC,CAAC,CAAC,EAAEA,OAAK,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC,CAAC;gBACzE,WAAW,CAAC,IAAI,CAACA,OAAK,CAAC,CAAC,CAAC,CAAC,CAAC;AAE3B,gBAAA,SAAS,GAAGE,MAAS,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;gBAE3C,IAAI,SAAS,KAAK,CAAC;AAAE,oBAAA,OAAO,KAAK,CAAC;AAElC,gBAAA,KAAK,GAAG,WAAW,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC;AACnC,gBAAA,KAAK,GAAG,WAAW,CAAC,SAAS,CAAC,CAAC;gBAC/B,OAAO,GAAG,CAAC,MAAM,GAAG,CAAC,KAAK,GAAG,CAAC,KAAK,GAAG,MAAM,GAAG,CAAC,KAAK,GAAG,CAAC,KAAK,CAAC;gBAE/D,MAAM,UAAU,GAAG,WAAW,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;AAChD,gBAAA,OAAO,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC;AAE7B,gBAAA,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC;AAC7D,aAAA;AAED,YAAA,MAAM,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;YAEtE,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,KAAK,YAAY,CAAC,CAAC,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;YACrE,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,KAAK,YAAY,CAAC,CAAC,OAAO,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;AAEtE,YAAA,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;;AAGnH,YAAA,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,EAAE,YAAY,CAAC,CAAC;YAExD,IAAI,CAAC,SAAS,GAAG;gBACf,KAAK,EAAE,IAAI,CAAC,SAAS,KAAK,MAAM,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,WAAW,EAAE,GAAG,OAAO;AAC5E,gBAAA,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,KAAI;oBACjC,OAAO;wBACL,KAAK,EAAE,CAAC,CAAC,KAAK;AACd,wBAAA,KAAK,EAAE,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC;qBAC9B,CAAC;AACJ,iBAAC,CAAC;aACH,CAAC;AAEF,YAAA,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;AAC5D,SAAC,CAAC;AAEF,QAAA,IAAA,CAAA,iBAAiB,GAAG,CAAC,KAAK,EAAE,IAAI,KAAI;AAClC,YAAA,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;YACtD,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;YAC1C,IAAI,CAAC,WAAW,EAAE,CAAC;AACrB,SAAC,CAAC;AAEF,QAAA,IAAA,CAAA,mBAAmB,GAAG,CAAC,KAAK,KAAI;AAC9B,YAAA,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;AACrD,SAAC,CAAC;AAEM,QAAA,IAAA,CAAA,WAAW,GAAG,CAAC,IAAI,EAAE,YAAY,KAAI;YAC3C,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,iBAAiB,EAAE,CAAC;AAChD,YAAA,MAAM,mBAAmB,GAAG,IAAI,CAAC,qBAAqB,EAAE,CAAC;YACzD,MAAM,mBAAmB,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,YAAY,CAAC;YAC9D,MAAM,iBAAiB,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,qBAAqB,EAAE,CAAC;YACtE,MAAM,mBAAmB,GAAG,mBAAmB,CAAC,IAAI,GAAG,iBAAiB,CAAC,KAAK,GAAG,CAAC,CAAC;YACnF,MAAM,WAAW,GAAG,QAAQ,CAAC,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;AACnD,YAAA,IAAI,QAAQ,CAAC;;AAIb,YAAA,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAI;AAChD,gBAAA,IAAI,IAAI,CAAC,SAAS,KAAK,MAAM,EAAE;AAC7B,oBAAA,MAAM,UAAU,GAAGrB,QAAW,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC;AAC/D,oBAAA,OAAO,CAAG,EAAA,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,CAAA,EAAG,IAAI,CAAC,oBAAoB,CAAA,CAAE,CAAC;AAC/E,iBAAA;AAAM,qBAAA,IAAI,IAAI,CAAC,SAAS,KAAK,QAAQ,EAAE;oBACtC,MAAM,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;AAC/C,oBAAA,OAAO,CAAG,EAAA,IAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC,CAAA,EAAG,IAAI,CAAC,oBAAoB,CAAA,CAAE,CAAC;AAC5E,iBAAA;AAAM,qBAAA;AACL,oBAAA,OAAO,CAAG,EAAA,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAG,EAAA,IAAI,CAAC,oBAAoB,EAAE,CAAC;AACxE,iBAAA;AACH,aAAC,CAAC,CAAC;AAEH,YAAA,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,KAAI;AACrD,gBAAA,MAAM,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;AAEvD,gBAAA,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,SAAS,EAAE;AACzC,oBAAA,OAAO,EAAE,CAAC;AACX,iBAAA;AAED,gBAAA,OAAO,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;AAC9E,aAAC,CAAC,CAAC;;YAGH,IAAI,mBAAmB,GAAG,WAAW,EAAE;gBACrC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;gBACnC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;AACpC,gBAAA,QAAQ,GAAG,CAAA,EAAG,mBAAmB,CAAC,IAAI,GAAG,iBAAiB,CAAC,KAAK,GAAG,CAAC,CAAA,EAAA,CAAI,CAAC;AAC1E,aAAA;iBAAM,IAAI,mBAAmB,GAAG,WAAW,EAAE;gBAC5C,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;gBACpC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;gBACnC,QAAQ,GAAG,GAAG,mBAAmB,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC;AAChD,aAAA;;;AAKD,YAAA,IAAI,CAAC,OAAO,CAAC,KAAK,CAChB,KAAK,EACL,CAAA,EAAG,mBAAmB,CAAC,GAAG,GAAG,mBAAmB,CAAC,MAAM,GAAG,CAAC,GAAG,mBAAmB,GAAG,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAI,EAAA,CAAA,CACtG,CAAC;YACF,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;YACrC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;AACnC,SAAC,CAAC;QAEM,IAAW,CAAA,WAAA,GAAG,MAAK;YACzB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;AACnC,SAAC,CAAC;AAEM,QAAA,IAAA,CAAA,cAAc,GAAG,CAAC,IAAI,KAAI;AAChC,YAAA,IAAI,IAAI,CAAC,SAAS,KAAK,MAAM,EAAE;AAC7B,gBAAA,MAAM,SAAS,GAAGA,QAAW,CAAC,IAAI,CAAC,CAAC;AACpC,gBAAA,OAAO,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;AACpC,aAAA;AAAM,iBAAA,IAAI,IAAI,CAAC,SAAS,KAAK,QAAQ,EAAE;AACtC,gBAAA,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;AAC/B,aAAA;AAAM,iBAAA;AACL,gBAAA,OAAO,IAAI,CAAC;;AAEb,aAAA;AACH,SAAC,CAAC;AAEM,QAAA,IAAA,CAAA,cAAc,GAAG,CAAC,IAAI,KAAI;AAChC,YAAA,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;AAChC,SAAC,CAAC;KA/4BE;IAEJ,QAAQ,GAAA;QACN,IAAI,CAAC,MAAM,GAAG;AACZ,YAAA,GAAG,EAAE,CAAC,IAAI,CAAC,SAAS;AACpB,YAAA,KAAK,EAAE,CAAC,IAAI,CAAC,WAAW;AACxB,YAAA,MAAM,EAAE,CAAC,IAAI,CAAC,YAAY;AAC1B,YAAA,IAAI,EAAE,CAAC,IAAI,CAAC,UAAU;SACvB,CAAC;AAEF,QAAA,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC;;AAGzB,QAAA,IAAI,CAAC,WAAW;YACd,IAAI,CAAC,SAAS,KAAK,MAAM,GAAGD,YAAa,CAAC,IAAI,CAAC,iBAAiB,CAAC,GAAGD,QAAS,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;QACxG,IAAI,CAAC,WAAW,GAAGA,QAAS,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;AACrD,QAAA,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,uBAAuB,CAAC,CAAC;AAC1G,QAAA,IAAI,CAAC,oBAAoB;YACvB,IAAI,CAAC,SAAS,KAAK,MAAM;AACvB,kBAAEC,YAAa,CAAC,IAAI,CAAC,0BAA0B,CAAC;AAChD,kBAAED,QAAS,CAAC,IAAI,CAAC,0BAA0B,CAAC,CAAC;AACjD,QAAA,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,sBAAsB,EAAE,IAAI,CAAC,wBAAwB,CAAC,CAAC;AAC7G,QAAA,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,sBAAsB,EAAE,IAAI,CAAC,wBAAwB,CAAC,CAAC;;AAG7G,QAAA,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;AACnB,QAAA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;AACvB,QAAA,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;AACvB,QAAA,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;AACvB,QAAA,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;AAC3B,QAAA,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;AAC3B,QAAA,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;AAC7B,QAAA,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;AAC7B,QAAA,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;AACzB,QAAA,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;AAC5B,QAAA,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;AAC5B,QAAA,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;AACvB,QAAA,IAAI,CAAC,kBAAkB,GAAG,CAAC,CAAC;AAC5B,QAAA,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;AACvB,QAAA,IAAI,CAAC,kBAAkB,GAAG,CAAC,CAAC;AAE5B,QAAA,IAAI,IAAI,CAAC,IAAI,KAAK,OAAO,EAAE;;YAEzB,QAAQ,IAAI,CAAC,IAAI;AACf,gBAAA,KAAK,QAAQ;AACX,oBAAA,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;AAC3B,oBAAA,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;oBAC3B,MAAM;AAER,gBAAA,KAAK,MAAM;AACT,oBAAA,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;AACnB,oBAAA,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;AACxB,oBAAA,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;AACxB,oBAAA,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;AAC3B,oBAAA,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;AAC3B,oBAAA,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;AACvB,oBAAA,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;oBACvB,MAAM;AACT,aAAA;AACF,SAAA;AAED,QAAA,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,UAAU,GAAG,EAAE,GAAG,CAAC,CAAC;;QAGjD,IAAI,IAAI,CAAC,SAAS;YAAE,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,EAAE,CAAC;QAE5C,IAAI,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,cAAc,KAAK,OAAO,EAAE;AACvD,YAAA,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC;AAC9C,SAAA;;AAGD,QAAA,IAAI,CAAC,MAAM,GAAGwB,IAAO,EAAE;AACpB,aAAA,CAAC,CAAC,CAAC,CAAM,EAAE,CAAC,KAAI;AACf,YAAA,IAAI,IAAI,CAAC,SAAS,KAAK,MAAM,EAAE;AAC7B,gBAAA,OAAO,IAAI,CAAC,UAAU,CAACtB,QAAW,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC1D,aAAA;AAAM,iBAAA,IAAI,IAAI,CAAC,SAAS,KAAK,QAAQ,EAAE;AACtC,gBAAA,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;AAC7C,aAAA;AAAM,iBAAA;AACL,gBAAA,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;AAC7C,aAAA;AACH,SAAC,CAAC;AACD,aAAA,CAAC,CAAC,CAAC,CAAM,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;AACjC,aAAA,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,KAAI;;AAEhB,YAAA,OAAO,CAAC,KAAK,IAAI,CAAC;AACpB,SAAC,CAAC,CAAC;;QAGL,IAAI,IAAI,CAAC,UAAU,EAAE;AACnB,YAAA,IAAI,CAAC,MAAM,CAAC,KAAK,CAACuB,eAAkB,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;AAClD,SAAA;;QAGD,IAAI,IAAI,CAAC,IAAI,EAAE;AACb,YAAA,IAAI,CAAC,MAAM,GAAGC,IAAO,EAAE;AACpB,iBAAA,CAAC,CAAC,CAAC,CAAM,EAAE,CAAC,KAAI;AACf,gBAAA,IAAI,IAAI,CAAC,SAAS,KAAK,MAAM,EAAE;AAC7B,oBAAA,OAAO,IAAI,CAAC,UAAU,CAACxB,QAAW,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC1D,iBAAA;AAAM,qBAAA,IAAI,IAAI,CAAC,SAAS,KAAK,QAAQ,EAAE;AACtC,oBAAA,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;AAC7C,iBAAA;AAAM,qBAAA;AACL,oBAAA,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;AAC7C,iBAAA;AACH,aAAC,CAAC;AACD,iBAAA,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC;AACf,iBAAA,EAAE,CAAC,CAAC,CAAM,EAAE,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;AACrC,iBAAA,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,KAAI;;AAEhB,gBAAA,OAAO,CAAC,KAAK,IAAI,CAAC;AACpB,aAAC,CAAC,CAAC;YAEL,IAAI,IAAI,CAAC,UAAU,EAAE;AACnB,gBAAA,IAAI,CAAC,MAAM,CAAC,KAAK,CAACuB,eAAkB,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;AAClD,aAAA;AACF,SAAA;;AAGD,QAAA,IAAI,CAAC,KAAK,GAAGhB,MAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;;AAGhF,QAAA,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,KAAK;aAClB,MAAM,CAAC,KAAK,CAAC;AACb,aAAA,IAAI,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC;aAC9C,IAAI,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,gBAAgB,CAAC;AAC3F,aAAA,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;AAC1B,aAAA,IAAI,CAAC,qBAAqB,EAAE,eAAe,CAAC;aAC5C,IAAI,CACH,SAAS,EACT,CAAA,CAAA,EAAI,IAAI,CAAC,MAAM,CAAC,IAAI,CAAK,EAAA,EAAA,IAAI,CAAC,MAAM,CAAC,GAAG,CAAI,CAAA,EAAA,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAA,CAAA,EACzE,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,gBAC7D,CAAE,CAAA,CACH,CAAC;;AAGJ,QAAA,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,GAAG;aACtB,MAAM,CAAC,MAAM,CAAC;AACd,aAAA,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC;AAChE,aAAA,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC;AAC3B,aAAA,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;AAC1B,aAAA,EAAE,CAAC,WAAW,EAAE,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,kBAAkB,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;AACtE,aAAA,EAAE,CAAC,UAAU,EAAE,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,iBAAiB,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;AACpE,aAAA,EAAE,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,CAAC;AAEjE,QAAA,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC,CAAC;;QAI/G,MAAM,MAAM,GAAG,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;QAChG,IAAI,CAAC,UAAU,GAAGH,YAAe,EAAE,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;;QAGlD,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;;AAGzC,QAAA,IAAI,IAAI,CAAC,SAAS,KAAK,MAAM,EAAE;AAC7B,YAAA,IAAI,CAAC,UAAU,GAAGqB,SAAY,EAAE;AAC7B,iBAAA,MAAM,CACLV,MAAS,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAM,KAAI;AACrC,gBAAA,OAAOf,QAAW,CAAC,CAAC,CAAC,CAAC;AACxB,aAAC,CAAC,CACH;iBACA,KAAK,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;AAClE,SAAA;AAAM,aAAA,IAAI,IAAI,CAAC,SAAS,KAAK,QAAQ,EAAE;AACtC,YAAA,IAAI,CAAC,UAAU,GAAGa,WAAc,EAAE;AAC/B,iBAAA,MAAM,CACLE,MAAS,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAM,KAAI;AACrC,gBAAA,OAAO,CAAC,CAAC;AACX,aAAC,CAAC,CACH;iBACA,KAAK,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;AAClE,SAAA;AAAM,aAAA;AACL,YAAA,IAAI,CAAC,UAAU,GAAGW,UAAa,EAAE;AAC9B,iBAAA,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;iBACxB,KAAK,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;AAClE,SAAA;AAED,QAAA,IAAI,IAAI,CAAC,SAAS,KAAK,QAAQ,EAAE;YAC/B,IAAI,CAAC,SAAS,GAAGd,UAAa,CAAC,IAAI,CAAC,UAAU,CAAC;;AAE5C,iBAAA,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC;AAC5B,iBAAA,aAAa,CAAC,IAAI,CAAC,kBAAkB,CAAC;AACtC,iBAAA,UAAU,CAAC,IAAI,CAAC,cAAc,CAAC;AAC/B,iBAAA,UAAU,CACT,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAI;;;AAGvC,gBAAA,OAAO,CAAC,GAAG,IAAI,CAAC,UAAU,KAAK,CAAC,CAAC;aAClC,CAAC,CACH,CAAC;AACL,SAAA;AAAM,aAAA;YACL,IAAI,CAAC,SAAS,GAAGA,UAAa,CAAC,IAAI,CAAC,UAAU,CAAC;AAC5C,iBAAA,KAAK,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC;AACvB,iBAAA,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC;AAC5B,iBAAA,aAAa,CAAC,IAAI,CAAC,kBAAkB,CAAC;AACtC,iBAAA,UAAU,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;AACpC,SAAA;AAED,QAAA,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG;aAClB,MAAM,CAAC,GAAG,CAAC;AACX,aAAA,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC;aAC5B,IAAI,CAAC,WAAW,EAAE,CAAgB,aAAA,EAAA,IAAI,CAAC,MAAM,CAAA,CAAA,CAAG,CAAC;AACjD,aAAA,OAAO,CAAC,aAAa,EAAE,IAAI,CAAC,SAAS,CAAC;AACtC,aAAA,OAAO,CAAC,kBAAkB,EAAE,IAAI,CAAC,aAAa,CAAC;AAC/C,aAAA,OAAO,CAAC,oBAAoB,EAAE,IAAI,CAAC,eAAe,CAAC;AACnD,aAAA,OAAO,CAAC,mBAAmB,EAAE,IAAI,CAAC,cAAc,CAAC;AACjD,aAAA,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;;AAGxB,QAAA,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;AACnB,YAAA,IAAI,IAAI,CAAC,SAAS,KAAK,QAAQ,EAAE;gBAC/B,IAAI,CAAC,SAAS,GAAGA,UAAa,CAAC,IAAI,CAAC,UAAU,CAAC;AAC5C,qBAAA,QAAQ,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC;AACtB,qBAAA,UAAU,CACT,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAI;;;AAGvC,oBAAA,OAAO,CAAC,GAAG,IAAI,CAAC,UAAU,KAAK,CAAC,CAAC;iBAClC,CAAC,CACH,CAAC;AACL,aAAA;AAAM,iBAAA;AACL,gBAAA,IAAI,CAAC,SAAS,GAAGA,UAAa,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AACxE,aAAA;AAED,YAAA,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG;iBAClB,MAAM,CAAC,GAAG,CAAC;AACX,iBAAA,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC;AAC5B,iBAAA,OAAO,CAAC,kBAAkB,EAAE,IAAI,CAAC,aAAa,CAAC;iBAC/C,IAAI,CAAC,WAAW,EAAE,CAAgB,aAAA,EAAA,IAAI,CAAC,MAAM,CAAA,CAAA,CAAG,CAAC;AACjD,iBAAA,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AACzB,SAAA;;QAGD,IAAI,IAAI,CAAC,UAAU,EAAE;AACnB,YAAA,IAAI,CAAC,GAAG;iBACL,MAAM,CAAC,MAAM,CAAC;AACd,iBAAA,IAAI,CAAC,OAAO,EAAE,YAAY,CAAC;AAC3B,iBAAA,IAAI,CAAC,aAAa,EAAE,QAAQ,CAAC;iBAC7B,IAAI,CACH,WAAW,EACX,CAAa,UAAA,EAAA,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,CACpF,EAAA,EAAA,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,IAAI,IAAI,CAAC,SAAS,GAAG,EAAE,GAAG,EAAE,CAC3D,CAAA,CAAA,CAAG,CACJ;;;AAGA,iBAAA,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;AAC1B,SAAA;;AAGD,QAAA,IAAI,CAAC,UAAU,GAAGC,WAAc,EAAE;AAC/B,aAAA,MAAM,CAAC;AACN,YAAAJ,GAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAM,EAAE,CAAC,KAAI;gBACrC,MAAM,MAAM,GAAG,CAACA,GAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;gBACjC,OAAO,MAAM,GAAG,MAAM,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC;AAChD,aAAC,CAAC;AACF,YAAAC,GAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAM,EAAE,CAAC,KAAI;gBACrC,MAAM,MAAM,GAAG,CAACA,GAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;AACjC,gBAAA,OAAO,MAAM,GAAG,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC;AAC/C,aAAC,CAAC;SACH,CAAC;AACD,aAAA,IAAI,EAAE;aACN,KAAK,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC;QAE3B,IAAI,CAAC,SAAS,GAAGI,QAAW,CAAC,IAAI,CAAC,UAAU,CAAC;AAC1C,aAAA,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC;AACtB,aAAA,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC;AAC5B,aAAA,aAAa,CAAC,IAAI,CAAC,kBAAkB,CAAC;AACtC,aAAA,UAAU,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;AAEnC,QAAA,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG;aAClB,MAAM,CAAC,GAAG,CAAC;AACX,aAAA,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC;AAC5B,aAAA,OAAO,CAAC,aAAa,EAAE,IAAI,CAAC,SAAS,CAAC;AACtC,aAAA,OAAO,CAAC,kBAAkB,EAAE,IAAI,CAAC,aAAa,CAAC;AAC/C,aAAA,OAAO,CAAC,oBAAoB,EAAE,IAAI,CAAC,eAAe,CAAC;AACnD,aAAA,OAAO,CAAC,mBAAmB,EAAE,IAAI,CAAC,cAAc,CAAC;AACjD,aAAA,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;;AAGxB,QAAA,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;YACnB,IAAI,CAAC,SAAS,GAAGA,QAAW,CAAC,IAAI,CAAC,UAAU,CAAC;AAC1C,iBAAA,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC;AACtB,iBAAA,QAAQ,CAAC,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AAEhE,YAAA,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG;iBAClB,MAAM,CAAC,GAAG,CAAC;AACX,iBAAA,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC;AAC5B,iBAAA,OAAO,CAAC,kBAAkB,EAAE,IAAI,CAAC,aAAa,CAAC;AAC/C,iBAAA,IAAI,CAAC,WAAW,EAAE,CAAA,eAAA,CAAiB,CAAC;AACpC,iBAAA,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AACzB,SAAA;;AAGD,QAAA,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;AACrB,YAAA,IAAI,CAAC,OAAO,GAAGP,MAAS,CAAC,MAAM,CAAC;iBAC7B,MAAM,CAAC,KAAK,CAAC;AACb,iBAAA,IAAI,CAAC,OAAO,EAAE,mBAAmB,CAAC;AAClC,iBAAA,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC;AACnB,iBAAA,IAAI,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;;AAG/B,YAAA,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,gBAAgB,CAAC,CAAC;;AAG3D,YAAA,MAAM,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,+BAA+B,CAAC,CAAC;YAEjG,MAAM,iBAAiB,GAAG,YAAY,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;YAEvD,iBAAiB;iBACd,SAAS,CAAC,IAAI,CAAC;AACf,iBAAA,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;AACf,iBAAA,IAAI,CAAC,CAAC,KAAK,KAAK,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;AACxC,SAAA;;AAGD,QAAA,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;YACpB,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,0BAA0B,EAAE,IAAI,CAAC,cAAc,KAAK,QAAQ,GAAG,IAAI,GAAG,KAAK,CAAC,CAAC;AAChG,YAAA,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,CAAiB,cAAA,EAAA,IAAI,CAAC,cAAc,CAAA,CAAE,CAAC,CAAC;AAC/E,SAAA;;AAGD,QAAA,IAAI,CAAC,GAAG;aACL,MAAM,CAAC,UAAU,CAAC;aAClB,IAAI,CAAC,IAAI,EAAE,CAAA,UAAA,EAAa,IAAI,CAAC,UAAU,EAAE,CAAC;aAC1C,MAAM,CAAC,MAAM,CAAC;aACd,IAAI,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC;aACnE,IAAI,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;;AAGhC,QAAA,IAAI,CAAC,GAAG;aACL,MAAM,CAAC,UAAU,CAAC;aAClB,IAAI,CAAC,IAAI,EAAE,CAAA,iBAAA,EAAoB,IAAI,CAAC,UAAU,EAAE,CAAC;aACjD,MAAM,CAAC,MAAM,CAAC;aACd,IAAI,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC;AACnE,aAAA,IAAI,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC;aAC5B,IAAI,CAAC,WAAW,EAAE,CAAc,WAAA,EAAA,IAAI,CAAC,MAAM,CAAC,IAAI,CAAM,IAAA,CAAA,CAAC,CAAC;QAE3D,IAAI,CAAC,WAAW,EAAE,CAAC;AAEnB,QAAA,MAAM,EAAE,CAAC;KACV;AAED,IAAA,WAAW,CAAC,OAAsB,EAAA;QAChC,IAAI,OAAO,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE;YAC7C,IAAI,CAAC,WAAW,EAAE,CAAC;AACpB,SAAA;KACF;IAED,WAAW,GAAA;QACT,IAAI,IAAI,CAAC,OAAO;AAAE,YAAA,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;KACzC;;qHAvgBU,wBAAwB,EAAA,IAAA,EAAA,CAAA,EAAA,KAAA,EAAAC,kBAAA,EAAA,EAAA,EAAA,KAAA,EAAA,EAAA,CAAA,UAAA,EAAA,EAAA,EAAA,KAAA,EAAA,EAAA,CAAA,gBAAA,EAAA,EAAA,EAAA,KAAA,EAAA,EAAA,CAAA,QAAA,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;AAAxB,wBAAA,CAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,wBAAwB,u3CAJzB,CAAE,CAAA,EAAA,QAAA,EAAA,IAAA,EAAA,eAAA,EAAA,EAAA,CAAA,uBAAA,CAAA,MAAA,EAAA,CAAA,CAAA;2FAID,wBAAwB,EAAA,UAAA,EAAA,CAAA;kBANpC,SAAS;AACE,YAAA,IAAA,EAAA,CAAA,EAAA,QAAA,EAAA,mBAAmB,EACnB,QAAA,EAAA,CAAA,CAAE,EAEK,eAAA,EAAA,uBAAuB,CAAC,MAAM,EAAA,CAAA;qLAI/C,UAAU,EAAA,CAAA;sBADT,WAAW;uBAAC,kBAAkB,CAAA;gBAI/B,SAAS,EAAA,CAAA;sBADR,WAAW;uBAAC,uBAAuB,CAAA;gBAIpC,IAAI,EAAA,CAAA;sBADH,KAAK;gBAIN,KAAK,EAAA,CAAA;sBADJ,KAAK;gBAIN,MAAM,EAAA,CAAA;sBADL,KAAK;gBAIN,IAAI,EAAA,CAAA;sBADH,KAAK;gBAIN,IAAI,EAAA,CAAA;sBADH,KAAK;gBAIN,SAAS,EAAA,CAAA;sBADR,KAAK;gBAIN,iBAAiB,EAAA,CAAA;sBADhB,KAAK;gBAIN,UAAU,EAAA,CAAA;sBADT,KAAK;gBAIN,UAAU,EAAA,CAAA;sBADT,KAAK;gBAIN,iBAAiB,EAAA,CAAA;sBADhB,KAAK;gBAIN,UAAU,EAAA,CAAA;sBADT,KAAK;gBAIN,cAAc,EAAA,CAAA;sBADb,KAAK;gBAIN,cAAc,EAAA,CAAA;sBADb,KAAK;gBAIN,SAAS,EAAA,CAAA;sBADR,KAAK;gBAIN,SAAS,EAAA,CAAA;sBADR,KAAK;gBAIN,UAAU,EAAA,CAAA;sBADT,KAAK;gBAIN,WAAW,EAAA,CAAA;sBADV,KAAK;gBAIN,cAAc,EAAA,CAAA;sBADb,KAAK;gBAIN,qBAAqB,EAAA,CAAA;sBADpB,KAAK;gBAIN,uBAAuB,EAAA,CAAA;sBADtB,KAAK;gBAIN,0BAA0B,EAAA,CAAA;sBADzB,KAAK;gBAIN,oBAAoB,EAAA,CAAA;sBADnB,KAAK;gBAIN,sBAAsB,EAAA,CAAA;sBADrB,KAAK;gBAIN,wBAAwB,EAAA,CAAA;sBADvB,KAAK;gBAIN,sBAAsB,EAAA,CAAA;sBADrB,KAAK;gBAIN,wBAAwB,EAAA,CAAA;sBADvB,KAAK;gBAIN,SAAS,EAAA,CAAA;sBADR,KAAK;gBAIN,WAAW,EAAA,CAAA;sBADV,KAAK;gBAIN,YAAY,EAAA,CAAA;sBADX,KAAK;gBAIN,UAAU,EAAA,CAAA;sBADT,KAAK;gBAIN,KAAK,EAAA,CAAA;sBADJ,KAAK;gBAIN,WAAW,EAAA,CAAA;sBADV,KAAK;gBAIN,WAAW,EAAA,CAAA;sBADV,KAAK;gBAGG,UAAU,EAAA,CAAA;sBAAlB,KAAK;gBAGN,OAAO,EAAA,CAAA;sBADN,MAAM;gBAIP,OAAO,EAAA,CAAA;sBADN,MAAM;gBAIP,cAAc,EAAA,CAAA;sBADb,MAAM;gBAIP,cAAc,EAAA,CAAA;sBADb,MAAM;;;MC7II,yBAAyB,CAAA;IA8CpC,WAAoB,CAAA,QAA4B,EAAU,QAAoB,EAAA;QAA1D,IAAQ,CAAA,QAAA,GAAR,QAAQ,CAAoB;QAAU,IAAQ,CAAA,QAAA,GAAR,QAAQ,CAAY;QA5C9E,IAAU,CAAA,UAAA,GAAG,IAAI,CAAC;QAGlB,IAAU,CAAA,UAAA,GAAG,IAAI,CAAC;QAMlB,IAAK,CAAA,KAAA,GAAG,GAAG,CAAC;QAGZ,IAAI,CAAA,IAAA,GAAwC,UAAU,CAAC;QAGvD,IAAK,CAAA,KAAA,GAAG,SAAS,CAAC;QAGlB,IAAS,CAAA,SAAA,GAAG,KAAK,CAAC;QAGlB,IAAiB,CAAA,iBAAA,GAAG,EAAE,CAAC;QAMvB,IAAU,CAAA,UAAA,GAAG,EAAE,CAAC;QAeR,IAAiB,CAAA,iBAAA,GAAG,CAAC,CAAC;AAoD9B,QAAA,IAAA,CAAA,gBAAgB,GAAG,CAAC,MAAM,KAAI;YAC5B,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,EAAE,IAAI,GAAG,CAAC;AAClC,SAAC,CAAC;QAEF,IAAe,CAAA,eAAA,GAAG,MAAK;YACrB,MAAM,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AAElF,YAAA,OAAO,UAAU,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AACtG,SAAC,CAAC;AAEF,QAAA,IAAA,CAAA,cAAc,GAAG,CAAC,IAAI,KAAI;YACxB,MAAM,KAAK,GAAG,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YACrD,MAAM,GAAG,GAAG,KAAK,GAAG,CAAC,IAAI,IAAI,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,KAAK,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;YAEjG,OAAO;AACL,gBAAA;AACE,oBAAA,UAAU,EAAE,KAAK;AACjB,oBAAA,QAAQ,EAAE,GAAG;AACd,iBAAA;aACF,CAAC;AACJ,SAAC,CAAC;QAEF,IAAS,CAAA,SAAA,GAAG,MAAK;AACf,YAAA,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC;;AAG/D,YAAA,IAAI,CAAC,KAAK;iBACP,MAAM,CAAC,MAAM,CAAC;iBACd,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AAC7C,iBAAA,IAAI,CAAC,OAAO,EAAE,kBAAkB,CAAC;AACjC,iBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,KAAI;gBACf,OAAO,IAAI,CAAC,GAAG,CAAC;AACd,oBAAA,WAAW,EAAE,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU;oBAC1C,WAAW,EAAE,IAAI,CAAC,MAAM;oBACxB,UAAU,EAAE,CAAC,CAAC,UAAU;oBACxB,QAAQ,EAAE,CAAC,CAAC,QAAQ;AACrB,iBAAA,CAAC,CAAC;AACL,aAAC,CAAC,CAAC;;AAGL,YAAA,IAAI,CAAC,KAAK;iBACP,MAAM,CAAC,MAAM,CAAC;iBACd,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,CAAC;AACjD,iBAAA,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC;AAC5B,iBAAA,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC;AACxB,iBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,KAAI;gBACf,OAAO,IAAI,CAAC,GAAG,CAAC;AACd,oBAAA,WAAW,EAAE,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU;oBAC1C,WAAW,EAAE,IAAI,CAAC,MAAM;oBACxB,UAAU,EAAE,CAAC,CAAC,UAAU;oBACxB,QAAQ,EAAE,CAAC,CAAC,QAAQ;AACrB,iBAAA,CAAC,CAAC;AACL,aAAC,CAAC,CAAC;YAEL,QAAQ,IAAI,CAAC,IAAI;AACf,gBAAA,KAAK,WAAW;AACd,oBAAA,MAAM,QAAQ,GAAkB,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;oBAEhE,MAAM,OAAO,GAAG,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;oBACpD,OAAO,CAAC,YAAY,CAAC,OAAO,EAAE,qCAAqC,CAAC,CAAC;oBAErE,MAAM,SAAS,GAAQ,OAAO,CAAC,sBAAsB,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;AACxE,oBAAA,MAAM,OAAO,GAAG,SAAS,CAAC,OAAO,EAAE,CAAC;AAEpC,oBAAA,IAAI,CAAC,GAAG;AACL,yBAAA,IAAI,CAAC,QAAQ,EAAE,OAAO,CAAC,MAAM,CAAC;yBAC9B,IAAI,CAAC,SAAS,EAAE,CAAI,CAAA,EAAA,IAAI,CAAC,KAAK,GAAG,CAAC,CAAA,EAAA,EAAK,IAAI,CAAC,KAAK,GAAG,CAAC,CAAI,CAAA,EAAA,IAAI,CAAC,KAAK,CAAI,CAAA,EAAA,OAAO,CAAC,MAAM,CAAE,CAAA,CAAC,CAAC;AAE5F,oBAAA,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,UAAU,CAAC;AAEzC,oBAAA,OAAO,CAAC,MAAM,EAAE,CAAC;oBACjB,MAAM;AACR,gBAAA,KAAK,UAAU;AACb,oBAAA,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;AACxC,oBAAA,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,EAAE,CAAA,CAAA,EAAI,IAAI,CAAC,KAAK,GAAG,CAAC,CAAK,EAAA,EAAA,IAAI,CAAC,KAAK,GAAG,CAAC,CAAI,CAAA,EAAA,IAAI,CAAC,KAAK,CAAA,CAAA,EAAI,IAAI,CAAC,KAAK,GAAG,CAAC,CAAA,CAAE,CAAC,CAAC;oBAClG,MAAM;AACT,aAAA;AACH,SAAC,CAAC;QAEF,IAAW,CAAA,WAAA,GAAG,MAAK;YACjB,MAAM,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;YAE9C,KAAK,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC,UAAU,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,eAAe,EAAE,CAAC,CAAC;YAEpG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;YAErD,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AACnF,SAAC,CAAC;AAEF,QAAA,IAAA,CAAA,QAAQ,GAAG,CAAC,UAAU,EAAE,KAAK,KAAI;YAC/B,MAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;YAE5C,UAAU,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,CAAC,KAAI;AAC9B,gBAAA,MAAMN,aAAW,GAAGD,WAAc,CAAC,CAAC,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;gBAErE,OAAO,CAAC,CAAC,KAAI;AACX,oBAAA,CAAC,CAAC,QAAQ,GAAGC,aAAW,CAAC,CAAC,CAAC,CAAC;oBAE5B,OAAO,IAAI,CAAC,GAAG,CAAC;AACd,wBAAA,WAAW,EAAE,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU;wBAC1C,WAAW,EAAE,IAAI,CAAC,MAAM;wBACxB,UAAU,EAAE,CAAC,CAAC,UAAU;wBACxB,QAAQ,EAAE,CAAC,CAAC,QAAQ;AACrB,qBAAA,CAAC,CAAC;AACL,iBAAC,CAAC;AACJ,aAAC,CAAC,CAAC;AACL,SAAC,CAAC;AAEF,QAAA,IAAA,CAAA,SAAS,GAAG,CAAC,UAAU,EAAE,KAAK,KAAI;YAChC,KAAK,GAAGJ,QAAS,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC;YAChC,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;AAEjC,YAAA,UAAU,CAAC,KAAK,CAAC,MAAM,EAAE,MAAK;AAC5B,gBAAA,MAAMI,aAAW,GAAGD,WAAc,CAACH,QAAS,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,KAAK,CAAC,CAAC;gBAE5E,OAAO,CAAC,CAAC,KAAI;oBACX,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,KAAI;wBACzB,MAAM,aAAa,GAAG,IAAI,CAAC,WAAW,CAACI,aAAW,CAAC,CAAC,CAAC,CAAC,CAAC;AACvD,wBAAA,IAAI,CAAC,KAAK,GAAG,aAAa,CAAC;AAC3B,wBAAA,OAAO,aAAa,CAAC;AACvB,qBAAC,CAAC,CAAC;AACL,iBAAC,CAAC;AACJ,aAAC,CAAC,CAAC;AACL,SAAC,CAAC;KA7KgF;IAElF,QAAQ,GAAA;AACN,QAAA,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC;AACzB,QAAA,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QACpD,IAAI,CAAC,WAAW,GAAGJ,QAAS,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;AACrD,QAAA,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAE/C,QAAQ,IAAI,CAAC,IAAI;AACf,YAAA,KAAK,UAAU;AACb,gBAAA,IAAI,CAAC,UAAU,GAAG,CAAC,EAAE,CAAC;AACtB,gBAAA,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;AACnB,gBAAA,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;gBACpB,MAAM;AAER,YAAA,KAAK,WAAW;AACd,gBAAA,IAAI,CAAC,UAAU,GAAG,CAAC,GAAG,CAAC;AACvB,gBAAA,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC;AACpB,gBAAA,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;gBACpB,MAAM;AAER,YAAA,KAAK,QAAQ;AACX,gBAAA,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;AACpB,gBAAA,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC;AACpB,gBAAA,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;gBACrB,MAAM;AACT,SAAA;QAED,IAAI,CAAC,GAAG,GAAGQ,GAAM,EAAE,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC;AAErE,QAAA,IAAI,CAAC,KAAK,GAAGC,MAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;AAEhF,QAAA,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,KAAK;aAClB,MAAM,CAAC,KAAK,CAAC;AACb,aAAA,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC;AACzB,aAAA,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC;AAC3B,aAAA,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;AAC1B,aAAA,IAAI,CAAC,qBAAqB,EAAE,eAAe,CAAC;aAC5C,IAAI,CAAC,SAAS,EAAE,CAAI,CAAA,EAAA,IAAI,CAAC,KAAK,GAAG,CAAC,CAAA,EAAA,EAAK,IAAI,CAAC,MAAM,GAAG,CAAC,CAAI,CAAA,EAAA,IAAI,CAAC,KAAK,CAAI,CAAA,EAAA,IAAI,CAAC,MAAM,CAAE,CAAA,CAAC,CAAC;QAE1F,IAAI,CAAC,SAAS,EAAE,CAAC;KAClB;AAED,IAAA,WAAW,CAAC,OAAsB,EAAA;QAChC,IAAI,OAAO,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE;YAC7C,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC;YACjD,IAAI,CAAC,WAAW,EAAE,CAAC;AACpB,SAAA;KACF;;sHA9FU,yBAAyB,EAAA,IAAA,EAAA,CAAA,EAAA,KAAA,EAAAC,kBAAA,EAAA,EAAA,EAAA,KAAA,EAAA,EAAA,CAAA,UAAA,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;AAAzB,yBAAA,CAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,yBAAyB,EAb1B,QAAA,EAAA,oBAAA,EAAA,MAAA,EAAA,EAAA,IAAA,EAAA,MAAA,EAAA,KAAA,EAAA,OAAA,EAAA,IAAA,EAAA,MAAA,EAAA,KAAA,EAAA,OAAA,EAAA,SAAA,EAAA,WAAA,EAAA,iBAAA,EAAA,mBAAA,EAAA,WAAA,EAAA,aAAA,EAAA,UAAA,EAAA,YAAA,EAAA,EAAA,IAAA,EAAA,EAAA,UAAA,EAAA,EAAA,kBAAA,EAAA,iBAAA,EAAA,wBAAA,EAAA,iBAAA,EAAA,EAAA,EAAA,aAAA,EAAA,IAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,EAAA,CAAA;;;;;;;;;;AAUT,EAAA,CAAA,EAAA,QAAA,EAAA,IAAA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,QAAA,EAAA,WAAA,EAAA,MAAA,EAAA,CAAA,OAAA,EAAA,SAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,IAAA,EAAA,QAAA,EAAA,QAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,UAAA,EAAA,UAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,QAAA,EAAA,WAAA,EAAA,MAAA,EAAA,CAAA,SAAA,CAAA,EAAA,CAAA,EAAA,CAAA,CAAA;2FAGU,yBAAyB,EAAA,UAAA,EAAA,CAAA;kBAfrC,SAAS;AACE,YAAA,IAAA,EAAA,CAAA,EAAA,QAAA,EAAA,oBAAoB,EACpB,QAAA,EAAA,CAAA;;;;;;;;;;AAUT,EAAA,CAAA,EAAA,CAAA;+HAKD,UAAU,EAAA,CAAA;sBADT,WAAW;uBAAC,kBAAkB,CAAA;gBAI/B,UAAU,EAAA,CAAA;sBADT,WAAW;uBAAC,wBAAwB,CAAA;gBAIrC,IAAI,EAAA,CAAA;sBADH,KAAK;gBAIN,KAAK,EAAA,CAAA;sBADJ,KAAK;gBAIN,IAAI,EAAA,CAAA;sBADH,KAAK;gBAIN,KAAK,EAAA,CAAA;sBADJ,KAAK;gBAIN,SAAS,EAAA,CAAA;sBADR,KAAK;gBAIN,iBAAiB,EAAA,CAAA;sBADhB,KAAK;gBAIN,WAAW,EAAA,CAAA;sBADV,KAAK;gBAIN,UAAU,EAAA,CAAA;sBADT,KAAK;;;MC7BK,6BAA6B,CAAA;AAsCxC,IAAA,WAAA,CAAoB,QAAoB,EAAA;QAApB,IAAQ,CAAA,QAAA,GAAR,QAAQ,CAAY;QApCxC,IAAU,CAAA,UAAA,GAAG,IAAI,CAAC;QAGlB,IAAc,CAAA,cAAA,GAAG,IAAI,CAAC;QAGtB,IAAI,CAAA,IAAA,GAA2B,EAAE,CAAC;QAGlC,IAAK,CAAA,KAAA,GAAG,GAAG,CAAC;QAGZ,IAAM,CAAA,MAAA,GAAG,EAAE,CAAC;QAGZ,IAAI,CAAA,IAAA,GAAwD,MAAM,CAAC;QAGnE,IAAK,CAAA,KAAA,GAAG,SAAS,CAAC;AAGlB,QAAA,IAAA,CAAA,aAAa,GAAkB,IAAI,CAAC;AAGpC,QAAA,IAAA,CAAA,WAAW,GAAG,CAAC,CAAC;QAGhB,IAAc,CAAA,cAAA,GAAG,CAAC,CAAC;QAGnB,IAAc,CAAA,cAAA,GAAG,CAAC,CAAC;KAMyB;IAE5C,QAAQ,GAAA;QACN,IAAI,CAAC,MAAM,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC;AAEvD,QAAA,IAAI,IAAI,CAAC,IAAI,KAAK,KAAK,EAAE;YACvB,IAAI,CAAC,MAAM,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC;AACxD,SAAA;QAED,IAAI,IAAI,CAAC,IAAI,KAAK,WAAW,IAAI,IAAI,CAAC,IAAI,KAAK,WAAW,EAAE;AAC1D,YAAA,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;AACtB,SAAA;AAED,QAAA,IAAI,IAAI,CAAC,aAAa,KAAK,IAAI,EAAE;AAC/B,YAAA,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC;AACjC,SAAA;AAED,QAAA,IAAI,CAAC,KAAK,GAAGD,MAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;AAEhF,QAAA,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,KAAK;aAClB,MAAM,CAAC,KAAK,CAAC;AACb,aAAA,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC;AACzB,aAAA,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC;AAC3B,aAAA,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;AAC1B,aAAA,IAAI,CAAC,qBAAqB,EAAE,eAAe,CAAC;aAC5C,IAAI,CAAC,SAAS,EAAE,CAAI,CAAA,EAAA,IAAI,CAAC,MAAM,CAAC,IAAI,CAAA,EAAA,EAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAI,CAAA,EAAA,IAAI,CAAC,KAAK,CAAI,CAAA,EAAA,IAAI,CAAC,MAAM,CAAE,CAAA,CAAC,CAAC;QAE5F,IAAI,IAAI,CAAC,IAAI,KAAK,MAAM,IAAI,IAAI,CAAC,IAAI,KAAK,WAAW,IAAI,IAAI,CAAC,IAAI,KAAK,MAAM,IAAI,IAAI,CAAC,IAAI,KAAK,WAAW,EAAE;AAC1G,YAAA,IAAI,CAAC,GAAG;iBACL,MAAM,CAAC,MAAM,CAAC;AACd,iBAAA,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;AAC1B,iBAAA,IAAI,CAAC,MAAM,EAAE,MAAM,CAAC;AACpB,iBAAA,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,WAAW,CAAC;AACtC,iBAAA,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;AAC/B,SAAA;QAED,IAAI,IAAI,CAAC,IAAI,KAAK,MAAM,IAAI,IAAI,CAAC,IAAI,KAAK,WAAW,EAAE;AACrD,YAAA,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,cAAc,EAAE,GAAG,CAAC,CAAC;AACvG,SAAA;QAED,IAAI,CAAC,WAAW,EAAE,CAAC;KACpB;AAED,IAAA,WAAW,CAAC,OAAsB,EAAA;QAChC,IAAI,OAAO,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE;YAC7C,IAAI,CAAC,WAAW,EAAE,CAAC;AACpB,SAAA;KACF;IAED,WAAW,GAAA;AACT,QAAA,MAAM,IAAI,GAAQ,IAAI,CAAC,IAAI,CAAC;QAE5B,MAAM,CAAC,GAAGM,WAAc,EAAE;aACvB,MAAM,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aAC7B,KAAK,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;QAEjE,MAAM,CAAC,GAAGA,WAAc,EAAE;aACvB,MAAM,CAAC,CAAC,CAACJ,GAAM,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,cAAc,EAAE,CAACC,GAAM,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC;aAClF,KAAK,CAAC,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC;QAElE,MAAMiB,MAAI,GAAGL,IAAO,EAAE;AACnB,aAAA,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;aACjB,CAAC,CAAC,CAAC,CAAM,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAEvB,MAAMM,MAAI,GAAGJ,IAAO,EAAE;AACnB,aAAA,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;AACjB,aAAA,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC;aACf,EAAE,CAAC,CAAC,CAAM,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAExB,IAAI,IAAI,CAAC,IAAI,KAAK,MAAM,IAAI,IAAI,CAAC,IAAI,KAAK,WAAW,IAAI,IAAI,CAAC,IAAI,KAAK,MAAM,IAAI,IAAI,CAAC,IAAI,KAAK,WAAW,EAAE;AAC1G,YAAA,IAAI,CAAC,GAAG;iBACL,SAAS,CAAC,YAAY,CAAC;AACvB,iBAAA,UAAU,EAAE;iBACZ,QAAQ,CAAC,IAAI,CAAC;iBACd,IAAI,CAAC,GAAG,EAAE,MAAMG,MAAI,CAAC,IAAI,CAAC,CAAC,CAAC;AAChC,SAAA;QAED,IAAI,IAAI,CAAC,IAAI,KAAK,MAAM,IAAI,IAAI,CAAC,IAAI,KAAK,WAAW,EAAE;AACrD,YAAA,IAAI,CAAC,GAAG;iBACL,SAAS,CAAC,YAAY,CAAC;AACvB,iBAAA,UAAU,EAAE;iBACZ,QAAQ,CAAC,IAAI,CAAC;iBACd,IAAI,CAAC,GAAG,EAAE,MAAMC,MAAI,CAAC,IAAI,CAAC,CAAC,CAAC;AAChC,SAAA;AAED,QAAA,IAAI,IAAI,CAAC,IAAI,KAAK,KAAK,EAAE;AACvB,YAAA,MAAM,QAAQ,GAAG,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;;AAGpE,YAAA,IAAI,CAAC,GAAG;iBACL,SAAS,CAAC,WAAW,CAAC;AACtB,iBAAA,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;AACf,iBAAA,IAAI,CACH,CAAC,KAAK,KACJ,KAAK;iBACF,MAAM,CAAC,MAAM,CAAC;AACd,iBAAA,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC;AACzB,iBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;AACzB,iBAAA,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,MAAM,CAAC;AACtB,iBAAA,IAAI,CAAC,OAAO,EAAE,QAAQ,CAAC;iBACvB,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC;AAC9D,iBAAA,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;AACjB,iBAAA,IAAI,CAAC,CAAC,KAAK,KAAI;gBACd,KAAK;AACF,qBAAA,UAAU,EAAE;qBACZ,QAAQ,CAAC,IAAI,CAAC;qBACd,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;qBACvC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAEhD,gBAAA,OAAO,KAAK,CAAC;AACf,aAAC,CAAC,EACN,CAAC,MAAM,KACL,MAAM;AACH,iBAAA,UAAU,EAAE;iBACZ,QAAQ,CAAC,IAAI,CAAC;AACd,iBAAA,SAAS,EAAE;AACX,iBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;iBACzB,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACvC,iBAAA,IAAI,CAAC,OAAO,EAAE,QAAQ,CAAC;iBACvB,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC5C,iBAAA,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,EACnE,CAAC,IAAI,KAAK,IAAI,CAAC,MAAM,EAAE,CACxB,CAAC;AACL,SAAA;KACF;;0HAlKU,6BAA6B,EAAA,IAAA,EAAA,CAAA,EAAA,KAAA,EAAA,EAAA,CAAA,UAAA,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;AAA7B,6BAAA,CAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,6BAA6B,maAJ9B,CAAE,CAAA,EAAA,QAAA,EAAA,IAAA,EAAA,eAAA,EAAA,EAAA,CAAA,uBAAA,CAAA,MAAA,EAAA,CAAA,CAAA;2FAID,6BAA6B,EAAA,UAAA,EAAA,CAAA;kBANzC,SAAS;AACE,YAAA,IAAA,EAAA,CAAA,EAAA,QAAA,EAAA,wBAAwB,EACxB,QAAA,EAAA,CAAA,CAAE,EAEK,eAAA,EAAA,uBAAuB,CAAC,MAAM,EAAA,CAAA;iGAI/C,UAAU,EAAA,CAAA;sBADT,WAAW;uBAAC,kBAAkB,CAAA;gBAI/B,cAAc,EAAA,CAAA;sBADb,WAAW;uBAAC,4BAA4B,CAAA;gBAIzC,IAAI,EAAA,CAAA;sBADH,KAAK;gBAIN,KAAK,EAAA,CAAA;sBADJ,KAAK;gBAIN,MAAM,EAAA,CAAA;sBADL,KAAK;gBAIN,IAAI,EAAA,CAAA;sBADH,KAAK;gBAIN,KAAK,EAAA,CAAA;sBADJ,KAAK;gBAIN,aAAa,EAAA,CAAA;sBADZ,KAAK;gBAIN,WAAW,EAAA,CAAA;sBADV,KAAK;gBAIN,cAAc,EAAA,CAAA;sBADb,KAAK;gBAIN,cAAc,EAAA,CAAA;sBADb,KAAK;;;MCvBK,8BAA8B,CAAA;AAoKzC,IAAA,WAAA,CAAoB,QAA4B,EAAU,QAAoB,EAAU,OAAyB,EAAA;QAA7F,IAAQ,CAAA,QAAA,GAAR,QAAQ,CAAoB;QAAU,IAAQ,CAAA,QAAA,GAAR,QAAQ,CAAY;QAAU,IAAO,CAAA,OAAA,GAAP,OAAO,CAAkB;QAlKjH,IAAU,CAAA,UAAA,GAAG,IAAI,CAAC;QAGlB,IAAe,CAAA,eAAA,GAAG,IAAI,CAAC;QAMvB,IAAK,CAAA,KAAA,GAAG,GAAG,CAAC;QAGZ,IAAM,CAAA,MAAA,GAAG,GAAG,CAAC;AAGb,QAAA,IAAA,CAAA,IAAI,GAAwC,QAAQ,CAAC;AAGrD,QAAA,IAAA,CAAA,SAAS,GAAG,EAAE,CAAC;AAGf,QAAA,IAAA,CAAA,WAAW,GAAG,CAAC,CAAC;AAGhB,QAAA,IAAA,CAAA,YAAY,GAAG,EAAE,CAAC;AAGlB,QAAA,IAAA,CAAA,UAAU,GAAG,EAAE,CAAC;QAGhB,IAAS,CAAA,SAAA,GAAG,KAAK,CAAC;QAGlB,IAAe,CAAA,eAAA,GAAsB,IAAI,CAAC;QAG1C,IAAiB,CAAA,iBAAA,GAAG,EAAE,CAAC;QAGvB,IAAU,CAAA,UAAA,GAAkB,IAAI,CAAC;QAGjC,IAAe,CAAA,eAAA,GAAsB,IAAI,CAAC;QAG1C,IAAiB,CAAA,iBAAA,GAAG,EAAE,CAAC;QAGvB,IAAU,CAAA,UAAA,GAAG,CAAC,CAAC;QAGf,IAAc,CAAA,cAAA,GAAG,IAAI,CAAC;QAGtB,IAAU,CAAA,UAAA,GAAG,KAAK,CAAC;AAGnB,QAAA,IAAA,CAAA,WAAW,GAAG,GAAG,GAAG,EAAE,CAAC;QAGvB,IAAc,CAAA,cAAA,GAAuB,QAAQ,CAAC;QAG9C,IAAqB,CAAA,qBAAA,GAAsB,IAAI,CAAC;QAGhD,IAAuB,CAAA,uBAAA,GAAG,EAAE,CAAC;QAG7B,IAAwB,CAAA,wBAAA,GAAW,IAAI,CAAC;QAGxC,IAA0B,CAAA,0BAAA,GAAG,EAAE,CAAC;QAGhC,IAAoB,CAAA,oBAAA,GAAG,EAAE,CAAC;QAG1B,IAA6B,CAAA,6BAAA,GAAa,IAAI,CAAC;QAG/C,IAA+B,CAAA,+BAAA,GAAG,EAAE,CAAC;QAGrC,IAAsB,CAAA,sBAAA,GAAW,IAAI,CAAC;QAGtC,IAAwB,CAAA,wBAAA,GAAG,EAAE,CAAC;QAG9B,IAAsB,CAAA,sBAAA,GAAa,IAAI,CAAC;QAGxC,IAAwB,CAAA,wBAAA,GAAG,EAAE,CAAC;QAM9B,IAAW,CAAA,WAAA,GAAY,KAAK,CAAC;QAG7B,IAAW,CAAA,WAAA,GAAG,EAAE,CAAC;QAIR,IAAW,CAAA,WAAA,GAAG,IAAI,CAAC;QACnB,IAAW,CAAA,WAAA,GAAG,KAAK,CAAC;AAG7B,QAAA,IAAA,CAAA,OAAO,GAAyB,IAAI,YAAY,EAAU,CAAC;AAG3D,QAAA,IAAA,CAAA,OAAO,GAAyB,IAAI,YAAY,EAAU,CAAC;AAoU3D,QAAA,IAAA,CAAA,WAAW,GAAG,CAAC,QAAQ,GAAG,IAAI,KAAI;YAChC,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,KAAK,IAAI,KAAK,KAAK,CAAC,CAAC;;YAG3E,IAAI,IAAI,CAAC,WAAW,EAAE;gBACpB,IAAI,CAAC,SAAS,GAAGC,KAAQ,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACzF,aAAA;AAAM,iBAAA;gBACL,IAAI,CAAC,SAAS,GAAGA,KAAQ,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,KAAK,CAACC,cAAiB,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACrF,aAAA;;YAGD,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;;AAGpD,YAAA,IAAI,CAAC,QAAQ,GAAGrB,GAAM,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,IAAS,KAAI;AACnD,gBAAA,OAAOA,GAAM,CAAC,IAAI,EAAE,CAAC,CAAM,KAAI;AAC7B,oBAAA,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;AACd,iBAAC,CAAC,CAAC;AACL,aAAC,CAAC,CAAC;AACH,YAAA,IAAI,CAAC,QAAQ,GAAGC,GAAM,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,IAAS,KAAI;AACnD,gBAAA,OAAOA,GAAM,CAAC,IAAI,EAAE,CAAC,CAAM,KAAI;AAC7B,oBAAA,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;AACd,iBAAC,CAAC,CAAC;AACL,aAAC,CAAC,CAAC;AAEH,YAAA,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC;AAEpE,YAAA,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;AAE3F,YAAA,IAAI,CAAC,KAAK;AACP,iBAAA,UAAU,EAAE;AACZ,iBAAA,QAAQ,CAAC,IAAI,CAAC;AACd,iBAAA,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AAExB,YAAA,IAAI,CAAC,KAAK;AACP,iBAAA,UAAU,EAAE;AACZ,iBAAA,QAAQ,CAAC,IAAI,CAAC;AACd,iBAAA,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;;AAGxB,YAAA,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;AACnB,gBAAA,IAAI,CAAC,KAAK;AACP,qBAAA,UAAU,EAAE;AACZ,qBAAA,QAAQ,CAAC,IAAI,CAAC;AACd,qBAAA,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AACzB,aAAA;AAED,YAAA,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;AACnB,gBAAA,IAAI,CAAC,KAAK;AACP,qBAAA,UAAU,EAAE;AACZ,qBAAA,QAAQ,CAAC,IAAI,CAAC;AACd,qBAAA,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AACzB,aAAA;YAED,IAAI,IAAI,CAAC,WAAW,EAAE;AACpB,gBAAA,IAAI,CAAC,UAAU;AACZ,qBAAA,UAAU,EAAE;AACZ,qBAAA,QAAQ,CAAC,IAAI,CAAC;AACd,qBAAA,IAAI,CAAC,WAAW,EAAE,CAAA,cAAA,EAAiB,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAG,CAAA,CAAA,CAAC,CAAC;AAC9D,aAAA;;AAGD,YAAA,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;AACtB,gBAAA,IAAI,CAAC,QAAQ;qBACV,SAAS,CAAC,WAAW,CAAC;AACtB,qBAAA,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;AACf,qBAAA,IAAI,CACH,CAAC,KAAK,KACJ,KAAK;qBACF,MAAM,CAAC,MAAM,CAAC;AACd,qBAAA,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC;AACzB,qBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;qBACxC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;AAC1C,qBAAA,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,EAChC,CAAC,MAAM,KACL,MAAM;AACH,qBAAA,UAAU,EAAE;qBACZ,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,MAAM,QAAQ,GAAG,CAAC,GAAG,IAAI,CAAC,CAAC;AAC5C,qBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;qBACxC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;AAC1C,qBAAA,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC;AAC3B,qBAAA,SAAS,EAAE,EAChB,CAAC,IAAI,KAAK,IAAI,CAAC,MAAM,EAAE,CACxB,CAAC;AACL,aAAA;;AAGD,YAAA,MAAM,SAAS,GAAG,IAAI,CAAC,IAAI;iBACxB,SAAS,CAAC,YAAY,CAAC;AACvB,iBAAA,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC;AACpB,iBAAA,IAAI,CACH,CAAC,KAAK,KACJ,KAAK;iBACF,MAAM,CAAC,GAAG,CAAC;AACX,iBAAA,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;iBAC1B,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAClD,CAAC,MAAM,KAAK,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAChE,CAAC,IAAI,KAAK,IAAI,CAAC,MAAM,EAAE,CACxB,CAAC;YAEJ,SAAS;iBACN,SAAS,CAAC,MAAM,CAAC;AACjB,iBAAA,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AACd,iBAAA,IAAI,CACH,CAAC,KAAK,KACJ,KAAK;iBACF,MAAM,CAAC,MAAM,CAAC;AACd,iBAAA,IAAI,CAAC,OAAO,EAAE,KAAK,CAAC;iBACpB,OAAO,CAAC,aAAa,EAAE,IAAI,CAAC,IAAI,KAAK,MAAM,CAAC;iBAC5C,OAAO,CAAC,iBAAiB,EAAE,IAAI,CAAC,IAAI,KAAK,KAAK,CAAC;iBAC/C,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,KAAI;AAClB,gBAAA,IAAI,CAAC,CAAC;AAEN,gBAAA,IAAI,IAAI,CAAC,IAAI,KAAK,QAAQ,EAAE;oBAC1B,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC;AACzE,iBAAA;AAAM,qBAAA;oBACL,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC;AACzE,iBAAA;AAED,gBAAA,OAAO,CAAC,CAAC;AACX,aAAC,CAAC;AACD,iBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACvC,iBAAA,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,KAAI;AACnB,gBAAA,IAAI,KAAK,CAAC;AAEV,gBAAA,IAAI,IAAI,CAAC,IAAI,KAAK,QAAQ,EAAE;oBAC1B,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC;AACzC,iBAAA;AAAM,qBAAA;oBACL,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC;AACzC,iBAAA;AAED,gBAAA,OAAO,KAAK,CAAC;AACf,aAAC,CAAC;AACD,iBAAA,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;AACjB,iBAAA,IAAI,CAAC,CAAC,KAAK,KAAI;gBACd,KAAK;AACF,qBAAA,UAAU,EAAE;qBACZ,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,MAAM,QAAQ,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC;qBAC3C,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,MAAM,QAAQ,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC;AACxC,qBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACvC,qBAAA,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,KAAI;AACpB,oBAAA,OAAO,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACvD,iBAAC,CAAC,CAAC;AAEL,gBAAA,OAAO,KAAK,CAAC;AACf,aAAC,CAAC,EACN,CAAC,MAAM,KACL,MAAM,CAAC,IAAI,CAAC,CAAC,MAAM,KAAI;gBACrB,MAAM;AACH,qBAAA,UAAU,EAAE;qBACZ,QAAQ,CAAC,IAAI,CAAC;AACd,qBAAA,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,KAAI;AACnB,oBAAA,IAAI,KAAK,CAAC;AAEV,oBAAA,IAAI,IAAI,CAAC,IAAI,KAAK,QAAQ,EAAE;wBAC1B,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC;AACzC,qBAAA;AAAM,yBAAA;wBACL,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC;AACzC,qBAAA;AAED,oBAAA,OAAO,KAAK,CAAC;AACf,iBAAC,CAAC;qBACD,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,KAAI;AAClB,oBAAA,IAAI,CAAC,CAAC;AAEN,oBAAA,IAAI,IAAI,CAAC,IAAI,KAAK,QAAQ,EAAE;wBAC1B,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC;AACzE,qBAAA;AAAM,yBAAA;wBACL,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC;AACzE,qBAAA;AAED,oBAAA,OAAO,CAAC,CAAC;AACX,iBAAC,CAAC;AACD,qBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;qBACvC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACpE,qBAAA,SAAS,EAAE,CAAC;AAEf,gBAAA,OAAO,MAAM,CAAC;AAChB,aAAC,CAAC,EAEJ,CAAC,IAAI,KAAK,IAAI,CAAC,MAAM,EAAE,CACxB,CAAC;;AAGJ,YAAA,IAAI,CAAC,SAAS;iBACX,SAAS,CAAC,gBAAgB,CAAC;AAC3B,iBAAA,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;AACf,iBAAA,IAAI,CACH,CAAC,KAAK,KACJ,KAAK;iBACF,MAAM,CAAC,MAAM,CAAC;AACd,iBAAA,IAAI,CAAC,OAAO,EAAE,eAAe,CAAC;AAC9B,iBAAA,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC;AACnB,iBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;iBACxC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;AAC1C,iBAAA,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,EAChC,CAAC,MAAM,KACL,MAAM;AACH,iBAAA,IAAI,CAAC,gBAAgB,EAAE,MAAM,CAAC;AAC9B,iBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;iBACxC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;AAC1C,iBAAA,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC;AAC3B,iBAAA,UAAU,EAAE;AACZ,iBAAA,SAAS,EAAE;AACX,iBAAA,IAAI,CAAC,gBAAgB,EAAE,MAAM,CAAC,EACnC,CAAC,IAAI,KAAK,IAAI,CAAC,UAAU,EAAE,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC,gBAAgB,EAAE,MAAM,CAAC,CAAC,MAAM,EAAE,CAChF;AACA,iBAAA,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,KAAI;gBACd,OAAO,EAAE,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC;AAC/B,aAAC,CAAC;AACD,iBAAA,EAAE,CAAC,WAAW,EAAE,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;AAChE,iBAAA,EAAE,CAAC,UAAU,EAAE,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,WAAW,EAAE,CAAC;AACnD,iBAAA,EAAE,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC;AAEjE,YAAA,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;AAClB,YAAA,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;AACnB,YAAA,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;AAEvB,YAAA,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;AACpB,gBAAA,IAAI,CAAC,KAAK;qBACP,MAAM,CAAC,SAAS,CAAC;qBACjB,SAAS,CAAC,cAAc,CAAC;AACzB,qBAAA,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC;AACpB,qBAAA,IAAI,CACH,CAAC,KAAK,KAAI;AACR,oBAAA,MAAM,EAAE,GAAG,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC;AAE3D,oBAAA,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC;AACd,yBAAA,IAAI,CAAC,OAAO,EAAE,YAAY,CAAC;AAC3B,yBAAA,KAAK,CAAC,kBAAkB,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;AAE9D,oBAAA,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC;AACd,yBAAA,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC;AAC7B,yBAAA,IAAI,CAAC,CAAC,CAAC,KAAI;wBACV,QAAQ,IAAI,CAAC,qBAAqB;AAChC,4BAAA,KAAK,QAAQ;gCACX,OAAO,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;AAEvC,4BAAA,KAAK,MAAM;gCACT,MAAM,UAAU,GAAGV,QAAW,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;AACtC,gCAAA,OAAO,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,CAAC;AAE5C,4BAAA;gCACE,OAAO,CAAC,CAAC,GAAG,CAAC;AAChB,yBAAA;AACH,qBAAC,CAAC,CAAC;AAEL,oBAAA,OAAO,EAAE,CAAC;AACZ,iBAAC,EACD,CAAC,MAAM,KAAI;oBACT,MAAM,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAI;wBACxC,QAAQ,IAAI,CAAC,qBAAqB;AAChC,4BAAA,KAAK,QAAQ;gCACX,OAAO,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;AAEvC,4BAAA,KAAK,MAAM;gCACT,MAAM,UAAU,GAAGA,QAAW,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;AACtC,gCAAA,OAAO,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,CAAC;AAE5C,4BAAA;gCACE,OAAO,CAAC,CAAC,GAAG,CAAC;AAChB,yBAAA;AACH,qBAAC,CAAC,CAAC;AAEH,oBAAA,OAAO,MAAM,CAAC;iBACf,EACD,CAAC,IAAI,KAAK,IAAI,CAAC,MAAM,EAAE,CACxB;AACA,qBAAA,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,KAAI;oBACd,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC;AACvC,iBAAC,CAAC;AACD,qBAAA,EAAE,CAAC,WAAW,EAAE,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;qBACnE,EAAE,CAAC,UAAU,EAAE,MAAM,IAAI,CAAC,cAAc,EAAE,CAAC;AAC3C,qBAAA,EAAE,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC;AACrE,aAAA;AACH,SAAC,CAAC;AAEF,QAAA,IAAA,CAAA,YAAY,GAAG,CAAC,KAAK,EAAE,IAAI,KAAI;AAC7B,YAAA,IAAI,CAAC,KAAK;iBACP,SAAS,CAAC,YAAY,CAAC;iBACvB,SAAS,CAAC,MAAM,CAAC;AACjB,iBAAA,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAI;AACf,gBAAA,OAAO,CAAC,KAAK,IAAI,CAAC,KAAK,CAAC;AAC1B,aAAC,CAAC;AACD,iBAAA,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;AAE7B,YAAA,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;YAE9B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AACrC,SAAC,CAAC;QAEF,IAAW,CAAA,WAAA,GAAG,MAAK;AACjB,YAAA,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;YAExD,IAAI,CAAC,WAAW,EAAE,CAAC;AACrB,SAAC,CAAC;AAEF,QAAA,IAAA,CAAA,aAAa,GAAG,CAAC,KAAK,EAAE,IAAI,KAAI;YAC9B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AACrC,SAAC,CAAC;AAEF,QAAA,IAAA,CAAA,eAAe,GAAG,CAAC,KAAK,EAAE,IAAI,KAAI;AAChC,YAAA,IAAI,CAAC,KAAK;iBACP,SAAS,CAAC,cAAc,CAAC;AACzB,iBAAA,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,KAAK,CAAC;AAClC,iBAAA,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;AAE7B,YAAA,IAAI,CAAC,KAAK;iBACP,SAAS,CAAC,YAAY,CAAC;AACvB,iBAAA,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,KAAK,CAAC;AAClC,iBAAA,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;YAE7B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AACrC,SAAC,CAAC;QAEF,IAAc,CAAA,cAAA,GAAG,MAAK;AACpB,YAAA,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;AAEhE,YAAA,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;YAE9D,IAAI,CAAC,WAAW,EAAE,CAAC;AACrB,SAAC,CAAC;AAEF,QAAA,IAAA,CAAA,gBAAgB,GAAG,CAAC,KAAK,EAAE,IAAI,KAAI;YACjC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AACrC,SAAC,CAAC;AAEM,QAAA,IAAA,CAAA,cAAc,GAAG,CAAC,IAAI,KAAI;YAChC,QAAQ,IAAI,CAAC,eAAe;AAC1B,gBAAA,KAAK,QAAQ;AACX,oBAAA,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;AAEhC,gBAAA,KAAK,MAAM;AACT,oBAAA,MAAM,SAAS,GAAGA,QAAW,CAAC,IAAI,CAAC,CAAC;AACpC,oBAAA,OAAO,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;AAErC,gBAAA;AACE,oBAAA,OAAO,IAAI,CAAC;AACf,aAAA;AACH,SAAC,CAAC;AAEM,QAAA,IAAA,CAAA,WAAW,GAAG,CAAC,KAAK,EAAE,IAAI,KAAI;YACpC,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,iBAAiB,EAAE,CAAC;YAChD,MAAM,mBAAmB,GAAG,KAAK,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC;YACxE,MAAM,WAAW,GAAG,QAAQ,CAAC,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;AACnD,YAAA,IAAI,mBAAmB,CAAC;AACxB,YAAA,IAAI,iBAAiB,CAAC;AACtB,YAAA,IAAI,mBAAmB,CAAC;;YAExB,IAAI,OAAO,GAAG,CAAC,CAAC;AAChB,YAAA,IAAI,SAAS,CAAC;AACd,YAAA,IAAI,SAAS,CAAC;;AAId,YAAA,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAI;gBAChD,QAAQ,IAAI,CAAC,wBAAwB;AACnC,oBAAA,KAAK,MAAM;wBACT,MAAM,SAAS,GAAGA,QAAW,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AAC7C,wBAAA,OAAO,CAAG,EAAA,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,CAAA,EAAG,IAAI,CAAC,oBAAoB,CAAA,CAAE,CAAC;AAE/E,oBAAA;wBACE,OAAO,CAAA,EAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAA,EAAG,IAAI,CAAC,oBAAoB,CAAA,CAAE,CAAC;AACzD,iBAAA;AACH,aAAC,CAAC,CAAC;AAEH,YAAA,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,uBAAuB,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAI;gBACtD,IAAI,KAAK,GAAG,CAAC,CAAC;AAEd,gBAAA,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAI;oBAC/B,IAAI,CAAC,KAAK,KAAK,EAAE;wBACf,KAAK,GAAG,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AAC9B,qBAAA;AACH,iBAAC,CAAC,CAAC;AAEH,gBAAA,OAAO,IAAI,CAAC,yBAAyB,CAAC,KAAK,CAAC,CAAC;AAC/C,aAAC,CAAC,CAAC;AAEH,YAAA,IAAI,CAAC,OAAO;iBACT,MAAM,CAAC,gBAAgB,CAAC;iBACxB,MAAM,CAAC,OAAO,CAAC;AACf,iBAAA,IAAI,CAAC,CAAC,CAAC,KAAI;gBACV,IAAI,IAAI,GAAG,CAAA,CAAE,CAAC;AAEd,gBAAA,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;qBACnB,MAAM,CAAC,CAAC,GAAG,KAAK,GAAG,KAAK,KAAK,CAAC;AAC9B,qBAAA,GAAG,CAAC,CAAC,GAAG,EAAE,KAAK,KAAI;AAClB,oBAAA,IAAI,KAAK,CAAC;oBACV,IAAI,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;oBAE3B,QAAQ,IAAI,CAAC,sBAAsB;AACjC,wBAAA,KAAK,MAAM;AACT,4BAAA,MAAM,SAAS,GAAGA,QAAW,CAAC,GAAG,CAAC,CAAC;AACnC,4BAAA,KAAK,GAAG,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,CAAC;4BAC7C,MAAM;AAER,wBAAA;4BACE,KAAK,GAAG,GAAG,CAAC;AACf,qBAAA;oBAED,QAAQ,IAAI,CAAC,sBAAsB;AACjC,wBAAA,KAAK,QAAQ;AACX,4BAAA,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,SAAS,EAAE;gCACzC,KAAK,GAAG,EAAE,CAAC;AACZ,6BAAA;AAAM,iCAAA;AACL,gCAAA,KAAK,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;AACjD,6BAAA;4BACD,MAAM;AAER,wBAAA;AACE,4BAAA,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AAC1B,qBAAA;AAED,oBAAA,IAAI,IAAI,CAAA;;AAEgB,kCAAA,EAAA,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAA;;;6DAGG,KAAK,CAAA;mEACC,KAAK,CAAA;;aAE3D,CAAC;AACJ,iBAAC,CAAC,CAAC;AAEL,gBAAA,OAAO,IAAI,CAAC;AACd,aAAC,CAAC,CAAC;YAEL,iBAAiB,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,qBAAqB,EAAE,CAAC;AAChE,YAAA,mBAAmB,GAAG,mBAAmB,CAAC,IAAI,GAAG,mBAAmB,CAAC,KAAK,GAAG,iBAAiB,CAAC,KAAK,GAAG,CAAC,CAAC;YACzG,mBAAmB,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,YAAY,CAAC;;YAGxD,IAAI,mBAAmB,GAAG,WAAW,EAAE;gBACrC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;gBACnC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;AAEpC,gBAAA,IAAI,IAAI,CAAC,IAAI,KAAK,QAAQ,EAAE;oBAC1B,SAAS,GAAG,GAAG,mBAAmB,CAAC,IAAI,GAAG,CAAC,mBAAmB,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,GAAG,iBAAiB,CAAC,KAAK,GAAG,CAAC,CAAA,EAAA,CAAI,CAAC;AACjH,iBAAA;AAAM,qBAAA;oBACL,SAAS,GAAG,GAAG,mBAAmB,CAAC,IAAI,GAAG,CAAC,mBAAmB,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,GAAG,iBAAiB,CAAC,KAAK,GAAG,CAAC,CAAA,EAAA,CAAI,CAAC;AACjH,iBAAA;AACF,aAAA;iBAAM,IAAI,mBAAmB,GAAG,WAAW,EAAE;gBAC5C,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;gBACpC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;AAEnC,gBAAA,IAAI,IAAI,CAAC,IAAI,KAAK,QAAQ,EAAE;AAC1B,oBAAA,SAAS,GAAG,CAAG,EAAA,mBAAmB,CAAC,IAAI,GAAG,CAAC,mBAAmB,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC;AACvF,iBAAA;AAAM,qBAAA;AACL,oBAAA,SAAS,GAAG,CAAG,EAAA,mBAAmB,CAAC,IAAI,GAAG,CAAC,mBAAmB,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC;AACvF,iBAAA;AACF,aAAA;YAED,SAAS,GAAG,IAAI,CAAC,GAAG;iBACjB,SAAS,CAAC,YAAY,CAAC;iBACvB,SAAS,CAAC,MAAM,CAAC;AACjB,iBAAA,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAI;AACf,gBAAA,OAAO,CAAC,KAAK,IAAI,CAAC,KAAK,CAAC;AAC1B,aAAC,CAAC;AACD,iBAAA,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,KAAI;AACb,gBAAA,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,OAAO,CAAC;AAC5C,aAAC,CAAC;AACD,iBAAA,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAI;AACf,gBAAA,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,OAAO,CAAC;AAC1B,aAAC,CAAC;AACD,iBAAA,IAAI,EAAE;AACN,iBAAA,qBAAqB,EAAE,CAAC;;YAG3B,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,EAAE,CAAG,EAAA,SAAS,CAAC,GAAG,GAAG,mBAAmB,GAAG,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAI,EAAA,CAAA,CAAC,CAAC;YACtF,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC;YACtC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;AACnC,SAAC,CAAC;QAEM,IAAW,CAAA,WAAA,GAAG,MAAK;YACzB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;AACnC,SAAC,CAAC;AAEM,QAAA,IAAA,CAAA,cAAc,GAAG,CAAC,IAAI,KAAI;YAChC,QAAQ,IAAI,CAAC,eAAe;AAC1B,gBAAA,KAAK,QAAQ;AACX,oBAAA,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;AAEhC,gBAAA,KAAK,MAAM;AACT,oBAAA,MAAM,SAAS,GAAGA,QAAW,CAAC,IAAI,CAAC,CAAC;AACpC,oBAAA,OAAO,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;AAErC,gBAAA;AACE,oBAAA,OAAO,IAAI,CAAC;AACf,aAAA;AACH,SAAC,CAAC;KA5vBmH;IAErH,QAAQ,GAAA;;QAEN,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,KAAK,IAAI,KAAK,KAAK,CAAC,CAAC;;QAG3E,IAAI,IAAI,CAAC,WAAW,EAAE;YACpB,IAAI,CAAC,SAAS,GAAG6B,KAAQ,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACzF,SAAA;AAAM,aAAA;YACL,IAAI,CAAC,SAAS,GAAGA,KAAQ,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,KAAK,CAACC,cAAiB,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACrF,SAAA;;QAID,IAAI,CAAC,MAAM,GAAG;AACZ,YAAA,GAAG,EAAE,CAAC,IAAI,CAAC,SAAS;AACpB,YAAA,KAAK,EAAE,CAAC,IAAI,CAAC,WAAW;AACxB,YAAA,MAAM,EAAE,CAAC,IAAI,CAAC,YAAY;AAC1B,YAAA,IAAI,EAAE,CAAC,IAAI,CAAC,UAAU;SACvB,CAAC;;AAGF,QAAA,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;AACxF,QAAA,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;AACxF,QAAA,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,uBAAuB,CAAC,CAAC;AAC1G,QAAA,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,wBAAwB,EAAE,IAAI,CAAC,0BAA0B,CAAC,CAAC;AACnH,QAAA,IAAI,CAAC,yBAAyB,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CACrD,IAAI,CAAC,6BAA6B,EAClC,IAAI,CAAC,+BAA+B,CACrC,CAAC;AACF,QAAA,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,sBAAsB,EAAE,IAAI,CAAC,wBAAwB,CAAC,CAAC;AAC7G,QAAA,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,sBAAsB,EAAE,IAAI,CAAC,wBAAwB,CAAC,CAAC;;AAG7G,QAAA,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;AAC1B,QAAA,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;AACvB,QAAA,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;AAC3B,QAAA,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;AAC3B,QAAA,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;AACvB,QAAA,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;AACvB,QAAA,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;AAC7B,QAAA,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;AAC7B,QAAA,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;AACzB,QAAA,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;AAC5B,QAAA,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;AAC5B,QAAA,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;AACvB,QAAA,IAAI,CAAC,kBAAkB,GAAG,CAAC,CAAC;AAC5B,QAAA,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;AACvB,QAAA,IAAI,CAAC,kBAAkB,GAAG,CAAC,CAAC;;AAG5B,QAAA,IAAI,IAAI,CAAC,IAAI,KAAK,OAAO,EAAE;;YAEzB,QAAQ,IAAI,CAAC,IAAI;AACf,gBAAA,KAAK,KAAK;AACR,oBAAA,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;AACzB,oBAAA,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;AAC3B,oBAAA,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;AACtB,oBAAA,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;AAC7B,oBAAA,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;AAC3B,oBAAA,IAAI,CAAC,cAAc,GAAG,QAAQ,CAAC;oBAC/B,MAAM;AAER,gBAAA,KAAK,QAAQ;AACX,oBAAA,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;AAC5B,oBAAA,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;AACtB,oBAAA,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;AAC3B,oBAAA,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;AAC5B,oBAAA,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;AAC3B,oBAAA,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;oBACtB,MAAM;AAER,gBAAA,KAAK,MAAM;AACT,oBAAA,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;AACtB,oBAAA,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;AAC3B,oBAAA,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;AAC5B,oBAAA,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;AACtB,oBAAA,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;AAC5B,oBAAA,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;AAC3B,oBAAA,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;AACtB,oBAAA,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;AACxB,oBAAA,IAAI,CAAC,cAAc,GAAG,QAAQ,CAAC;oBAC/B,MAAM;AACT,aAAA;AACF,SAAA;AAED,QAAA,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,UAAU,GAAG,EAAE,GAAG,CAAC,CAAC;;;QAKjD,IAAI,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,cAAc,KAAK,OAAO,EAAE;AACvD,YAAA,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC;AAC9C,SAAA;;AAGD,QAAA,IAAI,CAAC,KAAK,GAAGvB,MAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;;AAGhF,QAAA,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,KAAK;aAClB,MAAM,CAAC,KAAK,CAAC;AACb,aAAA,IAAI,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC;AAC1B,aAAA,IAAI,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;AACnE,aAAA,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;AAC1B,aAAA,IAAI,CAAC,qBAAqB,EAAE,eAAe,CAAC;AAC5C,aAAA,IAAI,CACH,SAAS,EACT,CAAI,CAAA,EAAA,IAAI,CAAC,MAAM,CAAC,IAAI,CAAA,EAAA,EAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAA,CAAA,EAAI,CAAC,IAAI,CAAC,KAAK,CAAA,CAAA,EAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAA,CAAE,CACjH,CAAC;AAEJ,QAAA,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;AAChE,QAAA,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,gBAAgB,CAAC,CAAC;AACtE,QAAA,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;;QAGvD,MAAM,MAAM,GAAG,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;QAChG,IAAI,CAAC,UAAU,GAAGH,YAAe,EAAE,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;;;AAIlD,QAAA,IAAI,CAAC,UAAU,GAAGO,SAAY,EAAE;AAC7B,aAAA,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC;AACnC,aAAA,UAAU,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;aAC9C,KAAK,CAAC,CAAC,CAAC,CAAC;;QAGZ,CAAC,IAAI,CAAC,YAAY;AAChB,cAAE,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;AACnD,cAAE,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;QAEpD,IAAI,CAAC,SAAS,GAAGC,UAAa,CAAC,IAAI,CAAC,UAAU,CAAC;AAC5C,aAAA,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC;AAC5B,aAAA,aAAa,CAAC,IAAI,CAAC,kBAAkB,CAAC;AACtC,aAAA,UAAU,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;AAEnC,QAAA,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG;aAClB,MAAM,CAAC,GAAG,CAAC;AACX,aAAA,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC;aAC5B,IAAI,CAAC,WAAW,EAAE,CAAA,aAAA,EAAgB,IAAI,CAAC,MAAM,GAAG,CAAC;AACjD,aAAA,OAAO,CAAC,aAAa,EAAE,IAAI,CAAC,SAAS,CAAC;AACtC,aAAA,OAAO,CAAC,kBAAkB,EAAE,IAAI,CAAC,aAAa,CAAC;AAC/C,aAAA,OAAO,CAAC,oBAAoB,EAAE,IAAI,CAAC,eAAe,CAAC;AACnD,aAAA,OAAO,CAAC,mBAAmB,EAAE,IAAI,CAAC,cAAc,CAAC;AACjD,aAAA,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;;AAGxB,QAAA,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;AACnB,YAAA,IAAI,CAAC,SAAS,GAAGA,UAAa,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AAEvE,YAAA,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG;iBAClB,MAAM,CAAC,GAAG,CAAC;AACX,iBAAA,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC;AAC5B,iBAAA,OAAO,CAAC,kBAAkB,EAAE,IAAI,CAAC,aAAa,CAAC;iBAC/C,IAAI,CAAC,WAAW,EAAE,CAAA,aAAA,EAAgB,IAAI,CAAC,MAAM,GAAG,CAAC;AACjD,iBAAA,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AACzB,SAAA;;QAGD,IAAI,IAAI,CAAC,UAAU,EAAE;AACnB,YAAA,IAAI,CAAC,GAAG;iBACL,MAAM,CAAC,MAAM,CAAC;AACd,iBAAA,IAAI,CAAC,OAAO,EAAE,YAAY,CAAC;AAC3B,iBAAA,IAAI,CAAC,aAAa,EAAE,QAAQ,CAAC;iBAC7B,IAAI,CACH,WAAW,EACX,CAAa,UAAA,EAAA,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,CAAA,EAAA,EACpF,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,IAAI,IAAI,CAAC,SAAS,GAAG,EAAE,GAAG,EAAE,CAC7D,CAAA,CAAA,CAAG,CACJ;AACA,iBAAA,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;AAC1B,SAAA;;;;;;;;;;;;AAeD,QAAA,IAAI,CAAC,QAAQ,GAAGH,GAAM,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,IAAS,KAAI;AACnD,YAAA,OAAOA,GAAM,CAAC,IAAI,EAAE,CAAC,CAAM,KAAI;AAC7B,gBAAA,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;AACd,aAAC,CAAC,CAAC;AACL,SAAC,CAAC,CAAC;AACH,QAAA,IAAI,CAAC,QAAQ,GAAGC,GAAM,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,IAAS,KAAI;AACnD,YAAA,OAAOA,GAAM,CAAC,IAAI,EAAE,CAAC,CAAM,KAAI;AAC7B,gBAAA,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;AACd,aAAC,CAAC,CAAC;AACL,SAAC,CAAC,CAAC;AAEH,QAAA,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC;AAEpE,QAAA,IAAI,CAAC,UAAU,GAAGG,WAAc,EAAE,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC;QAE9G,IAAI,CAAC,SAAS,GAAGC,QAAW,CAAC,IAAI,CAAC,UAAU,CAAC;AAC1C,aAAA,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC;AACtB,aAAA,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC;AAC5B,aAAA,aAAa,CAAC,IAAI,CAAC,kBAAkB,CAAC;AACtC,aAAA,UAAU,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;AAEnC,QAAA,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG;aAClB,MAAM,CAAC,GAAG,CAAC;AACX,aAAA,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC;AAC5B,aAAA,OAAO,CAAC,aAAa,EAAE,IAAI,CAAC,SAAS,CAAC;AACtC,aAAA,OAAO,CAAC,kBAAkB,EAAE,IAAI,CAAC,aAAa,CAAC;AAC/C,aAAA,OAAO,CAAC,oBAAoB,EAAE,IAAI,CAAC,eAAe,CAAC;AACnD,aAAA,OAAO,CAAC,mBAAmB,EAAE,IAAI,CAAC,cAAc,CAAC;AACjD,aAAA,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAExB,IAAI,IAAI,CAAC,WAAW,EAAE;AACpB,YAAA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,GAAG;iBACvB,MAAM,CAAC,MAAM,CAAC;AACd,iBAAA,IAAI,CAAC,OAAO,EAAE,YAAY,CAAC;AAC3B,iBAAA,IAAI,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;AAC9D,iBAAA,IAAI,CAAC,WAAW,EAAE,CAAA,cAAA,EAAiB,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAG,CAAA,CAAA,CAAC,CAAC;AAC9D,SAAA;AAAM,aAAA;YACL,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC,MAAM,EAAE,CAAC;AAC5C,SAAA;;AAGD,QAAA,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;YACnB,IAAI,CAAC,SAAS,GAAGA,QAAW,CAAC,IAAI,CAAC,UAAU,CAAC;AAC1C,iBAAA,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC;AACtB,iBAAA,QAAQ,CAAC,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AAEhE,YAAA,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG;iBAClB,MAAM,CAAC,GAAG,CAAC;AACX,iBAAA,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC;AAC5B,iBAAA,OAAO,CAAC,kBAAkB,EAAE,IAAI,CAAC,aAAa,CAAC;AAC/C,iBAAA,IAAI,CAAC,WAAW,EAAE,CAAA,eAAA,CAAiB,CAAC;AACpC,iBAAA,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AACzB,SAAA;;AAGD,QAAA,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;AACrB,YAAA,IAAI,CAAC,OAAO,GAAGP,MAAS,CAAC,MAAM,CAAC;iBAC7B,MAAM,CAAC,KAAK,CAAC;AACb,iBAAA,IAAI,CAAC,OAAO,EAAE,mBAAmB,CAAC;AAClC,iBAAA,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC;AACnB,iBAAA,IAAI,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;;AAG/B,YAAA,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,gBAAgB,CAAC,CAAC;AAC3D,YAAA,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,sBAAsB,CAAC,CAAC;;AAGjE,YAAA,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,+BAA+B,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;AAC7F,SAAA;;AAGD,QAAA,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;YACpB,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,0BAA0B,EAAE,IAAI,CAAC,cAAc,KAAK,QAAQ,GAAG,IAAI,GAAG,KAAK,CAAC,CAAC;AAChG,YAAA,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,CAAiB,cAAA,EAAA,IAAI,CAAC,cAAc,CAAA,CAAE,CAAC,CAAC;AAC/E,SAAA;QAED,IAAI,CAAC,WAAW,EAAE,CAAC;KACpB;IAED,WAAW,GAAA;QACT,IAAI,IAAI,CAAC,OAAO;AAAE,YAAA,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;KACzC;AAED,IAAA,WAAW,CAAC,OAAsB,EAAA;QAChC,IAAI,OAAO,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE;AAC7C,YAAA,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;AACzB,SAAA;KACF;;2HArbU,8BAA8B,EAAA,IAAA,EAAA,CAAA,EAAA,KAAA,EAAAC,kBAAA,EAAA,EAAA,EAAA,KAAA,EAAA,EAAA,CAAA,UAAA,EAAA,EAAA,EAAA,KAAA,EAAA,EAAA,CAAA,gBAAA,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;AAA9B,8BAAA,CAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,8BAA8B,2gDAJ/B,CAAE,CAAA,EAAA,QAAA,EAAA,IAAA,EAAA,eAAA,EAAA,EAAA,CAAA,uBAAA,CAAA,MAAA,EAAA,CAAA,CAAA;2FAID,8BAA8B,EAAA,UAAA,EAAA,CAAA;kBAN1C,SAAS;AACE,YAAA,IAAA,EAAA,CAAA,EAAA,QAAA,EAAA,0BAA0B,EAC1B,QAAA,EAAA,CAAA,CAAE,EAEK,eAAA,EAAA,uBAAuB,CAAC,MAAM,EAAA,CAAA;8JAI/C,UAAU,EAAA,CAAA;sBADT,WAAW;uBAAC,kBAAkB,CAAA;gBAI/B,eAAe,EAAA,CAAA;sBADd,WAAW;uBAAC,8BAA8B,CAAA;gBAI3C,IAAI,EAAA,CAAA;sBADH,KAAK;gBAIN,KAAK,EAAA,CAAA;sBADJ,KAAK;gBAIN,MAAM,EAAA,CAAA;sBADL,KAAK;gBAIN,IAAI,EAAA,CAAA;sBADH,KAAK;gBAIN,SAAS,EAAA,CAAA;sBADR,KAAK;gBAIN,WAAW,EAAA,CAAA;sBADV,KAAK;gBAIN,YAAY,EAAA,CAAA;sBADX,KAAK;gBAIN,UAAU,EAAA,CAAA;sBADT,KAAK;gBAIN,SAAS,EAAA,CAAA;sBADR,KAAK;gBAIN,eAAe,EAAA,CAAA;sBADd,KAAK;gBAIN,iBAAiB,EAAA,CAAA;sBADhB,KAAK;gBAIN,UAAU,EAAA,CAAA;sBADT,KAAK;gBAIN,eAAe,EAAA,CAAA;sBADd,KAAK;gBAIN,iBAAiB,EAAA,CAAA;sBADhB,KAAK;gBAIN,UAAU,EAAA,CAAA;sBADT,KAAK;gBAIN,cAAc,EAAA,CAAA;sBADb,KAAK;gBAIN,UAAU,EAAA,CAAA;sBADT,KAAK;gBAIN,WAAW,EAAA,CAAA;sBADV,KAAK;gBAIN,cAAc,EAAA,CAAA;sBADb,KAAK;gBAIN,qBAAqB,EAAA,CAAA;sBADpB,KAAK;gBAIN,uBAAuB,EAAA,CAAA;sBADtB,KAAK;gBAIN,wBAAwB,EAAA,CAAA;sBADvB,KAAK;gBAIN,0BAA0B,EAAA,CAAA;sBADzB,KAAK;gBAIN,oBAAoB,EAAA,CAAA;sBADnB,KAAK;gBAIN,6BAA6B,EAAA,CAAA;sBAD5B,KAAK;gBAIN,+BAA+B,EAAA,CAAA;sBAD9B,KAAK;gBAIN,sBAAsB,EAAA,CAAA;sBADrB,KAAK;gBAIN,wBAAwB,EAAA,CAAA;sBADvB,KAAK;gBAIN,sBAAsB,EAAA,CAAA;sBADrB,KAAK;gBAIN,wBAAwB,EAAA,CAAA;sBADvB,KAAK;gBAIN,KAAK,EAAA,CAAA;sBADJ,KAAK;gBAIN,WAAW,EAAA,CAAA;sBADV,KAAK;gBAIN,WAAW,EAAA,CAAA;sBADV,KAAK;gBAIN,YAAY,EAAA,CAAA;sBADX,KAAK;gBAEG,WAAW,EAAA,CAAA;sBAAnB,KAAK;gBACG,WAAW,EAAA,CAAA;sBAAnB,KAAK;gBAGN,OAAO,EAAA,CAAA;sBADN,MAAM;gBAIP,OAAO,EAAA,CAAA;sBADN,MAAM;;;MCzII,mCAAmC,CAAA;AAPhD,IAAA,WAAA,GAAA;QASE,IAAK,CAAA,KAAA,GAAG,CAAC,CAAC;QAGV,IAAK,CAAA,KAAA,GAAG,EAAE,CAAC;QAGX,IAAS,CAAA,SAAA,GAAqC,MAAM,CAAC;QAGrD,IAAO,CAAA,OAAA,GAAG,KAAK,CAAC;AAMjB,KAAA;AAJC,IAAA,IACI,WAAW,GAAA;AACb,QAAA,OAAO,CAAC,wBAAwB,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,OAAO,GAAG,SAAS,GAAG,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;KACxG;;gIAhBU,mCAAmC,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;AAAnC,mCAAA,CAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,mCAAmC,EALpC,QAAA,EAAA,+BAAA,EAAA,MAAA,EAAA,EAAA,KAAA,EAAA,OAAA,EAAA,KAAA,EAAA,OAAA,EAAA,SAAA,EAAA,WAAA,EAAA,OAAA,EAAA,SAAA,EAAA,EAAA,IAAA,EAAA,EAAA,UAAA,EAAA,EAAA,OAAA,EAAA,kBAAA,EAAA,EAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,EAAA,CAAA;;AAET,EAAA,CAAA,EAAA,QAAA,EAAA,IAAA,EAAA,CAAA,CAAA;2FAGU,mCAAmC,EAAA,UAAA,EAAA,CAAA;kBAP/C,SAAS;AACE,YAAA,IAAA,EAAA,CAAA,EAAA,QAAA,EAAA,+BAA+B,EAC/B,QAAA,EAAA,CAAA;;AAET,EAAA,CAAA,EAAA,CAAA;8BAKD,KAAK,EAAA,CAAA;sBADJ,KAAK;gBAIN,KAAK,EAAA,CAAA;sBADJ,KAAK;gBAIN,SAAS,EAAA,CAAA;sBADR,KAAK;gBAIN,OAAO,EAAA,CAAA;sBADN,KAAK;gBAIF,WAAW,EAAA,CAAA;sBADd,WAAW;uBAAC,OAAO,CAAA;;;MCeT,+BAA+B,CAAA;AAjC5C,IAAA,WAAA,GAAA;QAmCE,IAAK,CAAA,KAAA,GAAG,EAAE,CAAC;QAGX,IAAO,CAAA,OAAA,GAAW,IAAI,CAAC;QAGvB,IAAK,CAAA,KAAA,GAAG,CAAC,CAAC;QAGV,IAAI,CAAA,IAAA,GAAW,IAAI,CAAC;QAGpB,IAAW,CAAA,WAAA,GAAW,IAAI,CAAC;QAG3B,IAAQ,CAAA,QAAA,GAAG,KAAK,CAAC;QAGjB,IAAY,CAAA,YAAA,GAAG,KAAK,CAAC;QAGrB,IAAQ,CAAA,QAAA,GAAG,KAAK,CAAC;QAGjB,IAAW,CAAA,WAAA,GAAkB,IAAI,CAAC;QAElC,IAAe,CAAA,eAAA,GAAG,KAAK,CAAC;QACxB,IAAa,CAAA,aAAA,GAAG,KAAK,CAAC;QACtB,IAAM,CAAA,MAAA,GAAG,KAAK,CAAC;AA0BhB,KAAA;AAxBC,IAAA,IACI,WAAW,GAAA;QACb,OAAO;YACL,cAAc;YACd,IAAI,CAAC,QAAQ,GAAG,uBAAuB,GAAG,EAAE;YAC5C,IAAI,CAAC,YAAY,GAAG,4BAA4B,GAAG,EAAE;YACrD,IAAI,CAAC,QAAQ,GAAG,uBAAuB,GAAG,EAAE;AAC5C,YAAA,IAAI,CAAC,KAAK;AACX,SAAA,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;KACb;IAID,QAAQ,GAAA;AACN,QAAA,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;AACtB,YAAA,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;AAC7B,SAAA;QAED,IAAI,IAAI,CAAC,IAAI,KAAK,GAAG,IAAI,IAAI,CAAC,IAAI,KAAK,IAAI,EAAE;AAC3C,YAAA,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;AACpB,SAAA;AAAM,aAAA,IAAI,IAAI,CAAC,IAAI,KAAK,GAAG,EAAE;AAC5B,YAAA,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;AAC3B,SAAA;KACF;;4HAvDU,+BAA+B,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;gHAA/B,+BAA+B,EAAA,QAAA,EAAA,2BAAA,EAAA,MAAA,EAAA,EAAA,KAAA,EAAA,OAAA,EAAA,OAAA,EAAA,SAAA,EAAA,KAAA,EAAA,OAAA,EAAA,IAAA,EAAA,MAAA,EAAA,WAAA,EAAA,aAAA,EAAA,QAAA,EAAA,UAAA,EAAA,YAAA,EAAA,cAAA,EAAA,QAAA,EAAA,UAAA,EAAA,WAAA,EAAA,aAAA,EAAA,EAAA,IAAA,EAAA,EAAA,UAAA,EAAA,EAAA,OAAA,EAAA,kBAAA,EAAA,EAAA,EAAA,OAAA,EAAA,CAAA,EAAA,YAAA,EAAA,cAAA,EAAA,KAAA,EAAA,IAAA,EAAA,SAAA,EA2C5B,mCAAmC,EA1EvC,WAAA,EAAA,IAAA,EAAA,MAAA,EAAA,IAAA,EAAA,CAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,EAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BT,EAAA,CAAA,EAAA,QAAA,EAAA,IAAA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAuB,EAAA,CAAA,OAAA,EAAA,QAAA,EAAA,WAAA,EAAA,MAAA,EAAA,CAAA,OAAA,EAAA,SAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAA,EAAA,CAAA,IAAA,EAAA,QAAA,EAAA,QAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,UAAA,EAAA,UAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAAC,IAAA,CAAA,UAAA,EAAA,QAAA,EAAA,cAAA,EAAA,MAAA,EAAA,CAAA,WAAA,EAAA,WAAA,EAAA,WAAA,EAAA,eAAA,EAAA,UAAA,EAAA,gBAAA,EAAA,WAAA,EAAA,gBAAA,EAAA,cAAA,EAAA,WAAA,EAAA,YAAA,EAAA,YAAA,CAAA,EAAA,OAAA,EAAA,CAAA,OAAA,EAAA,QAAA,CAAA,EAAA,QAAA,EAAA,CAAA,YAAA,CAAA,EAAA,CAAA,EAAA,CAAA,CAAA;2FAGU,+BAA+B,EAAA,UAAA,EAAA,CAAA;kBAjC3C,SAAS;AACE,YAAA,IAAA,EAAA,CAAA,EAAA,QAAA,EAAA,2BAA2B,EAC3B,QAAA,EAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BT,EAAA,CAAA,EAAA,CAAA;8BAKD,KAAK,EAAA,CAAA;sBADJ,KAAK;gBAIN,OAAO,EAAA,CAAA;sBADN,KAAK;gBAIN,KAAK,EAAA,CAAA;sBADJ,KAAK;gBAIN,IAAI,EAAA,CAAA;sBADH,KAAK;gBAIN,WAAW,EAAA,CAAA;sBADV,KAAK;gBAIN,QAAQ,EAAA,CAAA;sBADP,KAAK;gBAIN,YAAY,EAAA,CAAA;sBADX,KAAK;gBAIN,QAAQ,EAAA,CAAA;sBADP,KAAK;gBAIN,WAAW,EAAA,CAAA;sBADV,KAAK;gBAQF,WAAW,EAAA,CAAA;sBADd,WAAW;uBAAC,OAAO,CAAA;gBAWiD,YAAY,EAAA,CAAA;sBAAhF,YAAY;AAAC,gBAAA,IAAA,EAAA,CAAA,mCAAmC,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAA;;;MC3CxD,6BAA6B,CAAA;AAwGxC,IAAA,WAAA,CAAoB,QAAoB,EAAU,OAAyB,EAAU,QAA4B,EAAA;QAA7F,IAAQ,CAAA,QAAA,GAAR,QAAQ,CAAY;QAAU,IAAO,CAAA,OAAA,GAAP,OAAO,CAAkB;QAAU,IAAQ,CAAA,QAAA,GAAR,QAAQ,CAAoB;QAtGjH,IAAU,CAAA,UAAA,GAAG,IAAI,CAAC;QAGlB,IAAc,CAAA,cAAA,GAAG,IAAI,CAAC;QAStB,IAAO,CAAA,OAAA,GAAG,EAAE,CAAC;QAMb,IAAK,CAAA,KAAA,GAAG,IAAI,CAAC;QAGb,IAAM,CAAA,MAAA,GAAG,IAAI,CAAC;QAGd,IAAK,CAAA,KAAA,GAAG,GAAG,CAAC;QAGZ,IAAM,CAAA,MAAA,GAAG,GAAG,CAAC;AAGb,QAAA,IAAA,CAAA,IAAI,GAAgC,QAAQ,CAAC;QAG7C,IAAG,CAAA,GAAA,GAAG,KAAK,CAAC;QAGZ,IAAS,CAAA,SAAA,GAAG,CAAC,CAAC;QAGd,IAAW,CAAA,WAAA,GAAG,CAAC,CAAC;QAGhB,IAAY,CAAA,YAAA,GAAG,CAAC,CAAC;QAGjB,IAAU,CAAA,UAAA,GAAG,CAAC,CAAC;QAGf,IAAK,CAAA,KAAA,GAAG,SAAS,CAAC;QAGlB,IAAS,CAAA,SAAA,GAAG,MAAM,CAAC;AAGnB,QAAA,IAAA,CAAA,aAAa,GAAG,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;QAGzB,IAAO,CAAA,OAAA,GAAG,CAAC,CAAC;AAGZ,QAAA,IAAA,CAAA,eAAe,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;QAG9B,IAAqB,CAAA,qBAAA,GAAa,IAAI,CAAC;QAGvC,IAAuB,CAAA,uBAAA,GAAG,EAAE,CAAC;QAG7B,IAAW,CAAA,WAAA,GAAG,KAAK,CAAC;QAGpB,IAAgB,CAAA,gBAAA,GAAG,KAAK,CAAC;QAGzB,IAAmB,CAAA,mBAAA,GAAG,EAAE,CAAC;QAGzB,IAAsB,CAAA,sBAAA,GAAa,IAAI,CAAC;QAGxC,IAAwB,CAAA,wBAAA,GAAG,EAAE,CAAC;AAG9B,QAAA,IAAA,CAAA,OAAO,GAAyB,IAAI,YAAY,EAAU,CAAC;AAG3D,QAAA,IAAA,CAAA,OAAO,GAAyB,IAAI,YAAY,EAAU,CAAC;QAsJ3D,IAAW,CAAA,WAAA,GAAG,MAAK;;AAGjB,YAAA,IAAI,CAAC,eAAe;iBACjB,SAAS,CAAC,QAAQ,CAAC;AACnB,iBAAA,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;AACf,iBAAA,IAAI,CACH,CAAC,KAAK,KACJ,KAAK;iBACF,MAAM,CAAC,QAAQ,CAAC;AAChB,iBAAA,IAAI,CAAC,OAAO,EAAE,YAAY,CAAC;AAC3B,iBAAA,OAAO,CAAC,OAAO,EAAE,IAAI,CAAC,GAAG,CAAC;iBAC1B,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;iBAChE,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;iBAChE,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,CAAG,EAAA,IAAI,CAAC,OAAO,CAAA,EAAA,CAAI,CAAC,CAAC,EAChG,CAAC,MAAM,KACL,MAAM;AACH,iBAAA,UAAU,EAAE;iBACZ,QAAQ,CAAC,IAAI,CAAC;iBACd,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;iBAChE,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAChE,iBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,CAAG,EAAA,IAAI,CAAC,OAAO,CAAA,EAAA,CAAI,CAAC,CAAC;AAC3F,iBAAA,UAAU,EAAE;AACZ,iBAAA,SAAS,EAAE;AACX,iBAAA,IAAI,CAAC,gBAAgB,EAAE,MAAM,CAAC,EACnC,CAAC,IAAI,KAAK,IAAI,CAAC,UAAU,EAAE,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC,gBAAgB,EAAE,MAAM,CAAC,CAAC,MAAM,EAAE,CAChF,CAAC;AAEJ,YAAA,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;AACrB,gBAAA,IAAI,CAAC,eAAe;qBACjB,SAAS,CAAC,QAAQ,CAAC;AACnB,qBAAA,EAAE,CAAC,WAAW,EAAE,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;AACnE,qBAAA,EAAE,CAAC,UAAU,EAAE,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;AACjE,qBAAA,EAAE,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC;;gBAGpE,IAAI,IAAI,CAAC,IAAI,KAAK,MAAM,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE;AACrC,oBAAA,IAAI,CAAC,eAAe;yBACjB,SAAS,CAAC,MAAM,CAAC;AACjB,yBAAA,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;AACf,yBAAA,IAAI,CACH,CAAC,KAAK,KACJ,KAAK;yBACF,MAAM,CAAC,MAAM,CAAC;AACd,yBAAA,IAAI,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC;AACjF,yBAAA,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC;AACzB,yBAAA,KAAK,CAAC,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC;yBAC7B,KAAK,CAAC,WAAW,EAAE,CAAC,CAAC,KAAK,CAAA,EAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAA,EAAA,CAAI,CAAC;yBACrE,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;yBAC/D,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;yBAC/D,IAAI,CAAC,IAAI,EAAE,MAAM,CAAC,EACvB,CAAC,MAAM,KACL,MAAM;AACH,yBAAA,IAAI,CAAC,gBAAgB,EAAE,MAAM,CAAC;AAC9B,yBAAA,UAAU,EAAE;yBACZ,QAAQ,CAAC,IAAI,CAAC;AACd,yBAAA,IAAI,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC;yBACjF,KAAK,CAAC,WAAW,EAAE,CAAC,CAAC,KAAK,CAAA,EAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAA,EAAA,CAAI,CAAC;yBACrE,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;yBAC/D,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC/D,yBAAA,IAAI,CAAC,IAAI,EAAE,MAAM,CAAC;AAClB,yBAAA,UAAU,EAAE;AACZ,yBAAA,SAAS,EAAE;AACX,yBAAA,IAAI,CAAC,gBAAgB,EAAE,MAAM,CAAC,EACnC,CAAC,IAAI,KAAK,IAAI,CAAC,UAAU,EAAE,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC,gBAAgB,EAAE,MAAM,CAAC,CAAC,MAAM,EAAE,CAChF,CAAC;AACL,iBAAA;AACF,aAAA;AACH,SAAC,CAAC;AAEF,QAAA,IAAA,CAAA,eAAe,GAAG,CAAC,KAAK,EAAE,IAAI,KAAI;AAChC,YAAA,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;AAE9D,YAAAzB,MAAS,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;AAElF,YAAA,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;YAE9B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AACrC,SAAC,CAAC;AAEF,QAAA,IAAA,CAAA,cAAc,GAAG,CAAC,KAAK,EAAE,IAAI,KAAI;YAC/B,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;YAExF,IAAI,CAAC,WAAW,EAAE,CAAC;AACrB,SAAC,CAAC;AAEF,QAAA,IAAA,CAAA,gBAAgB,GAAG,CAAC,KAAK,EAAE,IAAI,KAAI;YACjC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AACrC,SAAC,CAAC;AAEM,QAAA,IAAA,CAAA,WAAW,GAAG,CAAC,KAAK,EAAE,IAAI,KAAI;YACpC,MAAM,UAAU,GAAG,KAAK,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC;YAC/D,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,iBAAiB,EAAE,CAAC;YAEhD,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAG,EAAA,IAAI,CAAC,KAAK,CAAG,EAAA,IAAI,CAAC,mBAAmB,CAAE,CAAA,CAAC,CAAC;AAE/F,YAAA,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE;AAC1B,gBAAA,IAAI,CAAC,OAAO;qBACT,MAAM,CAAC,gBAAgB,CAAC;AACxB,qBAAA,IAAI,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,kBAAkB,GAAG,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,GAAG,CAAA,EAAG,IAAI,CAAC,KAAK,CAAE,CAAA,CAAC,CAAC,CAAC;AACxG,aAAA;AAED,YAAA,MAAM,kBAAkB,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,WAAW,GAAG,CAAC,CAAC;AAChE,YAAA,MAAM,mBAAmB,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,YAAY,GAAG,CAAC,CAAC;YAElE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,EAAE,CAAA,EAAG,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,UAAU,CAAC,GAAG,GAAG,mBAAmB,CAAI,EAAA,CAAA,CAAC,CAAC;AACrF,YAAA,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,EAAE,CAAA,EAAG,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,GAAG,kBAAkB,GAAG,CAAC,UAAU,CAAC,KAAK,GAAG,CAAC,CAAA,EAAA,CAAI,CAAC,CAAC;YAC9G,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;AACnC,SAAC,CAAC;QAEM,IAAW,CAAA,WAAA,GAAG,MAAK;YACzB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;AACnC,SAAC,CAAC;KAvPmH;IAErH,QAAQ,GAAA;QACN,IAAI,CAAC,MAAM,GAAG;AACZ,YAAA,GAAG,EAAE,CAAC,IAAI,CAAC,SAAS;AACpB,YAAA,KAAK,EAAE,CAAC,IAAI,CAAC,WAAW;AACxB,YAAA,MAAM,EAAE,CAAC,IAAI,CAAC,YAAY;AAC1B,YAAA,IAAI,EAAE,CAAC,IAAI,CAAC,UAAU;SACvB,CAAC;AAEF,QAAA,IAAI,IAAI,CAAC,IAAI,KAAK,OAAO,EAAE;;YAEzB,QAAQ,IAAI,CAAC,IAAI;AACf,gBAAA,KAAK,QAAQ;oBACX,MAAM;AAER,gBAAA,KAAK,MAAM;oBACT,MAAM;AACT,aAAA;AACF,SAAA;QAED,QAAQ,IAAI,CAAC,cAAc;AACzB,YAAA,KAAK,WAAW;AACd,gBAAA,IAAI,CAAC,UAAU,GAAG0B,SAAY,EAAE,CAAC;gBACjC,MAAM;AAER,YAAA,KAAK,cAAc;AACjB,gBAAA,IAAI,CAAC,UAAU,GAAGC,YAAe,EAAE,CAAC;gBACpC,MAAM;AAER,YAAA,KAAK,aAAa;AAChB,gBAAA,IAAI,CAAC,UAAU,GAAGC,WAAc,EAAE,CAAC;gBACnC,MAAM;AAER,YAAA;gBACE,MAAM;AACT,SAAA;;AAGD,QAAA,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,uBAAuB,CAAC,CAAC;AAC1G,QAAA,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,sBAAsB,EAAE,IAAI,CAAC,wBAAwB,CAAC,CAAC;;QAI7G,IAAI,CAAC,eAAe,GAAG,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;QAC5F,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;;;;QAM3E,IAAI,IAAI,CAAC,KAAK,EAAE;YACd,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AACpC,SAAA;QAED,IAAI,IAAI,CAAC,MAAM,EAAE;YACf,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AACrC,SAAA;AAED,QAAA,IAAI,CAAC,OAAO,GAAGC,OAAU,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;;QAGxD,IAAI,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE;AAC1B,YAAA,IAAI,CAAC,YAAY,GAAGvB,WAAc,EAAE;AACjC,iBAAA,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC;AAC3B,iBAAA,MAAM,CAAC,CAACJ,GAAM,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAM,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,EAAEC,GAAM,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAM,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;;AAG9F,YAAA,IAAI,CAAC,SAAS,GAAGG,WAAc,EAAE;AAC9B,iBAAA,KAAK,CAAC,IAAI,CAAC,aAAa,CAAC;AACzB,iBAAA,MAAM,CAAC,CAACJ,GAAM,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAM,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,EAAEC,GAAM,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAM,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;AAC/F,SAAA;;AAGD,QAAA,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;AACrB,YAAA,IAAI,CAAC,OAAO,GAAGH,MAAS,CAAC,MAAM,CAAC;iBAC7B,MAAM,CAAC,KAAK,CAAC;AACb,iBAAA,IAAI,CAAC,OAAO,EAAE,oBAAoB,CAAC;AACnC,iBAAA,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC;AACnB,iBAAA,IAAI,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;;AAG/B,YAAA,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,gBAAgB,CAAC,CAAC;YAC3D,IAAI,CAAC,IAAI,CAAC,gBAAgB;AAAE,gBAAA,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,eAAe,CAAC,CAAC;AACvF,SAAA;;AAGD,QAAA,IAAI,CAAC,KAAK,GAAGA,MAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;;AAGhF,QAAA,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,KAAK;aAClB,MAAM,CAAC,KAAK,CAAC;AACb,aAAA,IAAI,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC;AACjE,aAAA,IAAI,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;AACnE,aAAA,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;AAC1B,aAAA,IAAI,CAAC,qBAAqB,EAAE,eAAe,CAAC;aAC5C,IAAI,CACH,SAAS,EACT,CAAA,CAAA,EAAI,IAAI,CAAC,MAAM,CAAC,IAAI,CAAK,EAAA,EAAA,IAAI,CAAC,MAAM,CAAC,GAAG,CAAA,CAAA,EAAI,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAC5F,CAAA,EAAA,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAC/C,CAAA,CAAE,CACH;aACA,MAAM,CAAC,GAAG,CAAC;AACX,aAAA,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;;AAG9B,QAAA,IAAI,CAAC,GAAG;aACL,MAAM,CAAC,GAAG,CAAC;AACX,aAAA,IAAI,CAAC,OAAO,EAAE,KAAK,CAAC;aACpB,SAAS,CAAC,MAAM,CAAC;AACjB,aAAA,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC;AACnC,aAAA,IAAI,CAAC,CAAC,KAAK,KAAK,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;;AAG1F,QAAA,IAAI,CAAC,GAAG;aACL,MAAM,CAAC,MAAM,CAAC;AACd,aAAA,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC;AACrB,aAAA,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;AAC3F,aAAA,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;QAE3B,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC,KAAK,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;QAE7F,IAAI,CAAC,WAAW,EAAE,CAAC;KACpB;AAED,IAAA,WAAW,CAAC,OAAsB,EAAA;QAChC,IAAI,OAAO,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE;YAC7C,IAAI,CAAC,WAAW,EAAE,CAAC;AACpB,SAAA;KACF;IAED,WAAW,GAAA;QACT,IAAI,IAAI,CAAC,OAAO;AAAE,YAAA,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;KACzC;;0HA7OU,6BAA6B,EAAA,IAAA,EAAA,CAAA,EAAA,KAAA,EAAA,EAAA,CAAA,UAAA,EAAA,EAAA,EAAA,KAAA,EAAAwB,EAAA,CAAA,gBAAA,EAAA,EAAA,EAAA,KAAA,EAAAM,kBAAA,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;AAA7B,6BAAA,CAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,6BAA6B,0+BAJ9B,CAAE,CAAA,EAAA,QAAA,EAAA,IAAA,EAAA,eAAA,EAAA,EAAA,CAAA,uBAAA,CAAA,MAAA,EAAA,CAAA,CAAA;2FAID,6BAA6B,EAAA,UAAA,EAAA,CAAA;kBANzC,SAAS;AACE,YAAA,IAAA,EAAA,CAAA,EAAA,QAAA,EAAA,yBAAyB,EACzB,QAAA,EAAA,CAAA,CAAE,EAEK,eAAA,EAAA,uBAAuB,CAAC,MAAM,EAAA,CAAA;8JAI/C,UAAU,EAAA,CAAA;sBADT,WAAW;uBAAC,kBAAkB,CAAA;gBAI/B,cAAc,EAAA,CAAA;sBADb,WAAW;uBAAC,6BAA6B,CAAA;gBAI1C,IAAI,EAAA,CAAA;sBADH,KAAK;gBAIN,QAAQ,EAAA,CAAA;sBADP,KAAK;gBAIN,OAAO,EAAA,CAAA;sBADN,KAAK;gBAIN,cAAc,EAAA,CAAA;sBADb,KAAK;gBAIN,KAAK,EAAA,CAAA;sBADJ,KAAK;gBAIN,MAAM,EAAA,CAAA;sBADL,KAAK;gBAIN,KAAK,EAAA,CAAA;sBADJ,KAAK;gBAIN,MAAM,EAAA,CAAA;sBADL,KAAK;gBAIN,IAAI,EAAA,CAAA;sBADH,KAAK;gBAIN,GAAG,EAAA,CAAA;sBADF,KAAK;gBAIN,SAAS,EAAA,CAAA;sBADR,KAAK;gBAIN,WAAW,EAAA,CAAA;sBADV,KAAK;gBAIN,YAAY,EAAA,CAAA;sBADX,KAAK;gBAIN,UAAU,EAAA,CAAA;sBADT,KAAK;gBAIN,KAAK,EAAA,CAAA;sBADJ,KAAK;gBAIN,SAAS,EAAA,CAAA;sBADR,KAAK;gBAIN,aAAa,EAAA,CAAA;sBADZ,KAAK;gBAIN,OAAO,EAAA,CAAA;sBADN,KAAK;gBAIN,eAAe,EAAA,CAAA;sBADd,KAAK;gBAIN,qBAAqB,EAAA,CAAA;sBADpB,KAAK;gBAIN,uBAAuB,EAAA,CAAA;sBADtB,KAAK;gBAIN,WAAW,EAAA,CAAA;sBADV,KAAK;gBAIN,gBAAgB,EAAA,CAAA;sBADf,KAAK;gBAIN,mBAAmB,EAAA,CAAA;sBADlB,KAAK;gBAIN,sBAAsB,EAAA,CAAA;sBADrB,KAAK;gBAIN,wBAAwB,EAAA,CAAA;sBADvB,KAAK;gBAIN,OAAO,EAAA,CAAA;sBADN,MAAM;gBAIP,OAAO,EAAA,CAAA;sBADN,MAAM;;;MCzFI,2BAA2B,CAAA;AAwHtC,IAAA,WAAA,CAAoB,QAA4B,EAAU,QAAoB,EAAU,OAAyB,EAAA;QAA7F,IAAQ,CAAA,QAAA,GAAR,QAAQ,CAAoB;QAAU,IAAQ,CAAA,QAAA,GAAR,QAAQ,CAAY;QAAU,IAAO,CAAA,OAAA,GAAP,OAAO,CAAkB;QAtHjH,IAAU,CAAA,UAAA,GAAG,IAAI,CAAC;QAGlB,IAAY,CAAA,YAAA,GAAG,IAAI,CAAC;QAMpB,IAAK,CAAA,KAAA,GAAG,GAAG,CAAC;QAGZ,IAAM,CAAA,MAAA,GAAG,GAAG,CAAC;AAGb,QAAA,IAAA,CAAA,SAAS,GAAG,CAAC,CAAC;AAGd,QAAA,IAAA,CAAA,WAAW,GAAG,CAAC,CAAC;AAGhB,QAAA,IAAA,CAAA,YAAY,GAAG,EAAE,CAAC;QAGlB,IAAU,CAAA,UAAA,GAAG,EAAE,CAAC;QAGhB,IAAK,CAAA,KAAA,GAA0C,UAAU,CAAC;QAM1D,IAAe,CAAA,eAAA,GAAsB,IAAI,CAAC;QAG1C,IAAiB,CAAA,iBAAA,GAAG,EAAE,CAAC;QAGvB,IAAe,CAAA,eAAA,GAAsB,IAAI,CAAC;QAG1C,IAAiB,CAAA,iBAAA,GAAG,EAAE,CAAC;QAGvB,IAAU,CAAA,UAAA,GAAG,KAAK,CAAC;AAGnB,QAAA,IAAA,CAAA,WAAW,GAAG,GAAG,GAAG,EAAE,CAAC;QAGvB,IAAc,CAAA,cAAA,GAAuB,OAAO,CAAC;QAG7C,IAAqB,CAAA,qBAAA,GAAa,IAAI,CAAC;QAGvC,IAAuB,CAAA,uBAAA,GAAG,EAAE,CAAC;QAG7B,IAAuB,CAAA,uBAAA,GAAsB,IAAI,CAAC;QAGlD,IAAyB,CAAA,yBAAA,GAAG,EAAE,CAAC;QAG/B,IAAuB,CAAA,uBAAA,GAAsB,IAAI,CAAC;QAGlD,IAAyB,CAAA,yBAAA,GAAG,EAAE,CAAC;QAG/B,IAAsB,CAAA,sBAAA,GAAa,IAAI,CAAC;QAGxC,IAAwB,CAAA,wBAAA,GAAG,EAAE,CAAC;QAG9B,IAAK,CAAA,KAAA,GAAgD,SAAS,CAAC;AAG/D,QAAA,IAAA,CAAA,OAAO,GAAyB,IAAI,YAAY,EAAU,CAAC;AAG3D,QAAA,IAAA,CAAA,OAAO,GAAyB,IAAI,YAAY,EAAU,CAAC;QAqL3D,IAAW,CAAA,WAAA,GAAG,MAAK;AACjB,YAAA,IAAI,CAAC,GAAG;iBACL,SAAS,CAAC,MAAM,CAAC;AACjB,iBAAA,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;AACf,iBAAA,IAAI,CACH,CAAC,KAAK,KACJ,KAAK;iBACF,MAAM,CAAC,MAAM,CAAC;AACd,iBAAA,IAAI,CAAC,OAAO,EAAE,OAAO,CAAC;AACtB,iBAAA,OAAO,CAAC,OAAO,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,KAAK,KAAK,SAAS,IAAI,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC;AAClE,iBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;AAC3C,iBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;iBAC3C,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;iBAC1C,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;AAC3C,iBAAA,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EACnD,CAAC,MAAM,KACL,MAAM,CAAC,IAAI,CAAC,CAAC,MAAM,KAAI;gBACrB,MAAM;AACH,qBAAA,OAAO,CAAC,OAAO,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,KAAK,KAAK,SAAS,IAAI,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC;AAClE,qBAAA,IAAI,CAAC,gBAAgB,EAAE,MAAM,CAAC;AAC9B,qBAAA,UAAU,EAAE;qBACZ,QAAQ,CAAC,IAAI,CAAC;AACd,qBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;AAC3C,qBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;qBAC3C,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;qBAC1C,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;AAC3C,qBAAA,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AAC9C,qBAAA,UAAU,EAAE;AACZ,qBAAA,SAAS,EAAE;AACX,qBAAA,IAAI,CAAC,gBAAgB,EAAE,MAAM,CAAC,CAAC;AAElC,gBAAA,OAAO,MAAM,CAAC;aACf,CAAC,EACJ,CAAC,IAAI,KAAK,IAAI,CAAC,UAAU,EAAE,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC,gBAAgB,EAAE,MAAM,CAAC,CAAC,MAAM,EAAE,CAChF;AACA,iBAAA,EAAE,CAAC,WAAW,EAAE,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;AAClE,iBAAA,EAAE,CAAC,UAAU,EAAE,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,aAAa,EAAE,CAAC;AACrD,iBAAA,EAAE,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC;AAEnE,YAAA,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;AACpB,gBAAA,IAAI,CAAC,KAAK;qBACP,MAAM,CAAC,SAAS,CAAC;qBACjB,SAAS,CAAC,cAAc,CAAC;AACzB,qBAAA,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC;AACtB,qBAAA,IAAI,CACH,CAAC,KAAK,KAAI;oBACR,MAAM,EAAE,GAAG,KAAK;yBACb,MAAM,CAAC,IAAI,CAAC;AACZ,yBAAA,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC;yBAC5B,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,EAAE,CAAC,KAAI;AAC3B,wBAAA,OAAO,CAAC,CAAC;AACX,qBAAC,CAAC,CAAC;AAEL,oBAAA,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC;AACd,yBAAA,IAAI,CAAC,OAAO,EAAE,YAAY,CAAC;AAC3B,yBAAA,KAAK,CAAC,kBAAkB,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;AAExD,oBAAA,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC;AACd,yBAAA,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC;AAC7B,yBAAA,IAAI,CAAC,CAAC,CAAC,KAAI;wBACV,IAAI,KAAK,GAAW,CAAC,CAAC;wBAEtB,QAAQ,IAAI,CAAC,qBAAqB;AAChC,4BAAA,KAAK,QAAQ;AACX,gCAAA,KAAK,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC;gCAClC,MAAM;AACT,yBAAA;wBAED,OAAO,CAAA,KAAA,EAAQ,KAAK,CAAA,CAAE,CAAC;AACzB,qBAAC,CAAC,CAAC;AAEL,oBAAA,OAAO,EAAE,CAAC;AACZ,iBAAC,EACD,CAAC,MAAM,KACL,MAAM;qBACH,MAAM,CAAC,eAAe,CAAC;qBACvB,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,EAAE,CAAC,KAAI;AAC3B,oBAAA,OAAO,CAAC,CAAC;AACX,iBAAC,CAAC;AACD,qBAAA,IAAI,CAAC,CAAC,CAAC,KAAI;;oBAEV,IAAI,KAAK,GAAG,CAAC,CAAC;oBAEd,QAAQ,IAAI,CAAC,qBAAqB;AAChC,wBAAA,KAAK,QAAQ;AACX,4BAAA,KAAK,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC;4BAClC,MAAM;AACT,qBAAA;oBAED,OAAO,CAAA,KAAA,EAAQ,KAAK,CAAA,CAAE,CAAC;iBACxB,CAAC,EACN,CAAC,IAAI,KAAK,IAAI,CAAC,MAAM,EAAE,CACxB;AACA,qBAAA,EAAE,CAAC,WAAW,EAAE,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;qBACnE,EAAE,CAAC,UAAU,EAAE,MAAM,IAAI,CAAC,cAAc,EAAE,CAAC;AAC3C,qBAAA,EAAE,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC;AACrE,aAAA;AACH,SAAC,CAAC;AAEF,QAAA,IAAA,CAAA,cAAc,GAAG,CAAC,KAAK,EAAE,IAAI,KAAI;;AAG/B,YAAA,IAAI,IAAI,CAAC,KAAK,KAAK,IAAI,EAAE;AACvB,gBAAA,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;AAC/B,aAAA;YAED,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AACrC,SAAC,CAAC;QAEF,IAAa,CAAA,aAAA,GAAG,MAAK;YACnB,IAAI,CAAC,WAAW,EAAE,CAAC;AACrB,SAAC,CAAC;AAEF,QAAA,IAAA,CAAA,eAAe,GAAG,CAAC,KAAK,EAAE,IAAI,KAAI;YAChC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AACrC,SAAC,CAAC;AAEF,QAAA,IAAA,CAAA,eAAe,GAAG,CAAC,KAAK,EAAE,IAAI,KAAI;YAChC,MAAM,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC;YACzD,MAAM,OAAO,GAAG9B,MAAS,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;YAC/C,MAAM,YAAY,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;AAEjD,YAAA,WAAW,CAAC,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;AACtC,YAAA,OAAO,CAAC,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;AAEnC,YAAA,MAAM,KAAK,GAAG,WAAW,CAAC,KAAK,EAAE,CAAC;AAElC,YAAA,IAAI,CAAC,KAAK;iBACP,SAAS,CAAC,QAAQ,CAAC;AACnB,iBAAA,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAI;AACf,gBAAA,IAAI,YAAY,GAAG,CAAC,KAAK,KAAK,CAAC,MAAM,EAAE;AACrC,oBAAA,OAAO,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC;AACvB,iBAAA;AAAM,qBAAA;AACL,oBAAA,MAAM,YAAY,GAAG,CAACA,MAAS,CAAC,KAAK,CAAC,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;oBAEjE,OAAO,CAAC,CAAC,KAAK,GAAG,IAAI,IAAI,CAAC,CAAC,KAAK,IAAI,YAAY,CAAC;AAClD,iBAAA;AACH,aAAC,CAAC;AACD,iBAAA,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;AAE7B,YAAA,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;AAC3C,SAAC,CAAC;QAEF,IAAc,CAAA,cAAA,GAAG,MAAK;AACpB,YAAA,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;AAEhE,YAAA,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;AAC5D,SAAC,CAAC;AAEF,QAAA,IAAA,CAAA,gBAAgB,GAAG,CAAC,KAAK,EAAE,IAAI,KAAI;AACjC,YAAA,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;AAC3C,SAAC,CAAC;AAEM,QAAA,IAAA,CAAA,WAAW,GAAG,CAAC,KAAK,EAAE,IAAI,KAAI;;YAGpC,MAAM,UAAU,GAAG,KAAK,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC;YAC/D,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,iBAAiB,EAAE,CAAC;AAChD,YAAA,IAAI,MAAM,CAAC;AACX,YAAA,IAAI,MAAM,CAAC;YAEX,QAAQ,IAAI,CAAC,uBAAuB;AAClC,gBAAA,KAAK,QAAQ;oBACX,MAAM,GAAG,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;oBAC/C,MAAM;AAER,gBAAA,KAAK,MAAM;oBACT,MAAM,UAAU,GAAGP,QAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AAC5C,oBAAA,MAAM,GAAG,IAAI,CAAC,mBAAmB,CAAC,UAAU,CAAC,CAAC;oBAC9C,MAAM;AAER,gBAAA;oBACE,MAAM,GAAG,CAAG,EAAA,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,yBAAyB,CAAA,CAAE,CAAC;AAC9D,aAAA;YAED,QAAQ,IAAI,CAAC,uBAAuB;AAClC,gBAAA,KAAK,QAAQ;oBACX,MAAM,GAAG,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;oBAC/C,MAAM;AAER,gBAAA,KAAK,MAAM;oBACT,MAAM,UAAU,GAAGA,QAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AAC5C,oBAAA,MAAM,GAAG,IAAI,CAAC,mBAAmB,CAAC,UAAU,CAAC,CAAC;oBAC9C,MAAM;AAER,gBAAA;oBACE,MAAM,GAAG,CAAG,EAAA,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,yBAAyB,CAAA,CAAE,CAAC;AAC9D,aAAA;AAED,YAAA,MAAM,KAAK,GACT,IAAI,CAAC,kBAAkB,KAAK,IAAI;AAC9B,kBAAE,CAAA,2BAAA,EAA8B,IAAI,CAAC,KAAK,CAAQ,MAAA,CAAA;kBAChD,CAA8B,2BAAA,EAAA,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA,MAAA,CAAQ,CAAC;AAEhF,YAAA,IAAI,CAAC,OAAO,CAAC,IAAI,CACf,CAAA;AACI,QAAA,EAAA,MAAM,MAAM,MAAM,CAAA;UAClB,KAAK,CAAA;AACR,MAAA,CAAA,CACF,CAAC;AAEF,YAAA,MAAM,kBAAkB,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,WAAW,GAAG,CAAC,CAAC;AAChE,YAAA,MAAM,mBAAmB,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,YAAY,GAAG,CAAC,CAAC;YAElE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,EAAE,CAAA,EAAG,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,UAAU,CAAC,GAAG,GAAG,mBAAmB,CAAI,EAAA,CAAA,CAAC,CAAC;AACrF,YAAA,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,EAAE,CAAA,EAAG,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,GAAG,kBAAkB,GAAG,CAAC,UAAU,CAAC,KAAK,GAAG,CAAC,CAAA,EAAA,CAAI,CAAC,CAAC;YAC9G,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;YAEjC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;AACnC,SAAC,CAAC;QAEM,IAAW,CAAA,WAAA,GAAG,MAAK;YACzB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;AACnC,SAAC,CAAC;AAEM,QAAA,IAAA,CAAA,cAAc,GAAG,CAAC,IAAI,KAAI;YAChC,QAAQ,IAAI,CAAC,eAAe;AAC1B,gBAAA,KAAK,QAAQ;AACX,oBAAA,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;AAEhC,gBAAA,KAAK,MAAM;AACT,oBAAA,MAAM,SAAS,GAAGA,QAAW,CAAC,IAAI,CAAC,CAAC;AACpC,oBAAA,OAAO,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;AAErC,gBAAA;AACE,oBAAA,OAAO,IAAI,CAAC;AACf,aAAA;AACH,SAAC,CAAC;AAEM,QAAA,IAAA,CAAA,cAAc,GAAG,CAAC,IAAI,KAAI;YAChC,QAAQ,IAAI,CAAC,eAAe;AAC1B,gBAAA,KAAK,QAAQ;AACX,oBAAA,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;AAEhC,gBAAA,KAAK,MAAM;AACT,oBAAA,MAAM,SAAS,GAAGA,QAAW,CAAC,IAAI,CAAC,CAAC;AACpC,oBAAA,OAAO,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;AAErC,gBAAA;AACE,oBAAA,OAAO,IAAI,CAAC;AACf,aAAA;AACH,SAAC,CAAC;KApYmH;IAErH,QAAQ,GAAA;QACN,IAAI,CAAC,MAAM,GAAG;AACZ,YAAA,GAAG,EAAE,CAAC,IAAI,CAAC,SAAS;AACpB,YAAA,KAAK,EAAE,CAAC,IAAI,CAAC,WAAW;AACxB,YAAA,MAAM,EAAE,CAAC,IAAI,CAAC,YAAY;AAC1B,YAAA,IAAI,EAAE,CAAC,IAAI,CAAC,UAAU;SACvB,CAAC;;AAGF,QAAA,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;AACxF,QAAA,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;AACxF,QAAA,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,uBAAuB,CAAC,CAAC;AAC1G,QAAA,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,uBAAuB,EAAE,IAAI,CAAC,yBAAyB,CAAC,CAAC;AAChH,QAAA,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,uBAAuB,EAAE,IAAI,CAAC,yBAAyB,CAAC,CAAC;AAChH,QAAA,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,sBAAsB,EAAE,IAAI,CAAC,wBAAwB,CAAC,CAAC;;AAG7G,QAAA,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;AACvB,QAAA,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;AAC3B,QAAA,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;AAC5B,QAAA,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;AAC5B,QAAA,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;AACzB,QAAA,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;AAC3B,QAAA,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;AAC3B,QAAA,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;AACvB,QAAA,IAAI,CAAC,kBAAkB,GAAG,CAAC,CAAC;AAC5B,QAAA,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;AACvB,QAAA,IAAI,CAAC,kBAAkB,GAAG,CAAC,CAAC;;AAG5B,QAAA,IAAI,CAAC,KAAK,GAAGO,MAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;;AAGhF,QAAA,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,KAAK;aAClB,MAAM,CAAC,KAAK,CAAC;AACb,aAAA,IAAI,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC;AAC1B,aAAA,IAAI,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;AACnE,aAAA,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;AAC1B,aAAA,IAAI,CAAC,qBAAqB,EAAE,eAAe,CAAC;AAC5C,aAAA,IAAI,CACH,SAAS,EACT,CAAI,CAAA,EAAA,IAAI,CAAC,MAAM,CAAC,IAAI,CAAA,EAAA,EAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAA,CAAA,EAAI,CAAC,IAAI,CAAC,KAAK,CAAA,CAAA,EAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAA,CAAE,CACjH,CAAC;;QAGJ,MAAM,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,CAAC,OAAO,EAAE,CAAC;AAE3E,QAAA,MAAM,WAAW,GAAQ;AACvB,YAAA,CAACE,GAAM,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAqB,KAAK,CAAC,CAAC,KAAK,CAAC;AACtD,YAAA,CAACC,GAAM,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAqB,KAAK,CAAC,CAAC,KAAK,CAAC;SACvD,CAAC;AACF,QAAA,MAAM,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC;QAElD,QAAQ,IAAI,CAAC,KAAK;AAChB,YAAA,KAAK,WAAW;AACd,gBAAA,IAAI,CAAC,UAAU,GAAG4B,cAAiB,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;gBAExE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;gBAC5C,MAAM;AAER,YAAA,KAAK,UAAU;AACb,gBAAA,IAAI,CAAC,UAAU,GAAGC,aAAgB,EAAE,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;gBAEvE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;gBAC/C,MAAM;AAER,YAAA,KAAK,UAAU;AACb,gBAAA,IAAI,CAAC,UAAU,GAAGC,aAAgB,EAAE,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;gBAEvE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE,CAAC;gBAChD,MAAM;AACT,SAAA;;;QAKD,MAAM,WAAW,GAAQ,CAAC,GAAG,IAAI,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QACtE,MAAM,WAAW,GAAQ,CAAC,GAAG,IAAI,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC;;AAGhF,QAAA,IAAI,CAAC,UAAU,GAAG7B,SAAY,EAAE;aAC7B,MAAM,CAAC,WAAW,CAAC;AACnB,aAAA,UAAU,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;aAC9C,YAAY,CAAC,GAAG,CAAC,CAAC;QAErB,IAAI,CAAC,SAAS,GAAGC,UAAa,CAAC,IAAI,CAAC,UAAU,CAAC;AAC5C,aAAA,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC;AAC5B,aAAA,aAAa,CAAC,IAAI,CAAC,kBAAkB,CAAC;AACtC,aAAA,UAAU,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;AAEnC,QAAA,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG;aAClB,MAAM,CAAC,GAAG,CAAC;AACX,aAAA,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC;aAC5B,IAAI,CAAC,WAAW,EAAE,CAAA,aAAA,EAAgB,IAAI,CAAC,MAAM,GAAG,CAAC;AACjD,aAAA,OAAO,CAAC,aAAa,EAAE,IAAI,CAAC,SAAS,CAAC;AACtC,aAAA,OAAO,CAAC,kBAAkB,EAAE,IAAI,CAAC,aAAa,CAAC;AAC/C,aAAA,OAAO,CAAC,oBAAoB,EAAE,IAAI,CAAC,eAAe,CAAC;AACnD,aAAA,OAAO,CAAC,mBAAmB,EAAE,IAAI,CAAC,cAAc,CAAC;AACjD,aAAA,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;;QAGxB,IAAI,CAAC,UAAU,GAAGD,SAAY,EAAE,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;QAEpG,IAAI,CAAC,SAAS,GAAGG,QAAW,CAAC,IAAI,CAAC,UAAU,CAAC;AAC1C,aAAA,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC;AAC5B,aAAA,aAAa,CAAC,IAAI,CAAC,kBAAkB,CAAC;AACtC,aAAA,UAAU,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;AAEnC,QAAA,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG;aAClB,MAAM,CAAC,GAAG,CAAC;AACX,aAAA,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC;AAC5B,aAAA,OAAO,CAAC,aAAa,EAAE,IAAI,CAAC,SAAS,CAAC;AACtC,aAAA,OAAO,CAAC,kBAAkB,EAAE,IAAI,CAAC,aAAa,CAAC;AAC/C,aAAA,OAAO,CAAC,oBAAoB,EAAE,IAAI,CAAC,eAAe,CAAC;AACnD,aAAA,OAAO,CAAC,mBAAmB,EAAE,IAAI,CAAC,cAAc,CAAC;AACjD,aAAA,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;;AAGxB,QAAA,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;AACrB,YAAA,IAAI,CAAC,OAAO,GAAGP,MAAS,CAAC,MAAM,CAAC;iBAC7B,MAAM,CAAC,KAAK,CAAC;AACb,iBAAA,IAAI,CAAC,OAAO,EAAE,oBAAoB,CAAC;AACnC,iBAAA,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC;AACnB,iBAAA,IAAI,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;AAChC,SAAA;;AAGD,QAAA,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;YACpB,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,0BAA0B,EAAE,IAAI,CAAC,cAAc,KAAK,QAAQ,GAAG,IAAI,GAAG,KAAK,CAAC,CAAC;AAChG,YAAA,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,CAAiB,cAAA,EAAA,IAAI,CAAC,cAAc,CAAA,CAAE,CAAC,CAAC;AAC/E,SAAA;QAED,IAAI,CAAC,WAAW,EAAE,CAAC;KACpB;IAED,WAAW,GAAA;QACT,IAAI,IAAI,CAAC,OAAO;AAAE,YAAA,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;KACzC;AAED,IAAA,WAAW,CAAC,OAAsB,EAAA;QAChC,IAAI,OAAO,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE;YAC7C,IAAI,CAAC,WAAW,EAAE,CAAC;AACpB,SAAA;KACF;;wHAzQU,2BAA2B,EAAA,IAAA,EAAA,CAAA,EAAA,KAAA,EAAAC,kBAAA,EAAA,EAAA,EAAA,KAAA,EAAA,EAAA,CAAA,UAAA,EAAA,EAAA,EAAA,KAAA,EAAA,EAAA,CAAA,gBAAA,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;AAA3B,2BAAA,CAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,2BAA2B,smCAJ5B,CAAE,CAAA,EAAA,QAAA,EAAA,IAAA,EAAA,eAAA,EAAA,EAAA,CAAA,uBAAA,CAAA,MAAA,EAAA,CAAA,CAAA;2FAID,2BAA2B,EAAA,UAAA,EAAA,CAAA;kBANvC,SAAS;AACE,YAAA,IAAA,EAAA,CAAA,EAAA,QAAA,EAAA,sBAAsB,EACtB,QAAA,EAAA,CAAA,CAAE,EAEK,eAAA,EAAA,uBAAuB,CAAC,MAAM,EAAA,CAAA;8JAI/C,UAAU,EAAA,CAAA;sBADT,WAAW;uBAAC,kBAAkB,CAAA;gBAI/B,YAAY,EAAA,CAAA;sBADX,WAAW;uBAAC,0BAA0B,CAAA;gBAIvC,IAAI,EAAA,CAAA;sBADH,KAAK;gBAIN,KAAK,EAAA,CAAA;sBADJ,KAAK;gBAIN,MAAM,EAAA,CAAA;sBADL,KAAK;gBAIN,SAAS,EAAA,CAAA;sBADR,KAAK;gBAIN,WAAW,EAAA,CAAA;sBADV,KAAK;gBAIN,YAAY,EAAA,CAAA;sBADX,KAAK;gBAIN,UAAU,EAAA,CAAA;sBADT,KAAK;gBAIN,KAAK,EAAA,CAAA;sBADJ,KAAK;gBAIN,MAAM,EAAA,CAAA;sBADL,KAAK;gBAIN,eAAe,EAAA,CAAA;sBADd,KAAK;gBAIN,iBAAiB,EAAA,CAAA;sBADhB,KAAK;gBAIN,eAAe,EAAA,CAAA;sBADd,KAAK;gBAIN,iBAAiB,EAAA,CAAA;sBADhB,KAAK;gBAIN,UAAU,EAAA,CAAA;sBADT,KAAK;gBAIN,WAAW,EAAA,CAAA;sBADV,KAAK;gBAIN,cAAc,EAAA,CAAA;sBADb,KAAK;gBAIN,qBAAqB,EAAA,CAAA;sBADpB,KAAK;gBAIN,uBAAuB,EAAA,CAAA;sBADtB,KAAK;gBAIN,uBAAuB,EAAA,CAAA;sBADtB,KAAK;gBAIN,yBAAyB,EAAA,CAAA;sBADxB,KAAK;gBAIN,uBAAuB,EAAA,CAAA;sBADtB,KAAK;gBAIN,yBAAyB,EAAA,CAAA;sBADxB,KAAK;gBAIN,sBAAsB,EAAA,CAAA;sBADrB,KAAK;gBAIN,wBAAwB,EAAA,CAAA;sBADvB,KAAK;gBAIN,KAAK,EAAA,CAAA;sBADJ,KAAK;gBAIN,OAAO,EAAA,CAAA;sBADN,MAAM;gBAIP,OAAO,EAAA,CAAA;sBADN,MAAM;;;MC9EI,iCAAiC,CAAA;AA6G5C,IAAA,WAAA,CAAoB,QAA4B,EAAU,QAAoB,EAAU,OAAyB,EAAA;QAA7F,IAAQ,CAAA,QAAA,GAAR,QAAQ,CAAoB;QAAU,IAAQ,CAAA,QAAA,GAAR,QAAQ,CAAY;QAAU,IAAO,CAAA,OAAA,GAAP,OAAO,CAAkB;QA3GjH,IAAU,CAAA,UAAA,GAAG,IAAI,CAAC;QAGlB,IAAkB,CAAA,kBAAA,GAAG,IAAI,CAAC;QAS1B,IAAO,CAAA,OAAA,GAAG,EAAE,CAAC;QAMb,IAAS,CAAA,SAAA,GAAG,IAAI,CAAC;QAGjB,IAAI,CAAA,IAAA,GAAkB,IAAI,CAAC;QAG3B,IAAK,CAAA,KAAA,GAAG,IAAI,CAAC;QAGb,IAAM,CAAA,MAAA,GAAG,IAAI,CAAC;QAGd,IAAK,CAAA,KAAA,GAAG,GAAG,CAAC;QAGZ,IAAM,CAAA,MAAA,GAAG,GAAG,CAAC;QAGb,IAAS,CAAA,SAAA,GAAG,CAAC,CAAC;QAGd,IAAW,CAAA,WAAA,GAAG,CAAC,CAAC;QAGhB,IAAY,CAAA,YAAA,GAAG,CAAC,CAAC;QAGjB,IAAU,CAAA,UAAA,GAAG,CAAC,CAAC;QAGf,IAAK,CAAA,KAAA,GAAgD,SAAS,CAAC;QAG/D,IAAU,CAAA,UAAA,GAA0C,UAAU,CAAC;QAM/D,IAAW,CAAA,WAAA,GAAG,KAAK,CAAC;QAGpB,IAAmB,CAAA,mBAAA,GAAG,EAAE,CAAC;QAGzB,IAAsB,CAAA,sBAAA,GAAa,IAAI,CAAC;QAGxC,IAAwB,CAAA,wBAAA,GAAG,EAAE,CAAC;QAG9B,IAAU,CAAA,UAAA,GAAG,KAAK,CAAC;QAGnB,IAAW,CAAA,WAAA,GAAG,GAAG,CAAC;QAGlB,IAAW,CAAA,WAAA,GAAkB,IAAI,CAAC;QAGlC,IAAqB,CAAA,qBAAA,GAAa,IAAI,CAAC;QAGvC,IAAuB,CAAA,uBAAA,GAAG,EAAE,CAAC;QAG7B,IAAU,CAAA,UAAA,GAAG,EAAE,CAAC;QAGhB,IAAS,CAAA,SAAA,GAAG,EAAE,CAAC;AAGf,QAAA,IAAA,CAAA,OAAO,GAAyB,IAAI,YAAY,EAAU,CAAC;AAG3D,QAAA,IAAA,CAAA,OAAO,GAAyB,IAAI,YAAY,EAAU,CAAC;QAsJ3D,IAAW,CAAA,WAAA,GAAG,MAAK;AACjB,YAAA,IAAI,CAAC,GAAG;iBACL,MAAM,CAAC,MAAM,CAAC;iBACd,SAAS,CAAC,MAAM,CAAC;iBACjB,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC,KAAI;gBACtB,MAAM,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;AACjF,gBAAA,IAAI,KAAK,EAAE;oBACT,OAAO,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;AACrC,iBAAA;AACH,aAAC,CAAC;iBACD,OAAO,CAAC,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,KAAI;gBAC3B,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;AAC5E,aAAC,CAAC,CAAC;AAEL,YAAA,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;AACrB,gBAAA,IAAI,CAAC,GAAG;qBACL,MAAM,CAAC,MAAM,CAAC;qBACd,SAAS,CAAC,MAAM,CAAC;AACjB,qBAAA,EAAE,CAAC,WAAW,EAAE,CAAC,KAAK,EAAE,IAAI,KAC3B,IAAI,CAAC,gBAAgB,CACnB,KAAK,EACL,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CACtE,CACF;qBACA,EAAE,CAAC,UAAU,EAAE,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;AACvE,qBAAA,EAAE,CAAC,WAAW,EAAE,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;AACzD,qBAAA,EAAE,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,IAAI,KACvB,IAAI,CAAC,iBAAiB,CACpB,KAAK,EACL,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CACtE,CACF,CAAC;AACL,aAAA;AACH,SAAC,CAAC;AAEF,QAAA,IAAA,CAAA,gBAAgB,GAAG,CAAC,KAAK,EAAE,IAAI,KAAI;AACjC,YAAA,IAAI,IAAI,EAAE;AACR,gBAAA,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;gBAC9B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AACpC,aAAA;AACH,SAAC,CAAC;AAEF,QAAA,IAAA,CAAA,eAAe,GAAG,CAAC,KAAK,EAAE,IAAI,KAAI;YAChC,IAAI,CAAC,WAAW,EAAE,CAAC;AACrB,SAAC,CAAC;AAEF,QAAA,IAAA,CAAA,iBAAiB,GAAG,CAAC,KAAK,EAAE,IAAI,KAAI;AAClC,YAAA,IAAI,IAAI,EAAE;gBACR,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AACpC,aAAA;AACH,SAAC,CAAC;AAEM,QAAA,IAAA,CAAA,WAAW,GAAG,CAAC,KAAK,EAAE,IAAI,KAAI;;AAGpC,YAAA,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;YAE/B,IAAI,IAAI,CAAC,KAAK,EAAE;gBACd,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAG,EAAA,IAAI,CAAC,KAAK,CAAG,EAAA,IAAI,CAAC,mBAAmB,CAAE,CAAA,CAAC,CAAC;AAChG,aAAA;AAED,YAAA,IAAI,CAAC,OAAO;iBACT,MAAM,CAAC,gBAAgB,CAAC;AACxB,iBAAA,IAAI,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,kBAAkB,GAAG,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,GAAG,CAAA,EAAG,IAAI,CAAC,KAAK,CAAE,CAAA,CAAC,CAAC,CAAC;YAEvG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;AACnC,SAAC,CAAC;QAEM,IAAW,CAAA,WAAA,GAAG,MAAK;YACzB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;AACnC,SAAC,CAAC;AAEM,QAAA,IAAA,CAAA,WAAW,GAAG,CAAC,KAAK,KAAI;AAC9B,YAAA,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;AACjC,SAAC,CAAC;AAEM,QAAA,IAAA,CAAA,kBAAkB,GAAG,CAAC,KAAK,KAAI;AACrC,YAAA,MAAM,KAAK,GAAGL,OAAU,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC;AACnD,YAAA,MAAM,SAAS,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;AAC5B,YAAA,MAAM,QAAQ,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YAE3B,MAAM,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,qBAAqB,EAAE,CAAC;AAC3D,YAAA,MAAM,YAAY,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC;AACpC,YAAA,MAAM,WAAW,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC;YAElC,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,iBAAiB,EAAE,CAAC;;AAEhD,YAAA,MAAM,SAAS,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;AAE7B,YAAA,MAAM,kBAAkB,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,WAAW,GAAG,CAAC,CAAC;YAChE,MAAM,mBAAmB,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,YAAY,CAAC;AAE9D,YAAA,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,EAAE,CAAG,EAAA,SAAS,GAAG,QAAQ,GAAG,WAAW,GAAG,mBAAmB,GAAG,EAAE,CAAA,EAAA,CAAI,CAAC,CAAC;AAChG,YAAA,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,EAAE,CAAA,EAAG,SAAS,GAAG,YAAY,GAAG,kBAAkB,IAAI,CAAC,CAAC;AACnF,SAAC,CAAC;AAEF,QAAA,IAAA,CAAA,MAAM,GAAG,CAAC,CAAC,KAAI;YACb,MAAM,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC,MAAM,CAAC;;YAI9C,MAAM,CAAC,GAAGU,WAAc,EAAE;iBACvB,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,GAAG,CAAC,CAAC,CAAC;iBACvB,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,GAAG,MAAM,EAAE,CAAC,IAAI,CAAC,WAAW,IAAI,MAAM,GAAG,CAAC,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC;AAExF,YAAA,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,QAAQ,CAAC;iBACtB,SAAS,CAAC,MAAM,CAAC;AACjB,iBAAA,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;iBAC7B,IAAI,CAAC,MAAM,CAAC;AACZ,iBAAA,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;AACjB,iBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;iBACzB,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;iBACxC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;YAE1B,IAAI,IAAI,CAAC,WAAW,EAAE;AACpB,gBAAA,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,EAAE,OAAO,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;AAClH,aAAA;AAED,YAAA,CAAC,CAAC,IAAI,CACJD,UAAa,CAAC,CAAC,CAAC;iBACb,QAAQ,CAAC,EAAE,CAAC;AACZ,iBAAA,UAAU,CAACQ,KAAQ,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC;AAC/B,iBAAA,UAAU,CAAC,CAAC,CAAS,KACpB,IAAI,CAAC,iBAAiB,GAAG,CAAG,EAAA,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAE,CAAA,GAAG,CAAA,EAAG,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC,CAAA,CAAE,CAC7G,CACJ;iBACE,MAAM,CAAC,SAAS,CAAC;AACjB,iBAAA,MAAM,EAAE,CAAC;AACd,SAAC,CAAC;KAxQmH;IAErH,QAAQ,GAAA;QACN,IAAI,CAAC,MAAM,GAAG;AACZ,YAAA,GAAG,EAAE,CAAC,IAAI,CAAC,SAAS;AACpB,YAAA,KAAK,EAAE,CAAC,IAAI,CAAC,WAAW;AACxB,YAAA,MAAM,EAAE,CAAC,IAAI,CAAC,YAAY;AAC1B,YAAA,IAAI,EAAE,CAAC,IAAI,CAAC,UAAU;SACvB,CAAC;;QAGF,MAAM,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,CAAC,OAAO,EAAE,CAAC;AAE3E,QAAA,MAAM,WAAW,GAAQ,CAAC,CAACX,GAAM,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,EAAE,CAACC,GAAM,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;AAClG,QAAA,MAAM,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC;QAElD,QAAQ,IAAI,CAAC,UAAU;AACrB,YAAA,KAAK,WAAW;AACd,gBAAA,IAAI,CAAC,UAAU,GAAG4B,cAAiB,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;gBAExE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;gBAC5C,MAAM;AAER,YAAA,KAAK,UAAU;AACb,gBAAA,IAAI,CAAC,UAAU,GAAGC,aAAgB,EAAE,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;gBAEvE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;gBAC/C,MAAM;AAER,YAAA,KAAK,UAAU;AACb,gBAAA,IAAI,CAAC,UAAU,GAAGC,aAAgB,EAAE,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;gBAEvE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE,CAAC;gBAChD,MAAM;AACT,SAAA;;AAGD,QAAA,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,sBAAsB,EAAE,IAAI,CAAC,wBAAwB,CAAC,CAAC;AAC7G,QAAA,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,uBAAuB,CAAC,CAAC;QAE1G,QAAQ,IAAI,CAAC,cAAc;AACzB,YAAA,KAAK,WAAW;AACd,gBAAA,IAAI,CAAC,UAAU,GAAGP,SAAY,EAAE,CAAC;gBACjC,MAAM;AAER,YAAA,KAAK,cAAc;AACjB,gBAAA,IAAI,CAAC,UAAU,GAAGC,YAAe,EAAE,CAAC;gBACpC,MAAM;AAER,YAAA,KAAK,aAAa;AAChB,gBAAA,IAAI,CAAC,UAAU,GAAGC,WAAc,EAAE,CAAC;gBACnC,MAAM;AACT,SAAA;QAED,IAAI,CAAC,eAAe,GAAG,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;QAC5F,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;QAE3E,IAAI,IAAI,CAAC,KAAK,EAAE;YACd,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AACpC,SAAA;QAED,IAAI,IAAI,CAAC,MAAM,EAAE;YACf,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AACrC,SAAA;AAED,QAAA,IAAI,CAAC,OAAO,GAAGC,OAAU,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;;;;;;AAQxD,QAAA,IAAI,CAAC,KAAK,GAAG7B,MAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;;AAGhF,QAAA,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;AACrB,YAAA,IAAI,CAAC,OAAO,GAAGA,MAAS,CAAC,MAAM,CAAC;iBAC7B,MAAM,CAAC,KAAK,CAAC;AACb,iBAAA,IAAI,CAAC,OAAO,EAAE,oBAAoB,CAAC;AACnC,iBAAA,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC;AACnB,iBAAA,IAAI,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;;AAG/B,YAAA,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,gBAAgB,CAAC,CAAC;AAC3D,YAAA,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,eAAe,CAAC,CAAC;AAC3D,SAAA;;AAGD,QAAA,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,KAAK;aAClB,MAAM,CAAC,KAAK,CAAC;AACb,aAAA,IAAI,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC;AAC1B,aAAA,IAAI,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;AACnE,aAAA,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;AAC1B,aAAA,IAAI,CAAC,qBAAqB,EAAE,eAAe,CAAC;AAC5C,aAAA,IAAI,CACH,SAAS,EACT,CAAI,CAAA,EAAA,IAAI,CAAC,MAAM,CAAC,IAAI,CAAA,EAAA,EAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAA,CAAA,EAAI,CAAC,IAAI,CAAC,KAAK,CAAA,CAAA,EAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAA,CAAE,CACjH,CAAC;;AAGJ,QAAA,IAAI,CAAC,GAAG;aACL,MAAM,CAAC,GAAG,CAAC;AACX,aAAA,IAAI,CAAC,OAAO,EAAE,KAAK,CAAC;aACpB,SAAS,CAAC,MAAM,CAAC;AACjB,aAAA,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC;AACnC,aAAA,IAAI,CAAC,CAAC,KAAK,KAAK,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;;AAG1F,QAAA,IAAI,CAAC,GAAG;aACL,MAAM,CAAC,MAAM,CAAC;AACd,aAAA,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC;AACrB,aAAA,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;AACxG,aAAA,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;;AAG3B,QAAA,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;AACpB,YAAA,IAAI,CAAC,GAAG;iBACL,MAAM,CAAC,GAAG,CAAC;AACX,iBAAA,IAAI,CAAC,WAAW,EAAE,CAAA,UAAA,EAAa,CAAC,IAAI,CAAC,UAAU,CAAA,EAAA,EAAK,CAAC,IAAI,CAAC,SAAS,GAAG,CAAC;AACvE,iBAAA,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AACtB,SAAA;QAED,IAAI,CAAC,WAAW,EAAE,CAAC;KACpB;AAED,IAAA,WAAW,CAAC,OAAsB,EAAA;QAChC,IAAI,OAAO,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE;YAC7C,IAAI,CAAC,WAAW,EAAE,CAAC;AACpB,SAAA;KACF;IAED,WAAW,GAAA;QACT,IAAI,IAAI,CAAC,OAAO;AAAE,YAAA,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;KACzC;;8HAnPU,iCAAiC,EAAA,IAAA,EAAA,CAAA,EAAA,KAAA,EAAAC,kBAAA,EAAA,EAAA,EAAA,KAAA,EAAA,EAAA,CAAA,UAAA,EAAA,EAAA,EAAA,KAAA,EAAA,EAAA,CAAA,gBAAA,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;AAAjC,iCAAA,CAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,iCAAiC,4hCAJlC,CAAE,CAAA,EAAA,QAAA,EAAA,IAAA,EAAA,eAAA,EAAA,EAAA,CAAA,uBAAA,CAAA,MAAA,EAAA,CAAA,CAAA;2FAID,iCAAiC,EAAA,UAAA,EAAA,CAAA;kBAN7C,SAAS;AACE,YAAA,IAAA,EAAA,CAAA,EAAA,QAAA,EAAA,6BAA6B,EAC7B,QAAA,EAAA,CAAA,CAAE,EAEK,eAAA,EAAA,uBAAuB,CAAC,MAAM,EAAA,CAAA;8JAI/C,UAAU,EAAA,CAAA;sBADT,WAAW;uBAAC,kBAAkB,CAAA;gBAI/B,kBAAkB,EAAA,CAAA;sBADjB,WAAW;uBAAC,iCAAiC,CAAA;gBAI9C,IAAI,EAAA,CAAA;sBADH,KAAK;gBAIN,QAAQ,EAAA,CAAA;sBADP,KAAK;gBAIN,OAAO,EAAA,CAAA;sBADN,KAAK;gBAIN,cAAc,EAAA,CAAA;sBADb,KAAK;gBAIN,SAAS,EAAA,CAAA;sBADR,KAAK;gBAIN,IAAI,EAAA,CAAA;sBADH,KAAK;gBAIN,KAAK,EAAA,CAAA;sBADJ,KAAK;gBAIN,MAAM,EAAA,CAAA;sBADL,KAAK;gBAIN,KAAK,EAAA,CAAA;sBADJ,KAAK;gBAIN,MAAM,EAAA,CAAA;sBADL,KAAK;gBAIN,SAAS,EAAA,CAAA;sBADR,KAAK;gBAIN,WAAW,EAAA,CAAA;sBADV,KAAK;gBAIN,YAAY,EAAA,CAAA;sBADX,KAAK;gBAIN,UAAU,EAAA,CAAA;sBADT,KAAK;gBAIN,KAAK,EAAA,CAAA;sBADJ,KAAK;gBAIN,UAAU,EAAA,CAAA;sBADT,KAAK;gBAIN,MAAM,EAAA,CAAA;sBADL,KAAK;gBAIN,WAAW,EAAA,CAAA;sBADV,KAAK;gBAIN,mBAAmB,EAAA,CAAA;sBADlB,KAAK;gBAIN,sBAAsB,EAAA,CAAA;sBADrB,KAAK;gBAIN,wBAAwB,EAAA,CAAA;sBADvB,KAAK;gBAIN,UAAU,EAAA,CAAA;sBADT,KAAK;gBAIN,WAAW,EAAA,CAAA;sBADV,KAAK;gBAIN,WAAW,EAAA,CAAA;sBADV,KAAK;gBAIN,qBAAqB,EAAA,CAAA;sBADpB,KAAK;gBAIN,uBAAuB,EAAA,CAAA;sBADtB,KAAK;gBAIN,UAAU,EAAA,CAAA;sBADT,KAAK;gBAIN,SAAS,EAAA,CAAA;sBADR,KAAK;gBAIN,OAAO,EAAA,CAAA;sBADN,MAAM;gBAIP,OAAO,EAAA,CAAA;sBADN,MAAM;;;MC1GI,8BAA8B,CAAA;AAiJzC,IAAA,WAAA,CACU,QAA4B,EAC5B,QAAoB,EACpB,OAAyB,EACzB,SAAmB,EAAA;QAHnB,IAAQ,CAAA,QAAA,GAAR,QAAQ,CAAoB;QAC5B,IAAQ,CAAA,QAAA,GAAR,QAAQ,CAAY;QACpB,IAAO,CAAA,OAAA,GAAP,OAAO,CAAkB;QACzB,IAAS,CAAA,SAAA,GAAT,SAAS,CAAU;QAnJ7B,IAAU,CAAA,UAAA,GAAG,IAAI,CAAC;QAGlB,IAAe,CAAA,eAAA,GAAG,IAAI,CAAC;QAMvB,IAAK,CAAA,KAAA,GAAG,GAAG,CAAC;QAGZ,IAAM,CAAA,MAAA,GAAG,GAAG,CAAC;QAGb,IAAQ,CAAA,QAAA,GAAG,IAAI,CAAC;QAGhB,IAAS,CAAA,SAAA,GAAG,KAAK,CAAC;QAGlB,IAAc,CAAA,cAAA,GAAG,IAAI,CAAC;QAGtB,IAAe,CAAA,eAAA,GAAsB,IAAI,CAAC;QAG1C,IAAiB,CAAA,iBAAA,GAAG,EAAE,CAAC;QAGvB,IAAU,CAAA,UAAA,GAAG,CAAC,CAAC;QAGf,IAAU,CAAA,UAAA,GAAkB,IAAI,CAAC;QAGjC,IAAS,CAAA,SAAA,GAAG,KAAK,CAAC;QAGlB,IAAc,CAAA,cAAA,GAAG,IAAI,CAAC;QAGtB,IAAe,CAAA,eAAA,GAAsB,IAAI,CAAC;QAG1C,IAAiB,CAAA,iBAAA,GAAG,EAAE,CAAC;QAGvB,IAAU,CAAA,UAAA,GAAG,CAAC,CAAC;QAGf,IAAS,CAAA,SAAA,GAAG,EAAE,CAAC;AAGf,QAAA,IAAA,CAAA,WAAW,GAAG,IAAI,CAAC,QAAQ,GAAG,CAAC,GAAG,EAAE,CAAC;QAGrC,IAAY,CAAA,YAAA,GAAG,EAAE,CAAC;QAGlB,IAAU,CAAA,UAAA,GAAG,EAAE,CAAC;QAGhB,IAAU,CAAA,UAAA,GAAG,KAAK,CAAC;AAGnB,QAAA,IAAA,CAAA,WAAW,GAAG,GAAG,GAAG,EAAE,CAAC;QAGvB,IAAc,CAAA,cAAA,GAAuB,OAAO,CAAC;QAG7C,IAAqB,CAAA,qBAAA,GAAsB,IAAI,CAAC;QAGhD,IAAuB,CAAA,uBAAA,GAAG,EAAE,CAAC;QAG7B,IAAW,CAAA,WAAA,GAAG,KAAK,CAAC;QAGpB,IAAsB,CAAA,sBAAA,GAAsB,IAAI,CAAC;QAGjD,IAAwB,CAAA,wBAAA,GAAG,EAAE,CAAC;QAG9B,IAAsB,CAAA,sBAAA,GAAa,IAAI,CAAC;QAGxC,IAAwB,CAAA,wBAAA,GAAG,EAAE,CAAC;QAG9B,IAAQ,CAAA,QAAA,GAAG,KAAK,CAAC;QAGjB,IAAK,CAAA,KAAA,GAAgD,SAAS,CAAC;QAG/D,IAAQ,CAAA,QAAA,GAAG,IAAI,CAAC;AAGhB,QAAA,IAAA,CAAA,OAAO,GAAyB,IAAI,YAAY,EAAU,CAAC;AAG3D,QAAA,IAAA,CAAA,OAAO,GAAyB,IAAI,YAAY,EAAU,CAAC;AA8qB3D,QAAA,IAAA,CAAA,YAAY,GAAG,CAAC,KAAK,EAAE,IAA6B,KAAI;YACtD,MAAM,IAAI,GAAGD,MAAS,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;AAE5C,YAAA,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;AAE/E,YAAA,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC,KAAK,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;AAEvE,YAAA,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;YAE9B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AACrC,SAAC,CAAC;QAEF,IAAW,CAAA,WAAA,GAAG,MAAK;YACjB,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC,KAAK,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;YAE5E,IAAI,CAAC,WAAW,EAAE,CAAC;AACrB,SAAC,CAAC;AAEF,QAAA,IAAA,CAAA,aAAa,GAAG,CAAC,KAAK,EAAE,IAAI,KAAI;YAC9B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AACrC,SAAC,CAAC;AAEF,QAAA,IAAA,CAAA,eAAe,GAAG,CAAC,KAAK,EAAE,IAAI,KAAI;AAChC,YAAA,IAAI,CAAC,KAAK;iBACP,SAAS,CAAC,cAAc,CAAC;AACzB,iBAAA,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,CAAC;AACxC,iBAAA,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;AAE7B,YAAA,IAAI,CAAC,KAAK;iBACP,SAAS,CAAC,YAAY,CAAC;iBACvB,SAAS,CAAC,MAAM,CAAC;AACjB,iBAAA,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,CAAC;AACxC,iBAAA,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;AAE7B,YAAA,MAAM,GAAG,GAAG,IAAI,CAAC,KAAK;iBACnB,SAAS,CAAC,YAAY,CAAC;iBACvB,SAAS,CAAC,MAAM,CAAC;AACjB,iBAAA,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,CAAC;AACxC,iBAAA,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;YAE7B,MAAM,QAAQ,GAAG,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;YAExC,GAAG,CAAC,KAAK,CAAC,MAAM,EAAE,MAAM,QAAQ,CAAC,CAAC;YAElC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AACrC,SAAC,CAAC;QAEF,IAAc,CAAA,cAAA,GAAG,MAAK;AACpB,YAAA,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;YAEhE,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC,KAAK,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;AACtG,SAAC,CAAC;AAEF,QAAA,IAAA,CAAA,gBAAgB,GAAG,CAAC,KAAK,EAAE,IAAI,KAAI;YACjC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AACrC,SAAC,CAAC;AAEM,QAAA,IAAA,CAAA,WAAW,GAAG,CAAC,KAAK,EAAE,IAAI,KAAI;YACpC,MAAM,UAAU,GAAG,KAAK,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC;YAC/D,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,iBAAiB,EAAE,CAAC;AAChD,YAAA,IAAI,KAAK,CAAC;YAEV,QAAQ,IAAI,CAAC,sBAAsB;AACjC,gBAAA,KAAK,QAAQ;oBACX,KAAK,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;oBAC5C,MAAM;AAER,gBAAA,KAAK,MAAM;oBACT,MAAM,UAAU,GAAGP,QAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AAC3C,oBAAA,KAAK,GAAG,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC,CAAC;oBAC5C,MAAM;AAER,gBAAA;AACE,oBAAA,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;AACtB,aAAA;AAED,YAAA,MAAM,KAAK,GACT,IAAI,CAAC,kBAAkB,KAAK,IAAI;AAC9B,kBAAE,CAAA,2BAAA,EAA8B,IAAI,CAAC,KAAK,CAAQ,MAAA,CAAA;kBAChD,CAA8B,2BAAA,EAAA,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA,MAAA,CAAQ,CAAC;AAEhF,YAAA,IAAI,CAAC,OAAO,CAAC,IAAI,CACf,CAAA;UACI,KAAK,CAAA;UACL,KAAK,CAAA;AACR,MAAA,CAAA,CACF,CAAC;AAEF,YAAA,MAAM,kBAAkB,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,WAAW,GAAG,CAAC,CAAC;YAChE,MAAM,mBAAmB,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,YAAY,CAAC;YAC9D,MAAM,cAAc,GAAG,CAAC,CAAC;YAEzB,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACjB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,EAAE,CAAA,EAAG,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,UAAU,CAAC,GAAG,GAAG,mBAAmB,GAAG,cAAc,CAAI,EAAA,CAAA,CAAC,CAAC;AACtG,gBAAA,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,EAAE,CAAA,EAAG,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,GAAG,kBAAkB,GAAG,CAAC,UAAU,CAAC,KAAK,GAAG,CAAC,CAAA,EAAA,CAAI,CAAC,CAAC;AAC/G,aAAA;AAAM,iBAAA;AACL,gBAAA,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,EAAE,CAAA,EAAG,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,UAAU,CAAC,GAAG,GAAG,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,GAAG,mBAAmB,GAAG,CAAC,CAAA,EAAA,CAAI,CAAC,CAAC;gBAClH,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,EAAE,CAAG,EAAA,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,UAAU,CAAC,KAAK,GAAG,cAAc,CAAI,EAAA,CAAA,CAAC,CAAC;AACpF,aAAA;YAED,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;AACnC,SAAC,CAAC;QAEM,IAAW,CAAA,WAAA,GAAG,MAAK;YACzB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;AACnC,SAAC,CAAC;AAEM,QAAA,IAAA,CAAA,cAAc,GAAG,CAAC,IAAI,KAAI;YAChC,QAAQ,IAAI,CAAC,eAAe;AAC1B,gBAAA,KAAK,QAAQ;AACX,oBAAA,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;AAEhC,gBAAA,KAAK,MAAM;AACT,oBAAA,MAAM,SAAS,GAAGA,QAAW,CAAC,IAAI,CAAC,CAAC;AACpC,oBAAA,OAAO,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;AAErC,gBAAA;AACE,oBAAA,OAAO,IAAI,CAAC;AACf,aAAA;AACH,SAAC,CAAC;AAEM,QAAA,IAAA,CAAA,cAAc,GAAG,CAAC,IAAI,KAAI;YAChC,QAAQ,IAAI,CAAC,eAAe;AAC1B,gBAAA,KAAK,QAAQ;AACX,oBAAA,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;AAEhC,gBAAA,KAAK,MAAM;AACT,oBAAA,MAAM,SAAS,GAAGA,QAAW,CAAC,IAAI,CAAC,CAAC;AACpC,oBAAA,OAAO,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;AAErC,gBAAA;AACE,oBAAA,OAAO,IAAI,CAAC;AACf,aAAA;AACH,SAAC,CAAC;KAxwBE;IAEJ,QAAQ,GAAA;QACN,IAAI,CAAC,MAAM,GAAG;AACZ,YAAA,GAAG,EAAE,CAAC,IAAI,CAAC,SAAS;AACpB,YAAA,KAAK,EAAE,CAAC,IAAI,CAAC,WAAW;AACxB,YAAA,MAAM,EAAE,CAAC,IAAI,CAAC,YAAY;AAC1B,YAAA,IAAI,EAAE,CAAC,IAAI,CAAC,UAAU;SACvB,CAAC;;AAGF,QAAA,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;AACxF,QAAA,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;AACxF,QAAA,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,uBAAuB,CAAC,CAAC;AAC1G,QAAA,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,sBAAsB,EAAE,IAAI,CAAC,wBAAwB,CAAC,CAAC;AAC7G,QAAA,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,sBAAsB,EAAE,IAAI,CAAC,wBAAwB,CAAC,CAAC;;AAG7G,QAAA,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;AAC1B,QAAA,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;AAC3B,QAAA,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;AAC7B,QAAA,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;AAC3B,QAAA,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;AACvB,QAAA,IAAI,CAAC,kBAAkB,GAAG,CAAC,CAAC;AAC5B,QAAA,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,UAAU,GAAG,EAAE,GAAG,CAAC,CAAC;AACjD,QAAA,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;AAC3B,QAAA,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;AAC7B,QAAA,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;AAC3B,QAAA,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;AACvB,QAAA,IAAI,CAAC,kBAAkB,GAAG,CAAC,CAAC;QAE5B,IAAI,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,cAAc,KAAK,OAAO,EAAE;AACvD,YAAA,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC;AAC9C,SAAA;;AAGD,QAAA,IAAI,CAAC,KAAK,GAAGO,MAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;;AAGhF,QAAA,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,KAAK;aAClB,MAAM,CAAC,KAAK,CAAC;AACb,aAAA,IAAI,CAAC,OAAO,EAAE,MAAK;YAClB,IAAI,IAAI,CAAC,QAAQ,EAAE;AACjB,gBAAA,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC;AACpB,aAAA;AAAM,iBAAA;AACL,gBAAA,OAAO,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC;AAC3D,aAAA;AACH,SAAC,CAAC;aACD,IAAI,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,gBAAgB,CAAC;AAC3F,aAAA,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;AAC1B,aAAA,IAAI,CAAC,qBAAqB,EAAE,eAAe,CAAC;AAC5C,aAAA,IAAI,CAAC,SAAS,EAAE,MAAK;YACpB,IAAI,IAAI,CAAC,QAAQ,EAAE;AACjB,gBAAA,OAAO,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,CAAK,EAAA,EAAA,IAAI,CAAC,MAAM,CAAC,GAAG,CAAA,CAAA,EAAI,CAAC,IAAI,CAAC,KAAK,CAC5D,CAAA,EAAA,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,gBAC7D,EAAE,CAAC;AACJ,aAAA;AAAM,iBAAA;gBACL,OAAO,CAAA,CAAA,EAAI,IAAI,CAAC,MAAM,CAAC,IAAI,CAAA,EAAA,EAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAI,CAAA,EAAA,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAA,CAAA,EACnG,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,gBAC7D,CAAA,CAAE,CAAC;AACJ,aAAA;AACH,SAAC,CAAC,CAAC;;AAGL,QAAA,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;AACrB,YAAA,IAAI,CAAC,OAAO,GAAGA,MAAS,CAAC,MAAM,CAAC;iBAC7B,MAAM,CAAC,KAAK,CAAC;AACb,iBAAA,IAAI,CAAC,OAAO,EAAE,MAAK;gBAClB,OAAO,IAAI,CAAC,QAAQ,GAAG,oBAAoB,GAAG,mBAAmB,CAAC;AACpE,aAAC,CAAC;AACD,iBAAA,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC;AACnB,iBAAA,IAAI,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;AAChC,SAAA;;AAGD,QAAA,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;YACpB,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,0BAA0B,EAAE,IAAI,CAAC,cAAc,KAAK,QAAQ,GAAG,IAAI,GAAG,KAAK,CAAC,CAAC;AAChG,YAAA,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,CAAiB,cAAA,EAAA,IAAI,CAAC,cAAc,CAAA,CAAE,CAAC,CAAC;AAC/E,SAAA;;AAGD,QAAA,IAAI,CAAC,UAAU,GAAGH,YAAe,EAAE,CAAC,KAAK,CACvC,IAAI,CAAC,QAAQ,CAAC,kBAAkB,CAAC,IAAI,CAAC,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC,CAC7E,CAAC;QAEF,IAAI,IAAI,CAAC,QAAQ,EAAE;;AAEjB,YAAA,IAAI,CAAC,UAAU,GAAGO,SAAY,EAAE;AAC7B,iBAAA,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC;AACnC,iBAAA,UAAU,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;iBAC9C,KAAK,CAAC,CAAC,CAAC,CAAC;;YAGZ,CAAC,IAAI,CAAC,YAAY;AAChB,kBAAE,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;AACnD,kBAAE,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;YAEpD,IAAI,CAAC,SAAS,GAAGC,UAAa,CAAC,IAAI,CAAC,UAAU,CAAC;AAC5C,iBAAA,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC;AAC5B,iBAAA,aAAa,CAAC,IAAI,CAAC,kBAAkB,CAAC;AACtC,iBAAA,UAAU,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;AAEnC,YAAA,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG;iBAClB,MAAM,CAAC,GAAG,CAAC;AACX,iBAAA,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC;iBAC5B,IAAI,CAAC,WAAW,EAAE,CAAA,aAAA,EAAgB,IAAI,CAAC,MAAM,GAAG,CAAC;AACjD,iBAAA,OAAO,CAAC,aAAa,EAAE,IAAI,CAAC,SAAS,CAAC;AACtC,iBAAA,OAAO,CAAC,kBAAkB,EAAE,IAAI,CAAC,aAAa,CAAC;AAC/C,iBAAA,OAAO,CAAC,oBAAoB,EAAE,IAAI,CAAC,eAAe,CAAC;AACnD,iBAAA,OAAO,CAAC,mBAAmB,EAAE,IAAI,CAAC,cAAc,CAAC;AACjD,iBAAA,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;;;;;;;;;;;;AAexB,YAAA,IAAI,CAAC,QAAQ,GAAGF,GAAM,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,IAAS,KAAI;AAC9C,gBAAA,MAAM,KAAK,GAAG,EAAE,GAAG,IAAI,EAAE,CAAC;gBAC1B,OAAO,KAAK,CAAC,GAAG,CAAC;gBAEjB,OAAOA,GAAM,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;AACtC,aAAC,CAAC,CAAC;AAEH,YAAA,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC;AAEpE,YAAA,IAAI,CAAC,UAAU,GAAGG,WAAc,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC;YAElG,IAAI,CAAC,SAAS,GAAGC,QAAW,CAAC,IAAI,CAAC,UAAU,CAAC;AAC1C,iBAAA,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC;AACtB,iBAAA,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC;AAC5B,iBAAA,aAAa,CAAC,IAAI,CAAC,kBAAkB,CAAC;AACtC,iBAAA,UAAU,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;AAEnC,YAAA,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG;iBAClB,MAAM,CAAC,GAAG,CAAC;AACX,iBAAA,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC;AAC5B,iBAAA,OAAO,CAAC,aAAa,EAAE,IAAI,CAAC,SAAS,CAAC;AACtC,iBAAA,OAAO,CAAC,kBAAkB,EAAE,IAAI,CAAC,aAAa,CAAC;AAC/C,iBAAA,OAAO,CAAC,oBAAoB,EAAE,IAAI,CAAC,eAAe,CAAC;AACnD,iBAAA,OAAO,CAAC,mBAAmB,EAAE,IAAI,CAAC,cAAc,CAAC;AACjD,iBAAA,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;;YAGxB,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACjB,IAAI,CAAC,SAAS,GAAGA,QAAW,CAAC,IAAI,CAAC,UAAU,CAAC;AAC1C,qBAAA,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC;AACtB,qBAAA,QAAQ,CAAC,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AAEhE,gBAAA,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG;qBAClB,MAAM,CAAC,GAAG,CAAC;AACX,qBAAA,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC;AAC5B,qBAAA,OAAO,CAAC,kBAAkB,EAAE,IAAI,CAAC,aAAa,CAAC;AAC/C,qBAAA,IAAI,CAAC,WAAW,EAAE,CAAA,eAAA,CAAiB,CAAC;AACpC,qBAAA,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AACzB,aAAA;;AAGD,YAAA,IAAI,CAAC,QAAQ,GAAGH,SAAY,EAAE;AAC3B,iBAAA,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;iBAC1C,UAAU,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC,CAAC;iBAC5C,YAAY,CAAC,GAAG,CAAC;iBACjB,YAAY,CAAC,GAAG,CAAC,CAAC;YAErB,IAAI,CAAC,mBAAmB,EAAE,CAAC;AAC5B,SAAA;AAAM,aAAA;;AAEL,YAAA,IAAI,CAAC,QAAQ,GAAGD,GAAM,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,IAAS,KAAI;AAC9C,gBAAA,MAAM,KAAK,GAAG,EAAE,GAAG,IAAI,EAAE,CAAC;gBAC1B,OAAO,KAAK,CAAC,GAAG,CAAC;gBACjB,OAAOA,GAAM,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;AACtC,aAAC,CAAC,CAAC;AAEH,YAAA,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC;AAEpE,YAAA,IAAI,CAAC,UAAU,GAAGG,WAAc,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;YAEjG,IAAI,CAAC,SAAS,GAAGD,UAAa,CAAC,IAAI,CAAC,UAAU,CAAC;AAC5C,iBAAA,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC;AACtB,iBAAA,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC;AAC5B,iBAAA,aAAa,CAAC,IAAI,CAAC,kBAAkB,CAAC;AACtC,iBAAA,UAAU,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;AAEnC,YAAA,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG;iBAClB,MAAM,CAAC,GAAG,CAAC;AACX,iBAAA,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC;iBAC5B,IAAI,CAAC,WAAW,EAAE,CAAA,aAAA,EAAgB,IAAI,CAAC,MAAM,GAAG,CAAC;AACjD,iBAAA,OAAO,CAAC,aAAa,EAAE,IAAI,CAAC,SAAS,CAAC;AACtC,iBAAA,OAAO,CAAC,kBAAkB,EAAE,IAAI,CAAC,aAAa,CAAC;AAC/C,iBAAA,OAAO,CAAC,oBAAoB,EAAE,IAAI,CAAC,eAAe,CAAC;AACnD,iBAAA,OAAO,CAAC,mBAAmB,EAAE,IAAI,CAAC,cAAc,CAAC;AACjD,iBAAA,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;;AAGxB,YAAA,IAAI,CAAC,UAAU,GAAGD,SAAY,EAAE;AAC7B,iBAAA,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC;iBACnC,UAAU,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;iBAC5B,KAAK,CAAC,CAAC,CAAC,CAAC;;YAGZ,CAAC,IAAI,CAAC,YAAY;AAChB,kBAAE,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;AACnD,kBAAE,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;YAEpD,IAAI,CAAC,SAAS,GAAGG,QAAW,CAAC,IAAI,CAAC,UAAU,CAAC;AAC1C,iBAAA,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC;AAC5B,iBAAA,aAAa,CAAC,IAAI,CAAC,kBAAkB,CAAC;AACtC,iBAAA,UAAU,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;AAEnC,YAAA,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG;iBAClB,MAAM,CAAC,GAAG,CAAC;AACX,iBAAA,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC;AAC5B,iBAAA,OAAO,CAAC,aAAa,EAAE,IAAI,CAAC,SAAS,CAAC;AACtC,iBAAA,OAAO,CAAC,kBAAkB,EAAE,IAAI,CAAC,aAAa,CAAC;AAC/C,iBAAA,OAAO,CAAC,oBAAoB,EAAE,IAAI,CAAC,eAAe,CAAC;AACnD,iBAAA,OAAO,CAAC,mBAAmB,EAAE,IAAI,CAAC,cAAc,CAAC;AACjD,iBAAA,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;;YAGxB,IAAI,IAAI,CAAC,QAAQ,EAAE;AACjB,gBAAA,IAAI,CAAC,SAAS,GAAGF,UAAa,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AACvE,gBAAA,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG;qBAClB,MAAM,CAAC,GAAG,CAAC;AACX,qBAAA,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC;AAC5B,qBAAA,OAAO,CAAC,kBAAkB,EAAE,IAAI,CAAC,aAAa,CAAC;qBAC/C,IAAI,CAAC,WAAW,EAAE,CAAA,aAAA,EAAgB,IAAI,CAAC,MAAM,GAAG,CAAC;AACjD,qBAAA,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AACzB,aAAA;;;;;;;;;;;;;;AAiBD,YAAA,IAAI,CAAC,QAAQ,GAAGD,SAAY,EAAE;AAC3B,iBAAA,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;iBAC1C,UAAU,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC,CAAC;iBAC5C,YAAY,CAAC,GAAG,CAAC;iBACjB,YAAY,CAAC,GAAG,CAAC,CAAC;YAErB,IAAI,CAAC,qBAAqB,EAAE,CAAC;AAC9B,SAAA;;QAGD,IAAI,IAAI,CAAC,UAAU,EAAE;AACnB,YAAA,IAAI,CAAC,GAAG;iBACL,MAAM,CAAC,MAAM,CAAC;AACd,iBAAA,IAAI,CAAC,OAAO,EAAE,YAAY,CAAC;AAC3B,iBAAA,IAAI,CAAC,aAAa,EAAE,QAAQ,CAAC;iBAC7B,IAAI,CACH,WAAW,EACX,CAAa,UAAA,EAAA,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,CACpF,EAAA,EAAA,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,IAAI,IAAI,CAAC,SAAS,GAAG,EAAE,GAAG,EAAE,CAC3D,CAAA,CAAA,CAAG,CACJ;AACA,iBAAA,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;AAC1B,SAAA;KACF;IAED,WAAW,GAAA;QACT,IAAI,IAAI,CAAC,OAAO;AAAE,YAAA,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;KACzC;AAED,IAAA,WAAW,CAAC,OAAsB,EAAA;QAChC,IAAI,OAAO,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE;YAC7C,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACjB,IAAI,CAAC,mBAAmB,EAAE,CAAC;AAC5B,aAAA;AAAM,iBAAA;gBACL,IAAI,CAAC,qBAAqB,EAAE,CAAC;AAC9B,aAAA;AACF,SAAA;KACF;IAED,mBAAmB,GAAA;;QAEjB,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;;AAGpD,QAAA,IAAI,CAAC,QAAQ,GAAGD,GAAM,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,IAAS,KAAI;AAC9C,YAAA,MAAM,KAAK,GAAG,EAAE,GAAG,IAAI,EAAE,CAAC;YAC1B,OAAO,KAAK,CAAC,GAAG,CAAC;YAEjB,OAAOA,GAAM,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;AACtC,SAAC,CAAC,CAAC;AAEH,QAAA,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC;QAEpE,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;AAE/E,QAAA,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AAE5D,QAAA,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;;;;;;;;QAU5D,IAAI,IAAI,CAAC,QAAQ,EAAE;AACjB,YAAA,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AAC7D,SAAA;;AAGD,QAAA,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;AAEtG,QAAA,IAAI,CAAC,GAAG;aACL,SAAS,CAAC,WAAW,CAAC;AACtB,aAAA,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;AACf,aAAA,IAAI,CACH,CAAC,KAAK,KACJ,KAAK;aACF,MAAM,CAAC,MAAM,CAAC;AACd,aAAA,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC;AACzB,aAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;AACxC,aAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;aAC1C,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;AAC1C,aAAA,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,EAChC,CAAC,MAAM,KACL,MAAM;AACH,aAAA,UAAU,EAAE;aACZ,QAAQ,CAAC,IAAI,CAAC;AACd,aAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;AACxC,aAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;aAC1C,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;AAC1C,aAAA,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC;aAC3B,SAAS,EAAE,CACjB,CAAC;AAEJ,QAAA,IAAI,CAAC,GAAG;aACL,SAAS,CAAC,YAAY,CAAC;AACvB,aAAA,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;AACf,aAAA,IAAI,CACH,CAAC,KAAK,KACJ,KAAK;aACF,MAAM,CAAC,GAAG,CAAC;AACX,aAAA,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;aAC1B,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE,CAAC,KAAI;YAC1B,OAAO,CAAA,UAAA,EAAa,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,CAAA,IAAA,CAAM,CAAC;AACnD,SAAC,CAAC,EACN,CAAC,MAAM,KACL,MAAM;AACH,aAAA,UAAU,EAAE;aACZ,QAAQ,CAAC,IAAI,CAAC;aACd,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE,CAAC,KAAI;YAC1B,OAAO,CAAA,UAAA,EAAa,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,CAAA,IAAA,CAAM,CAAC;AACnD,SAAC,CAAC;aACD,SAAS,EAAE,CACjB,CAAC;AAEJ,QAAA,IAAI,CAAC,GAAG;aACL,SAAS,CAAC,YAAY,CAAC;;AAEvB,aAAA,cAAc,EAAE;AAChB,aAAA,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,KAAI;AACb,YAAA,MAAM,KAAK,GAAG,EAAE,GAAG,CAAC,EAAE,CAAC;YACvB,OAAO,KAAK,CAAC,GAAG,CAAC;YAEjB,MAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AAEhC,YAAA,MAAM,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,GAAG,EAAA;AACpC,gBAAA,OAAO,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,CAAC,CAAC,GAAG,CAAC,EAAE,WAAW,EAAE,CAAC,EAAE,CAAC;AACvD,aAAC,CAAC,CAAC;AAEH,YAAA,OAAO,OAAO,CAAC;AACjB,SAAC,CAAC;AACD,aAAA,IAAI,CACH,CAAC,KAAK,KACJ,KAAK;aACF,MAAM,CAAC,MAAM,CAAC;AACd,aAAA,IAAI,CAAC,OAAO,EAAE,KAAK,CAAC;AACpB,aAAA,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;AACpC,aAAA,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;aACnD,IAAI,CAAC,mBAAmB,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,WAAW,CAAC;AAC/C,aAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;aACxC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC;AACxC,aAAA,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,MAAM,CAAC;AACtB,aAAA,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;AACjB,aAAA,IAAI,CAAC,CAAC,KAAK,KAAI;AACd,YAAA,OAAO,KAAK;AACT,iBAAA,IAAI,CAAC,gBAAgB,EAAE,MAAM,CAAC;AAC9B,iBAAA,UAAU,EAAE;AACZ,iBAAA,QAAQ,CAAC,CAAC,CAAC;iBACX,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AAC7D,iBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AAC1C,iBAAA,UAAU,EAAE;AACZ,iBAAA,IAAI,CAAC,gBAAgB,EAAE,MAAM,CAAC,CAAC;AACpC,SAAC,CAAC,EAEN,CAAC,MAAM,KACL,MAAM;AACH,aAAA,IAAI,CAAC,gBAAgB,EAAE,MAAM,CAAC;AAC9B,aAAA,UAAU,EAAE;aACZ,QAAQ,CAAC,IAAI,CAAC;AACd,aAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;aACxC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC;aACxC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AAC7D,aAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AAC1C,aAAA,UAAU,EAAE;AACZ,aAAA,SAAS,EAAE;aACX,IAAI,CAAC,gBAAgB,EAAE,MAAM,CAAC,EACnC,CAAC,IAAI,KACH,IAAI;AACD,aAAA,UAAU,EAAE;AACZ,aAAA,QAAQ,CAAC,CAAC,CAAC;AACX,aAAA,SAAS,EAAE;AACX,aAAA,IAAI,CAAC,gBAAgB,EAAE,MAAM,CAAC;AAC9B,aAAA,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;AACjB,aAAA,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,MAAM,CAAC,CAC5B;AACA,aAAA,EAAE,CAAC,WAAW,EAAE,CAAC,KAAK,EAAE,IAA6B,KAAK,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;AACzF,aAAA,EAAE,CAAC,UAAU,EAAE,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,WAAW,EAAE,CAAC;AACnD,aAAA,EAAE,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC;QAEjE,IAAI,CAAC,YAAY,EAAE,CAAC;QAEpB,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,CAAC;KACrC;IAED,qBAAqB,GAAA;;AAEnB,QAAA,IAAI,CAAC,QAAQ,GAAGA,GAAM,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,IAAS,KAAI;AAC9C,YAAA,MAAM,KAAK,GAAG,EAAE,GAAG,IAAI,EAAE,CAAC;YAC1B,OAAO,KAAK,CAAC,GAAG,CAAC;YACjB,OAAOA,GAAM,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;AACtC,SAAC,CAAC,CAAC;AAEH,QAAA,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC;QAEpE,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;;QAG9E,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;AAEpD,QAAA,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AAE5D,QAAA,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;;QAG5D,IAAI,IAAI,CAAC,QAAQ,EAAE;AACjB,YAAA,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AAC7D,SAAA;;;;;;;;AAUD,QAAA,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;AAEtG,QAAA,IAAI,CAAC,GAAG;aACL,SAAS,CAAC,WAAW,CAAC;AACtB,aAAA,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;AACf,aAAA,IAAI,CACH,CAAC,KAAK,KACJ,KAAK;aACF,MAAM,CAAC,MAAM,CAAC;AACd,aAAA,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC;AACzB,aAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;AACxC,aAAA,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC;AACzB,aAAA,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC,EAChD,CAAC,MAAM,KACL,MAAM;AACH,aAAA,UAAU,EAAE;aACZ,QAAQ,CAAC,IAAI,CAAC;AACd,aAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;AACxC,aAAA,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC;aACzB,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;aAC3C,SAAS,EAAE,CACjB,CAAC;AAEJ,QAAA,IAAI,CAAC,GAAG;aACL,SAAS,CAAC,YAAY,CAAC;AACvB,aAAA,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;AACf,aAAA,IAAI,CACH,CAAC,KAAK,KACJ,KAAK;aACF,MAAM,CAAC,GAAG,CAAC;AACX,aAAA,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;aAC1B,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE,CAAC,KAAI;YAC1B,OAAO,CAAA,aAAA,EAAgB,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,CAAA,CAAA,CAAG,CAAC;AACnD,SAAC,CAAC,EACN,CAAC,MAAM,KACL,MAAM;AACH,aAAA,UAAU,EAAE;aACZ,QAAQ,CAAC,IAAI,CAAC;aACd,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE,CAAC,KAAI;YAC1B,OAAO,CAAA,aAAA,EAAgB,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,CAAA,CAAA,CAAG,CAAC;AACnD,SAAC,CAAC;aACD,SAAS,EAAE,CACjB,CAAC;AAEJ,QAAA,IAAI,CAAC,GAAG;aACL,SAAS,CAAC,YAAY,CAAC;aACvB,SAAS,CAAC,MAAM,CAAC;AACjB,aAAA,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,KAAI;AACb,YAAA,MAAM,KAAK,GAAG,EAAE,GAAG,CAAC,EAAE,CAAC;YACvB,OAAO,KAAK,CAAC,GAAG,CAAC;YAEjB,MAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AAEhC,YAAA,MAAM,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,GAAG,EAAA;AACpC,gBAAA,OAAO,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,CAAC,CAAC,GAAG,CAAC,EAAE,WAAW,EAAE,CAAC,EAAE,CAAC;AACvD,aAAC,CAAC,CAAC;AAEH,YAAA,OAAO,OAAO,CAAC;AACjB,SAAC,CAAC;AACD,aAAA,IAAI,CACH,CAAC,KAAK,KACJ,KAAK;aACF,MAAM,CAAC,MAAM,CAAC;AACd,aAAA,IAAI,CAAC,OAAO,EAAE,KAAK,CAAC;AACpB,aAAA,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;AAC1C,aAAA,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;aACnD,IAAI,CAAC,mBAAmB,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,WAAW,CAAC;AAC/C,aAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;AACZ,aAAA,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC;AAChB,aAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;aACxC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC;AACzC,aAAA,IAAI,CAAC,CAAC,KAAK,KAAI;AACd,YAAA,OAAO,KAAK;AACT,iBAAA,IAAI,CAAC,gBAAgB,EAAE,MAAM,CAAC;AAC9B,iBAAA,UAAU,EAAE;AACZ,iBAAA,QAAQ,CAAC,CAAC,CAAC;AACX,iBAAA,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AAC9C,iBAAA,UAAU,EAAE;AACZ,iBAAA,IAAI,CAAC,gBAAgB,EAAE,MAAM,CAAC,CAAC;AACpC,SAAC,CAAC,EACN,CAAC,MAAM,KACL,MAAM;AACH,aAAA,IAAI,CAAC,gBAAgB,EAAE,MAAM,CAAC;AAC9B,aAAA,UAAU,EAAE;aACZ,QAAQ,CAAC,IAAI,CAAC;AACd,aAAA,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;aAC9C,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC;AACzC,aAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AACxC,aAAA,UAAU,EAAE;AACZ,aAAA,SAAS,EAAE;aACX,IAAI,CAAC,gBAAgB,EAAE,MAAM,CAAC,EACnC,CAAC,IAAI,KACH,IAAI;AACD,aAAA,UAAU,EAAE;AACZ,aAAA,QAAQ,CAAC,CAAC,CAAC;AACX,aAAA,SAAS,EAAE;AACX,aAAA,IAAI,CAAC,gBAAgB,EAAE,MAAM,CAAC;AAC9B,aAAA,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CACtB;AACA,aAAA,EAAE,CAAC,WAAW,EAAE,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;AAChE,aAAA,EAAE,CAAC,UAAU,EAAE,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,WAAW,EAAE,CAAC;AACnD,aAAA,EAAE,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC;QAEjE,IAAI,CAAC,YAAY,EAAE,CAAC;QAEpB,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,CAAC;KACrC;IAED,YAAY,GAAA;;AAEV,QAAA,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;YACpB,MAAM,UAAU,GAAG,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC;YACvC,OAAO,UAAU,CAAC,GAAG,CAAC;AACtB,YAAA,MAAM,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,UAAU,GAAG,EAAA;AAC1D,gBAAA,OAAO,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC;AACxB,aAAC,CAAC,CAAC;AAEH,YAAA,IAAI,CAAC,KAAK;iBACP,MAAM,CAAC,SAAS,CAAC;iBACjB,SAAS,CAAC,cAAc,CAAC;iBACzB,IAAI,CAAC,UAAU,CAAC;AAChB,iBAAA,IAAI,CACH,CAAC,KAAK,KAAI;AACR,gBAAA,MAAM,EAAE,GAAG,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC;AAE3D,gBAAA,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC;AACd,qBAAA,IAAI,CAAC,OAAO,EAAE,YAAY,CAAC;AAC3B,qBAAA,KAAK,CAAC,kBAAkB,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;AAE9D,gBAAA,EAAE,CAAC,MAAM,CAAC,MAAM,EAAE,cAAc,CAAC;AAC9B,qBAAA,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC;AAC7B,qBAAA,IAAI,CAAC,CAAC,CAAC,KAAI;oBACV,QAAQ,IAAI,CAAC,qBAAqB;AAChC,wBAAA,KAAK,QAAQ;4BACX,OAAO,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AAEzC,wBAAA,KAAK,MAAM;4BACT,MAAM,UAAU,GAAGV,QAAW,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AACxC,4BAAA,OAAO,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,CAAC;AAE5C,wBAAA;4BACE,OAAO,CAAC,CAAC,KAAK,CAAC;AAClB,qBAAA;AACH,iBAAC,CAAC,CAAC;AAEL,gBAAA,OAAO,EAAE,CAAC;AACZ,aAAC,EACD,CAAC,MAAM,KAAI;gBACT,MAAM,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAI;oBACxC,QAAQ,IAAI,CAAC,qBAAqB;AAChC,wBAAA,KAAK,QAAQ;4BACX,OAAO,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AAEzC,wBAAA,KAAK,MAAM;4BACT,MAAM,UAAU,GAAGA,QAAW,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AACxC,4BAAA,OAAO,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,CAAC;AAE5C,wBAAA;4BACE,OAAO,CAAC,CAAC,KAAK,CAAC;AAClB,qBAAA;AACH,iBAAC,CAAC,CAAC;AAEH,gBAAA,OAAO,MAAM,CAAC;aACf,EACD,CAAC,IAAI,KAAK,IAAI,CAAC,MAAM,EAAE,CACxB;AACA,iBAAA,EAAE,CAAC,WAAW,EAAE,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;iBACnE,EAAE,CAAC,UAAU,EAAE,MAAM,IAAI,CAAC,cAAc,EAAE,CAAC;AAC3C,iBAAA,EAAE,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC;AACrE,SAAA;KACF;AAyIO,IAAA,OAAO,CAAC,CAAC,EAAE,YAAY,GAAG,KAAK,EAAA;QACrC,MAAM,UAAU,GAAG,YAAY,GAAG,aAAa,GAAG,EAAE,CAAC;QACrD,MAAM,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;QACnC,MAAM,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;QACpD,MAAM,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;QAE5C,IAAI,IAAI,CAAC,QAAQ,EAAE;AACjB,YAAA,OAAO,CAAO,IAAA,EAAA,GAAG,CAAY,SAAA,EAAA,UAAU,CAAI,CAAA,EAAA,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,CAAA,CAAA,CAAG,CAAC;AACpE,SAAA;AAAM,aAAA;AACL,YAAA,OAAO,UAAU,CAAC;AACnB,SAAA;KACF;;2HA36BU,8BAA8B,EAAA,IAAA,EAAA,CAAA,EAAA,KAAA,EAAAQ,kBAAA,EAAA,EAAA,EAAA,KAAA,EAAA,EAAA,CAAA,UAAA,EAAA,EAAA,EAAA,KAAA,EAAA,EAAA,CAAA,gBAAA,EAAA,EAAA,EAAA,KAAA,EAAA,EAAA,CAAA,QAAA,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;AAA9B,8BAAA,CAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,8BAA8B,+vCAJ/B,CAAE,CAAA,EAAA,QAAA,EAAA,IAAA,EAAA,eAAA,EAAA,EAAA,CAAA,uBAAA,CAAA,MAAA,EAAA,CAAA,CAAA;2FAID,8BAA8B,EAAA,UAAA,EAAA,CAAA;kBAN1C,SAAS;AACE,YAAA,IAAA,EAAA,CAAA,EAAA,QAAA,EAAA,0BAA0B,EAC1B,QAAA,EAAA,CAAA,CAAE,EAEK,eAAA,EAAA,uBAAuB,CAAC,MAAM,EAAA,CAAA;qLAI/C,UAAU,EAAA,CAAA;sBADT,WAAW;uBAAC,kBAAkB,CAAA;gBAI/B,eAAe,EAAA,CAAA;sBADd,WAAW;uBAAC,8BAA8B,CAAA;gBAI3C,IAAI,EAAA,CAAA;sBADH,KAAK;gBAIN,KAAK,EAAA,CAAA;sBADJ,KAAK;gBAIN,MAAM,EAAA,CAAA;sBADL,KAAK;gBAIN,QAAQ,EAAA,CAAA;sBADP,KAAK;gBAIN,SAAS,EAAA,CAAA;sBADR,KAAK;gBAIN,cAAc,EAAA,CAAA;sBADb,KAAK;gBAIN,eAAe,EAAA,CAAA;sBADd,KAAK;gBAIN,iBAAiB,EAAA,CAAA;sBADhB,KAAK;gBAIN,UAAU,EAAA,CAAA;sBADT,KAAK;gBAIN,UAAU,EAAA,CAAA;sBADT,KAAK;gBAIN,SAAS,EAAA,CAAA;sBADR,KAAK;gBAIN,cAAc,EAAA,CAAA;sBADb,KAAK;gBAIN,eAAe,EAAA,CAAA;sBADd,KAAK;gBAIN,iBAAiB,EAAA,CAAA;sBADhB,KAAK;gBAIN,UAAU,EAAA,CAAA;sBADT,KAAK;gBAIN,SAAS,EAAA,CAAA;sBADR,KAAK;gBAIN,WAAW,EAAA,CAAA;sBADV,KAAK;gBAIN,YAAY,EAAA,CAAA;sBADX,KAAK;gBAIN,UAAU,EAAA,CAAA;sBADT,KAAK;gBAIN,UAAU,EAAA,CAAA;sBADT,KAAK;gBAIN,WAAW,EAAA,CAAA;sBADV,KAAK;gBAIN,cAAc,EAAA,CAAA;sBADb,KAAK;gBAIN,qBAAqB,EAAA,CAAA;sBADpB,KAAK;gBAIN,uBAAuB,EAAA,CAAA;sBADtB,KAAK;gBAIN,WAAW,EAAA,CAAA;sBADV,KAAK;gBAIN,sBAAsB,EAAA,CAAA;sBADrB,KAAK;gBAIN,wBAAwB,EAAA,CAAA;sBADvB,KAAK;gBAIN,sBAAsB,EAAA,CAAA;sBADrB,KAAK;gBAIN,wBAAwB,EAAA,CAAA;sBADvB,KAAK;gBAIN,QAAQ,EAAA,CAAA;sBADP,KAAK;gBAIN,KAAK,EAAA,CAAA;sBADJ,KAAK;gBAIN,QAAQ,EAAA,CAAA;sBADP,KAAK;gBAIN,OAAO,EAAA,CAAA;sBADN,MAAM;gBAIP,OAAO,EAAA,CAAA;sBADN,MAAM;;;MCvGI,uCAAuC,CAAA;AAsJlD,IAAA,WAAA,CACU,QAA4B,EAC5B,QAAoB,EACpB,OAAyB,EACzB,SAAmB,EAAA;QAHnB,IAAQ,CAAA,QAAA,GAAR,QAAQ,CAAoB;QAC5B,IAAQ,CAAA,QAAA,GAAR,QAAQ,CAAY;QACpB,IAAO,CAAA,OAAA,GAAP,OAAO,CAAkB;QACzB,IAAS,CAAA,SAAA,GAAT,SAAS,CAAU;QAxJ7B,IAAU,CAAA,UAAA,GAAG,IAAI,CAAC;QAGlB,IAAqB,CAAA,qBAAA,GAAG,IAAI,CAAC;QAM7B,IAAK,CAAA,KAAA,GAAG,GAAG,CAAC;QAGZ,IAAM,CAAA,MAAA,GAAG,EAAE,CAAC;QAGZ,IAAa,CAAA,aAAA,GAAG,mBAAmB,CAAC;QAGpC,IAAU,CAAA,UAAA,GAAG,KAAK,CAAC;QAGnB,IAAS,CAAA,SAAA,GAAG,EAAE,CAAC;QAGf,IAAW,CAAA,WAAA,GAAG,EAAE,CAAC;QAGjB,IAAY,CAAA,YAAA,GAAG,EAAE,CAAC;QAGlB,IAAU,CAAA,UAAA,GAAG,EAAE,CAAC;QAGhB,IAAS,CAAA,SAAA,GAAG,CAAC,CAAC;QAGd,IAAS,CAAA,SAAA,GAAG,KAAK,CAAC;QAGlB,IAAU,CAAA,UAAA,GAAG,CAAC,CAAC;QAGf,IAAU,CAAA,UAAA,GAAkB,IAAI,CAAC;QAGjC,IAAe,CAAA,eAAA,GAAa,IAAI,CAAC;QAGjC,IAAiB,CAAA,iBAAA,GAAG,EAAE,CAAC;QAGvB,IAAoB,CAAA,oBAAA,GAAG,EAAE,CAAC;QAG1B,IAAS,CAAA,SAAA,GAAG,KAAK,CAAC;QAGlB,IAAU,CAAA,UAAA,GAAG,KAAK,CAAC;QAGnB,IAAiB,CAAA,iBAAA,GAAG,IAAI,CAAC;AAGzB,QAAA,IAAA,CAAA,WAAW,GAAG,GAAG,GAAG,EAAE,CAAC;QAGvB,IAAc,CAAA,cAAA,GAAuB,QAAQ,CAAC;QAG9C,IAAqB,CAAA,qBAAA,GAAsB,IAAI,CAAC;QAGhD,IAAuB,CAAA,uBAAA,GAAG,EAAE,CAAC;QAG7B,IAAW,CAAA,WAAA,GAAG,KAAK,CAAC;QAGpB,IAAsB,CAAA,sBAAA,GAAsB,IAAI,CAAC;QAGjD,IAAwB,CAAA,wBAAA,GAAG,EAAE,CAAC;QAG9B,IAAuB,CAAA,uBAAA,GAAG,WAAW,CAAC;QAGtC,IAAsB,CAAA,sBAAA,GAAa,IAAI,CAAC;QAGxC,IAAwB,CAAA,wBAAA,GAAG,EAAE,CAAC;QAG9B,IAAkB,CAAA,kBAAA,GAAG,EAAE,CAAC;QAGxB,IAA0B,CAAA,0BAAA,GAAG,KAAK,CAAC;QAGnC,IAAyB,CAAA,yBAAA,GAAG,KAAK,CAAC;QAGlC,IAAU,CAAA,UAAA,GAAG,KAAK,CAAC;QAGnB,IAAW,CAAA,WAAA,GAAY,KAAK,CAAC;QAG7B,IAAW,CAAA,WAAA,GAAC,EAAE,CAAC;QAKN,IAAQ,CAAA,QAAA,GAAG,IAAI,CAAC;AAGzB,QAAA,IAAA,CAAA,OAAO,GAAyB,IAAI,YAAY,EAAU,CAAC;AAG3D,QAAA,IAAA,CAAA,OAAO,GAAyB,IAAI,YAAY,EAAU,CAAC;QAEnD,IAAY,CAAA,YAAA,GAAG,KAAK,CAAC;QACrB,IAAS,CAAA,SAAA,GAAG,KAAK,CAAC;QAKlB,IAAU,CAAA,UAAA,GAAG,EAAE,CAAC;AAmZxB,QAAA,IAAA,CAAA,YAAY,GAAG,CAAC,KAAK,EAAE,IAAI,KAAI;YAC7B,MAAM,IAAI,GAAGD,MAAS,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;AAE5C,YAAA,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;AAEvD,YAAA,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;AAEhC,YAAA,IAAI,CAAC,KAAK;iBACP,SAAS,CAAC,cAAc,CAAC;AACzB,iBAAA,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAI;;AAEf,gBAAA,OAAO,CAAC,KAAK,IAAI,CAAC,KAAK,CAAC;AAC1B,aAAC,CAAC;AACD,iBAAA,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;AAE7B,YAAA,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;YAE/C,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AACrC,SAAC,CAAC;QAEF,IAAW,CAAA,WAAA,GAAG,MAAK;YACjB,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC,KAAK,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;AAE5E,YAAA,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;YAEhE,IAAI,CAAC,WAAW,EAAE,CAAC;AACrB,SAAC,CAAC;AAEF,QAAA,IAAA,CAAA,aAAa,GAAG,CAAC,KAAK,EAAE,IAAI,KAAI;YAC9B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AACrC,SAAC,CAAC;QAEM,IAAW,CAAA,WAAA,GAAG,CAAC,KAAK,EAAE,IAAI,EAAE,IAAK,KAAI;AAC3C,YAAA,MAAM,UAAU,GAAG,IAAI,GAAG,IAAI,CAAC,qBAAqB,EAAE,GAAG,KAAK,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC;YACrG,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,iBAAiB,EAAE,CAAC;YAEhD,MAAM,UAAU,GAAG,IAAI,CAAC,KAAK,GAAGkC,GAAM,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAM,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC;YACvE,MAAM,iBAAiB,GAAG,IAAI,CAAC,YAAY,GAAGA,GAAM,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAM,KAAK,CAAC,CAAC,YAAY,CAAC,CAAC;YAE5F,IAAI,YAAY,GAAG,CAAA,CAAE,CAAC;YACtB,IAAI,6BAA6B,GAAG,CAAA,CAAE,CAAC;YACvC,IAAI,uBAAuB,GAAG,CAAA,CAAE,CAAC;YACjC,IAAI,mBAAmB,GAAG,CAAA,CAAE,CAAC;YAC7B,IAAI,sBAAsB,GAAG,CAAA,CAAE,CAAC;YAChC,IAAI,gBAAgB,GAAG,CAAA,CAAE,CAAC;AAC1B,YAAA,IAAI,YAAY,GAAG,CAAA,EAAG,IAAI,CAAC,aAAa,EAAE,CAAC;YAC3C,IAAI,gBAAgB,GAAG,EAAE,CAAC;;AAG1B,YAAA,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;gBACtB,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,sBAAsB,EAAE,IAAI,CAAC,CAAC;gBAEnD,QAAQ,IAAI,CAAC,sBAAsB;AACjC,oBAAA,KAAK,QAAQ;wBACX,YAAY,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;wBACnD,MAAM;AAER,oBAAA,KAAK,MAAM;wBACT,MAAM,UAAU,GAAGzC,QAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AAC3C,wBAAA,YAAY,GAAG,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC,CAAC;wBACnD,MAAM;AAER,oBAAA;AACE,wBAAA,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC;AAC7B,iBAAA;AACF,aAAA;;YAGD,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,cAAc,EAAE;gBAClE,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,sBAAsB,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;gBAC7D,6BAA6B,GAAG,MAAM,CAAC;gBAEvC,uBAAuB,GAAG,CAAG,EAAA,IAAI,CAAC,iBAAiB,CACjDA,QAAW,CAAC,IAAI,CAAC,gBAAgB,CAAC,CACnC,MAAM,IAAI,CAAC,iBAAiB,CAACA,QAAW,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAA,CAAE,CAAC;AACnE,aAAA;;YAGD,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,YAAY,EAAE;gBAC1D,mBAAmB;oBACjB,IAAI,CAAC,kBAAkB,KAAK,IAAI;AAC9B,0BAAE,CAAG,EAAA,IAAI,CAAC,oBAAoB,CAAC,iBAAiB,CAAC,CAAK,EAAA,EAAA,IAAI,CAAC,aAAa,CAAA,EAAG,IAAI,CAAC,kBAAkB,CAAG,CAAA,CAAA;0BACnG,GAAG,IAAI,CAAC,oBAAoB,CAAC,iBAAiB,CAAC,CAAA,EAAA,EAAK,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,YAAY,CAAC,GAC5F,IAAI,CAAC,kBACP,CAAA,CAAA,CAAG,CAAC;AACX,aAAA;iBAAM,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,YAAY,KAAK,IAAI,EAAE;gBACvD,mBAAmB;oBACjB,IAAI,CAAC,kBAAkB,KAAK,IAAI;AAC9B,0BAAE,CAAG,EAAA,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,kBAAkB,CAAA,EAAA,EAAK,IAAI,CAAC,oBAAoB,CAAC,iBAAiB,CAAC,CAAG,CAAA,CAAA;0BAClG,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAA,EAAG,IAAI,CAAC,kBAAkB,KAAK,IAAI,CAAC,oBAAoB,CACnG,iBAAiB,CAClB,CAAA,CAAA,CAAG,CAAC;AACZ,aAAA;iBAAM,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,YAAY,KAAK,IAAI,EAAE;AACvD,gBAAA,mBAAmB,GAAG,CAAG,EAAA,IAAI,CAAC,aAAa,EAAE,CAAC;AAC/C,aAAA;;AAGD,YAAA,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,OAAO,EAAE;gBAClC,gBAAgB,GAAG,CAAG,EAAA,IAAI,CAAC,iBAAiB,CAACA,QAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,MAAM,IAAI,CAAC,iBAAiB,CACnGA,QAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAC1B,CAAA,CAAE,CAAC;AACL,aAAA;;YAGD,IAAI,YAAY,KAAK,EAAE,EAAE;gBACvB,sBAAsB,GAAG,MAAM,CAAC;AACjC,aAAA;;YAGD,IAAI,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,KAAK,EAAE;gBACtD,YAAY,GAAG,IAAI,CAAC,kBAAkB,KAAK,IAAI,GAAG,CAAG,EAAA,IAAI,CAAC,KAAK,CAAE,CAAA,GAAG,CAAG,EAAA,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA,CAAE,CAAC;AAC9G,aAAA;iBAAM,IAAI,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,KAAK,KAAK,IAAI,EAAE;gBACnD,YAAY;oBACV,IAAI,CAAC,kBAAkB,KAAK,IAAI;0BAC5B,GAAG,IAAI,CAAC,KAAK,CAAG,EAAA,IAAI,CAAC,kBAAkB,CAAE,CAAA;AAC3C,0BAAE,CAAA,EAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAG,EAAA,IAAI,CAAC,kBAAkB,EAAE,CAAC;AAC1E,aAAA;AAAM,iBAAA,IAAI,CAAC,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,KAAK,KAAK,IAAI,EAAE;gBACvE,YAAY;oBACV,IAAI,CAAC,kBAAkB,KAAK,IAAI;AAC9B,0BAAE,CAAG,EAAA,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,CAAK,EAAA,EAAA,IAAI,CAAC,KAAK,CAAA,EAAG,IAAI,CAAC,kBAAkB,CAAG,CAAA,CAAA;0BACpF,GAAG,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,CAAA,EAAA,EAAK,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAK,CAAC,GAC9E,IAAI,CAAC,kBACP,CAAA,CAAA,CAAG,CAAC;AACX,aAAA;iBAAM,IAAI,CAAC,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,KAAK,KAAK,IAAI,EAAE;gBACpD,YAAY;oBACV,IAAI,CAAC,kBAAkB,KAAK,IAAI;AAC9B,0BAAE,CAAG,EAAA,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,kBAAkB,CAAA,EAAA,EAAK,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,CAAG,CAAA,CAAA;0BACpF,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA,EAAG,IAAI,CAAC,kBAAkB,KAAK,IAAI,CAAC,oBAAoB,CAC5F,UAAU,CACX,CAAA,CAAA,CAAG,CAAC;AACZ,aAAA;;YAGD,IAAI,CAAC,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,KAAK,KAAK,IAAI,IAAI,IAAI,CAAC,YAAY,KAAK,IAAI,EAAE;gBAC7F,gBAAgB,GAAG,CAAsC,mCAAA,EAAA,IAAI,CAAC,sBAAsB,CAClF,CAAA,EAAA,IAAI,CAAC,oBAAoB,GAAG,SAAS,GAAG,EAC1C,CAAgB,aAAA,EAAA,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAA,aAAA,CAAe,CAAC;AACzF,aAAA;AAED,YAAA,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAK;gBACrB,OAAO,CAAA;sDACyC,YAAY,CAAA;AAC5C,oBAAA,EAAA,6BAA6B,KAAK,uBAAuB,CAAA;sDACzB,mBAAmB,CAAA;AACnD,oBAAA,EAAA,sBAAsB,KAAK,gBAAgB,CAAA;AACG,kEAAA,EAAA,YAAY,iBAAiB,gBAAgB,CAAA;OAC1G,CAAC;AACJ,aAAC,CAAC,CAAC;AAEH,YAAA,MAAM,kBAAkB,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,WAAW,GAAG,CAAC,CAAC;YAChE,MAAM,mBAAmB,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,YAAY,CAAC;YAC9D,MAAM,cAAc,GAAG,CAAC,CAAC;YAEzB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,EAAE,CAAA,EAAG,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,UAAU,CAAC,GAAG,GAAG,mBAAmB,GAAG,cAAc,CAAI,EAAA,CAAA,CAAC,CAAC;AAEtG,YAAA,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;AACxB,gBAAA,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,EAAE,CAAA,EAAG,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,GAAG,kBAAkB,GAAG,CAAC,UAAU,CAAC,KAAK,GAAG,CAAC,CAAA,EAAA,CAAI,CAAC,CAAC;AAC/G,aAAA;AAAM,iBAAA;gBACL,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,EAAE,CAAG,EAAA,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,kBAAkB,GAAG,CAAC,UAAU,CAAC,KAAK,CAAI,EAAA,CAAA,CAAC,CAAC;AACxF,aAAA;YAED,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;AACnC,SAAC,CAAC;QAEM,IAAW,CAAA,WAAA,GAAG,MAAK;YACzB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;AACnC,SAAC,CAAC;AAEF,QAAA,IAAA,CAAA,eAAe,GAAG,CAAC,KAAK,EAAE,IAAI,KAAI;AAChC,YAAA,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE;AAC3B,gBAAA,MAAM,QAAQ,GAAG,IAAI,CAAC,GAAG;qBACtB,SAAS,CAAC,MAAM,CAAC;AACjB,qBAAA,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,KAAK,CAAC;AAClC,qBAAA,IAAI,EAAE,CAAC;AAEV,gBAAA,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,QAAQ,CAAC,CAAC;AAC1D,aAAA;AAED,YAAA,IAAI,CAAC,KAAK;iBACP,SAAS,CAAC,cAAc,CAAC;AACzB,iBAAA,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,KAAK,CAAC;AAClC,iBAAA,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;AAE7B,YAAA,IAAI,CAAC,KAAK;iBACP,SAAS,CAAC,MAAM,CAAC;AACjB,iBAAA,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,KAAK,CAAC;AAClC,iBAAA,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;;;;;YAO7B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AACrC,SAAC,CAAC;QAEF,IAAc,CAAA,cAAA,GAAG,MAAK;AACpB,YAAA,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;YAEhE,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC,KAAK,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;;YAG5E,IAAI,CAAC,WAAW,EAAE,CAAC;AACrB,SAAC,CAAC;AAEF,QAAA,IAAA,CAAA,gBAAgB,GAAG,CAAC,KAAK,EAAE,IAAI,KAAI;YACjC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AACrC,SAAC,CAAC;AAEM,QAAA,IAAA,CAAA,cAAc,GAAG,CAAC,IAAI,KAAI;YAChC,QAAQ,IAAI,CAAC,eAAe;AAC1B,gBAAA,KAAK,QAAQ;AACX,oBAAA,OAAO,CAAG,EAAA,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAA,EAAG,IAAI,CAAC,oBAAoB,CAAA,CAAE,CAAC;AAEjE,gBAAA;AACE,oBAAA,OAAO,GAAG,IAAI,CAAA,EAAG,IAAI,CAAC,oBAAoB,EAAE,CAAC;AAChD,aAAA;AACH,SAAC,CAAC;KAllBE;IAEJ,QAAQ,GAAA;QACN,IAAI,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC;QAE7C,IAAI,CAAC,MAAM,GAAG;AACZ,YAAA,GAAG,EAAE,CAAC,IAAI,CAAC,SAAS;AACpB,YAAA,KAAK,EAAE,CAAC,IAAI,CAAC,WAAW;AACxB,YAAA,MAAM,EAAE,CAAC,IAAI,CAAC,YAAY;AAC1B,YAAA,IAAI,EAAE,CAAC,IAAI,CAAC,UAAU;SACvB,CAAC;AAEF,QAAA,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,KAAK,CAAC,GAAG,IAAI,GAAG,KAAK,CAAC;AAC1D,QAAA,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC;;AAGpE,QAAA,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;AACxF,QAAA,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,uBAAuB,CAAC,CAAC;AAC1G,QAAA,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,sBAAsB,EAAE,IAAI,CAAC,wBAAwB,CAAC,CAAC;QAC7G,IAAI,CAAC,iBAAiB,GAAGD,YAAa,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC;QACrE,IAAI,CAAC,oBAAoB,GAAGD,QAAS,CAAC,IAAI,CAAC,0BAA0B,CAAC,CAAC;QACvE,IAAI,CAAC,0BAA0B,GAAGA,QAAS,CAAC,IAAI,CAAC,yBAAyB,CAAC,CAAC;;AAG5E,QAAA,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;AAC3B,QAAA,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;AAC5B,QAAA,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;AAC3B,QAAA,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;AACvB,QAAA,IAAI,CAAC,kBAAkB,GAAG,CAAC,CAAC;AAC5B,QAAA,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,UAAU,GAAG,EAAE,GAAG,CAAC,CAAC;QAEjD,IAAI,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,cAAc,KAAK,OAAO,EAAE;AACvD,YAAA,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC;AAC9C,SAAA;;AAGD,QAAA,IAAI,CAAC,KAAK,GAAGS,MAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;;AAGhF,QAAA,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,KAAK;aAClB,MAAM,CAAC,KAAK,CAAC;AACb,aAAA,IAAI,CAAC,OAAO,EAAE,MAAK;AAClB,YAAA,OAAO,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC;AAC5D,SAAC,CAAC;aACD,IAAI,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,gBAAgB,CAAC;AAC3F,aAAA,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;AAC1B,aAAA,IAAI,CAAC,qBAAqB,EAAE,eAAe,CAAC;AAC5C,aAAA,IAAI,CAAC,SAAS,EAAE,MAAK;YACpB,OAAO,CAAA,CAAA,EAAI,IAAI,CAAC,MAAM,CAAC,IAAI,CAAA,EAAA,EAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAI,CAAA,EAAA,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAA,CAAA,EACnG,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,gBAC7D,CAAA,CAAE,CAAC;AACL,SAAC,CAAC,CAAC;;AAGL,QAAA,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;AACrB,YAAA,IAAI,CAAC,OAAO,GAAGA,MAAS,CAAC,MAAM,CAAC;iBAC7B,MAAM,CAAC,KAAK,CAAC;AACb,iBAAA,IAAI,CAAC,OAAO,EAAE,oBAAoB,CAAC;AACnC,iBAAA,OAAO,CAAC,sBAAsB,EAAE,IAAI,CAAC,SAAS,CAAC;AAC/C,iBAAA,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC;AACnB,iBAAA,IAAI,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;AAChC,SAAA;;AAGD,QAAA,IAAI,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;YAC5C,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,0BAA0B,EAAE,IAAI,CAAC,cAAc,KAAK,QAAQ,GAAG,IAAI,GAAG,KAAK,CAAC,CAAC;AAChG,YAAA,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,CAAiB,cAAA,EAAA,IAAI,CAAC,cAAc,CAAA,CAAE,CAAC,CAAC;AAC/E,SAAA;;AAGD,QAAA,IAAI,CAAC,UAAU,GAAGM,WAAc,EAAE;aAC/B,MAAM,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC4B,GAAM,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAM,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;aAC9D,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;QAE3B,IAAI,CAAC,SAAS,GAAG7B,UAAa,CAAC,IAAI,CAAC,UAAU,CAAC;;AAE5C,aAAA,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC;AACtB,aAAA,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC;AAC5B,aAAA,aAAa,CAAC,IAAI,CAAC,kBAAkB,CAAC;AACtC,aAAA,UAAU,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;AAEnC,QAAA,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG;aAClB,MAAM,CAAC,GAAG,CAAC;AACX,aAAA,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC;aAC5B,IAAI,CAAC,WAAW,EAAE,CAAA,aAAA,EAAgB,IAAI,CAAC,MAAM,GAAG,CAAC;AACjD,aAAA,OAAO,CAAC,aAAa,EAAE,IAAI,CAAC,SAAS,CAAC;AACtC,aAAA,OAAO,CAAC,kBAAkB,EAAE,IAAI,CAAC,aAAa,CAAC;AAC/C,aAAA,OAAO,CAAC,oBAAoB,EAAE,IAAI,CAAC,eAAe,CAAC;AACnD,aAAA,OAAO,CAAC,mBAAmB,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;;;AAIrD,QAAA,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;AACnB,YAAA,IAAI,CAAC,SAAS,GAAGA,UAAa,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AAEvE,YAAA,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG;iBAClB,MAAM,CAAC,GAAG,CAAC;AACX,iBAAA,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC;AAC5B,iBAAA,OAAO,CAAC,kBAAkB,EAAE,IAAI,CAAC,aAAa,CAAC;iBAC/C,IAAI,CAAC,WAAW,EAAE,CAAA,aAAA,EAAgB,IAAI,CAAC,MAAM,GAAG,CAAC;AACjD,iBAAA,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AACzB,SAAA;QAED,IAAI,IAAI,CAAC,UAAU,EAAE;AACnB,YAAA,IAAI,CAAC,GAAG;iBACL,MAAM,CAAC,MAAM,CAAC;AACd,iBAAA,IAAI,CAAC,OAAO,EAAE,YAAY,CAAC;AAC3B,iBAAA,IAAI,CAAC,aAAa,EAAE,QAAQ,CAAC;iBAC7B,IAAI,CACH,WAAW,EACX,CAAa,UAAA,EAAA,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,CACpF,EAAA,EAAA,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,IAAI,IAAI,CAAC,SAAS,GAAG,EAAE,GAAG,EAAE,CAC3D,CAAA,CAAA,CAAG,CACJ;;;AAGA,iBAAA,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;AAC1B,SAAA;;AAGD,QAAA,SAAQ;AACR,QAAA,IAAI,MAAM,CAAC;QAEX,IAAI,IAAI,CAAC,YAAY,EAAE;YACrB,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,kBAAkB,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;AACzF,SAAA;aAAM,IAAI,IAAI,CAAC,UAAU,EAAE;AAC1B,YAAA,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,OAAO,EAAE,CAAC;AACzE,SAAA;AAAM,aAAA;YACL,MAAM,GAAG,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;AAGrG,SAAA;QAED,IAAI,CAAC,UAAU,GAAGR,YAAe,EAAE,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;QAElD,IAAI,CAAC,WAAW,EAAE,CAAC;KACpB;AAED,IAAA,WAAW,CAAC,OAAsB,EAAA;QAChC,IAAI,OAAO,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE;YAC7C,IAAI,CAAC,WAAW,EAAE,CAAC;AACpB,SAAA;KACF;IAED,WAAW,GAAA;QACT,IAAI,IAAI,CAAC,OAAO;AAAE,YAAA,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;KACzC;IAED,WAAW,GAAA;AACT,QAAA,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,KAAK,CAAC,GAAG,IAAI,GAAG,KAAK,CAAC;AAC1D,QAAA,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC;AAEpE,QAAA,MAAM,SAAS,GAAGqC,GAAM,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAM,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC;AACzD,QAAA,MAAM,aAAa,GACjB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,KAAK,KAAK,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,KAAK,KAAK,IAAI,GAAG,IAAI,GAAG,KAAK,CAAC;QAE/G,IAAI,gBAAgB,GAAG,CAAC,CAAC;QACzB,MAAM,SAAS,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC;QACjC,IAAI,MAAM,GAAG,KAAK,CAAC;AAEnB,QAAA,SAAS,CAAC,OAAO,EAAE,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,KAAI;AAClD,YAAA,IAAI,CAAC,KAAK,CAAC,KAAK,KAAK,CAAC,IAAI,KAAK,CAAC,KAAK,KAAK,IAAI,KAAK,CAAC,MAAM,EAAE;AAC1D,gBAAA,gBAAgB,EAAE,CAAC;AACpB,aAAA;AAAM,iBAAA;gBACL,MAAM,GAAG,IAAI,CAAC;AACf,aAAA;AACH,SAAC,CAAC,CAAC;QAEH,IAAI,IAAI,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;YACzC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;YAC/D,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,SAAS,GAAG,IAAI,EAAE,SAAS,GAAG,GAAG,EAAE,SAAS,GAAG,IAAI,EAAE,SAAS,CAAC,CAAC,CAAC;YAC/F,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YAEhC,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,SAAS,GAAG,IAAI,EAAE,SAAS,GAAG,GAAG,EAAE,SAAS,GAAG,IAAI,EAAE,SAAS,CAAC,CAAC,CAAC;YAC/F,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AAEhC,YAAA,IAAI,CAAC,GAAG;iBACL,MAAM,CAAC,SAAS,CAAC;iBACjB,SAAS,CAAC,MAAM,CAAC;AACjB,iBAAA,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,KAAI;AACb,gBAAA,MAAM,MAAM,GAAG3C,QAAS,CAAC,KAAK,CAAC,CAAC;AAChC,gBAAA,OAAO,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;AAC1B,aAAC,CAAC,CAAC;AACN,SAAA;AAAM,aAAA,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,YAAY,EAAE;YAC/C,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;AACzD,YAAA,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC;YACrD,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AAEhC,YAAA,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC;YACrD,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AAEhC,YAAA,IAAI,CAAC,GAAG;iBACL,MAAM,CAAC,SAAS,CAAC;iBACjB,SAAS,CAAC,MAAM,CAAC;AACjB,iBAAA,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,KAAI;AACb,gBAAA,MAAM,MAAM,GAAGA,QAAS,CAAC,KAAK,CAAC,CAAC;AAChC,gBAAA,OAAO,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;AAC1B,aAAC,CAAC,CAAC;AACN,SAAA;AAAM,aAAA;AACL,YAAA,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;AAC1E,YAAA,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAEtF,YAAA,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;;AAG5D,YAAA,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;AACnB,gBAAA,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AAC7D,aAAA;AACF,SAAA;AAED,QAAA,IAAI,CAAC,GAAG;aACL,SAAS,CAAC,MAAM,CAAC;AACjB,aAAA,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;AACf,aAAA,IAAI,CACH,CAAC,KAAK,KACJ,KAAK;aACF,MAAM,CAAC,MAAM,CAAC;AACd,aAAA,IAAI,CAAC,OAAO,EAAE,KAAK,CAAC;AACpB,aAAA,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC;AAChB,aAAA,IAAI,CAAC,QAAQ,EAAE,MAAK;AACnB,YAAA,OAAO,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC;AACvC,SAAC,CAAC;AACD,aAAA,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;AACpC,aAAA,IAAI,CAAC,GAAG,EAAE,MAAK;AACd,YAAA,OAAO,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;AAC7B,SAAC,CAAC;aACD,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,KAAI;AAClB,YAAA,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,IAAI,KAAI;;AAEhD,gBAAA,OAAO,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aAC5C,EAAE,CAAC,CAAC,CAAC;AACR,SAAC,CAAC;AACD,aAAA,IAAI,CAAC,gBAAgB,EAAE,MAAM,CAAC;AAC9B,aAAA,IAAI,CAAC,CAAC,KAAK,KAAI;AACd,YAAA,QACE,KAAK;AACF,iBAAA,UAAU,EAAE;;iBAEZ,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC;iBACxB,IAAI,CAAC4C,UAAa,CAAC;iBACnB,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,KAAI;;AAEtB,gBAAA,IAAI,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,gBAAgB,GAAG,CAAC,IAAI,aAAa,EAAE;oBAClE,OAAO,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AACjC,iBAAA;qBAAM,IAAI,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;AACrC,oBAAA,IAAI,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC;oBACvD,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;AAC5C,oBAAA,OAAO,KAAK,CAAC;AACd,iBAAA;AAAM,qBAAA;oBACL,OAAO,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AACjC,iBAAA;AACH,aAAC,CAAC;AACD,iBAAA,UAAU,EAAE;AACZ,iBAAA,IAAI,CAAC,gBAAgB,EAAE,MAAM,CAAC,EACjC;AACJ,SAAC,CAAC,EACN,CAAC,MAAM,KACL,MAAM;AACH,aAAA,IAAI,CAAC,gBAAgB,EAAE,MAAM,CAAC;AAC9B,aAAA,UAAU,EAAE;aACZ,QAAQ,CAAC,IAAI,CAAC;aACd,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,KAAI;;YAEtB,IAAI,CAAC,CAAC,KAAK,KAAK,IAAI,IAAI,CAAC,CAAC,KAAK,KAAK,CAAC,EAAE;AACrC,gBAAA,OAAO,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;AAC3B,aAAA;iBAAM,IAAI,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrC,OAAO,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AACjC,aAAA;AAAM,iBAAA;AACL,gBAAA,OAAO,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC;AAClD,aAAA;AACH,SAAC,CAAC;aACD,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,KAAI;AAClB,YAAA,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,IAAI,KAAI;gBAChD,OAAO,GAAG,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aAC3C,EAAE,CAAC,CAAC,CAAC;AACR,SAAC,CAAC;AACD,aAAA,UAAU,EAAE;AACZ,aAAA,SAAS,EAAE;AACX,aAAA,IAAI,CAAC,gBAAgB,EAAE,MAAM,CAAC,EACnC,CAAC,IAAI,KAAK,IAAI,CAAC,UAAU,EAAE,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC,gBAAgB,EAAE,MAAM,CAAC,CAAC,MAAM,EAAE,CAChF;AACA,aAAA,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,KAAI;YACd,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC;AACvC,SAAC,CAAC;AACD,aAAA,EAAE,CAAC,WAAW,EAAE,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;AAChE,aAAA,EAAE,CAAC,UAAU,EAAE,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,WAAW,EAAE,CAAC;AACnD,aAAA,EAAE,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC;AAEjE,QAAA,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;AACpB,YAAA,IAAI,CAAC,KAAK;iBACP,MAAM,CAAC,SAAS,CAAC;iBACjB,SAAS,CAAC,cAAc,CAAC;AACzB,iBAAA,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;AACf,iBAAA,IAAI,CACH,CAAC,KAAK,KAAI;gBACR,MAAM,EAAE,GAAG,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC,OAAO,CAAC,mBAAmB,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;AAExG,gBAAA,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC;AACd,qBAAA,IAAI,CAAC,OAAO,EAAE,YAAY,CAAC;AAC3B,qBAAA,KAAK,CAAC,kBAAkB,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AAC1D,qBAAA,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;AAEnC,gBAAA,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC;AACd,qBAAA,IAAI,CAAC,OAAO,EAAE,oBAAoB,CAAC;AACnC,qBAAA,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC,SAAS,CAAC;AACjC,qBAAA,OAAO,CAAC,aAAa,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;AAE1C,gBAAA,EAAE,CAAC,MAAM,CAAC,qBAAqB,CAAC;qBAC7B,MAAM,CAAC,MAAM,CAAC;AACd,qBAAA,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC;AAC7B,qBAAA,IAAI,CAAC,CAAC,CAAC,KAAI;oBACV,QAAQ,IAAI,CAAC,qBAAqB;AAChC,wBAAA,KAAK,QAAQ;4BACX,OAAO,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AAEzC,wBAAA,KAAK,MAAM;4BACT,MAAM,UAAU,GAAG1C,QAAW,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AACxC,4BAAA,OAAO,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,CAAC;AAE5C,wBAAA;4BACE,OAAO,CAAC,CAAC,KAAK,CAAC;AAClB,qBAAA;AACH,iBAAC,CAAC,CAAC;AAEL,gBAAA,EAAE,CAAC,MAAM,CAAC,qBAAqB,CAAC;qBAC7B,MAAM,CAAC,KAAK,CAAC;AACb,qBAAA,IAAI,CAAC,OAAO,EAAE,eAAe,CAAC;qBAC9B,OAAO,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;gBAEtC,EAAE,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAI;oBACrC,OAAO,CAAA,mCAAA,EAAsC,CAAC,CAAC,sBAAsB,CAAA,CAAA,EACnE,CAAC,CAAC,oBAAoB,GAAG,SAAS,GAAG,EACvC,CAAgB,aAAA,EAAA,IAAI,CAAC,0BAA0B,CAAC,CAAC,CAAC,kBAAkB,CAAC,CAAA,aAAA,CAAe,CAAC;AACvF,iBAAC,CAAC,CAAC;AAEH,gBAAA,OAAO,EAAE,CAAC;AACZ,aAAC,EACD,CAAC,MAAM,KAAI;gBACT,MAAM,CAAC,OAAO,CAAC,mBAAmB,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;AACpD,gBAAA,MAAM,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;AAC7D,gBAAA,MAAM,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;gBAEnE,IAAI,IAAI,CAAC,SAAS,EAAE;oBAClB,MAAM,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAI;wBACzC,OAAO,CAAA,mCAAA,EAAsC,CAAC,CAAC,sBAAsB,CAAA,CAAA,EACnE,CAAC,CAAC,oBAAoB,GAAG,SAAS,GAAG,EACvC,CAAgB,aAAA,EAAA,IAAI,CAAC,0BAA0B,CAAC,CAAC,CAAC,kBAAkB,CAAC,CAAA,aAAA,CAAe,CAAC;AACvF,qBAAC,CAAC,CAAC;AACJ,iBAAA;gBAED,MAAM,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAI;oBACxC,QAAQ,IAAI,CAAC,qBAAqB;AAChC,wBAAA,KAAK,QAAQ;4BACX,OAAO,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AAEzC,wBAAA,KAAK,MAAM;4BACT,MAAM,UAAU,GAAGA,QAAW,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AACxC,4BAAA,OAAO,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,CAAC;AAE5C,wBAAA;4BACE,OAAO,CAAC,CAAC,KAAK,CAAC;AAClB,qBAAA;AACH,iBAAC,CAAC,CAAC;AAEH,gBAAA,OAAO,MAAM,CAAC;aACf,EACD,CAAC,IAAI,KAAK,IAAI,CAAC,MAAM,EAAE,CACxB;AACA,iBAAA,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,KAAI;gBACd,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC;AACvC,aAAC,CAAC;AACD,iBAAA,EAAE,CAAC,WAAW,EAAE,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;iBACnE,EAAE,CAAC,UAAU,EAAE,MAAM,IAAI,CAAC,cAAc,EAAE,CAAC;AAC3C,iBAAA,EAAE,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC;AACrE,SAAA;KACF;AA6NO,IAAA,OAAO,CAAC,CAAC,EAAA;QACf,MAAM,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;QACnC,MAAM,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;QACpD,MAAM,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AAE5C,QAAA,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,YAAY,EAAE;YACtC,OAAO,CAAA,IAAA,EAAO,GAAG,CAAA,qBAAA,EAAwB,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,CAAA,CAAA,CAAG,CAAC;AAClE,SAAA;AAAM,aAAA;AACL,YAAA,OAAO,UAAU,CAAC;AACnB,SAAA;KACF;;oIAzvBU,uCAAuC,EAAA,IAAA,EAAA,CAAA,EAAA,KAAA,EAAAQ,kBAAA,EAAA,EAAA,EAAA,KAAA,EAAA,EAAA,CAAA,UAAA,EAAA,EAAA,EAAA,KAAA,EAAA,EAAA,CAAA,gBAAA,EAAA,EAAA,EAAA,KAAA,EAAA,EAAA,CAAA,QAAA,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;AAAvC,uCAAA,CAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,uCAAuC,6gDAJxC,CAAE,CAAA,EAAA,QAAA,EAAA,IAAA,EAAA,eAAA,EAAA,EAAA,CAAA,uBAAA,CAAA,MAAA,EAAA,CAAA,CAAA;2FAID,uCAAuC,EAAA,UAAA,EAAA,CAAA;kBANnD,SAAS;AACE,YAAA,IAAA,EAAA,CAAA,EAAA,QAAA,EAAA,oCAAoC,EACpC,QAAA,EAAA,CAAA,CAAE,EAEK,eAAA,EAAA,uBAAuB,CAAC,MAAM,EAAA,CAAA;qLAI/C,UAAU,EAAA,CAAA;sBADT,WAAW;uBAAC,kBAAkB,CAAA;gBAI/B,qBAAqB,EAAA,CAAA;sBADpB,WAAW;uBAAC,wCAAwC,CAAA;gBAIrD,IAAI,EAAA,CAAA;sBADH,KAAK;gBAIN,KAAK,EAAA,CAAA;sBADJ,KAAK;gBAIN,MAAM,EAAA,CAAA;sBADL,KAAK;gBAIN,aAAa,EAAA,CAAA;sBADZ,KAAK;gBAIN,UAAU,EAAA,CAAA;sBADT,KAAK;gBAIN,SAAS,EAAA,CAAA;sBADR,KAAK;gBAIN,WAAW,EAAA,CAAA;sBADV,KAAK;gBAIN,YAAY,EAAA,CAAA;sBADX,KAAK;gBAIN,UAAU,EAAA,CAAA;sBADT,KAAK;gBAIN,SAAS,EAAA,CAAA;sBADR,KAAK;gBAIN,SAAS,EAAA,CAAA;sBADR,KAAK;gBAIN,UAAU,EAAA,CAAA;sBADT,KAAK;gBAIN,UAAU,EAAA,CAAA;sBADT,KAAK;gBAIN,eAAe,EAAA,CAAA;sBADd,KAAK;gBAIN,iBAAiB,EAAA,CAAA;sBADhB,KAAK;gBAIN,oBAAoB,EAAA,CAAA;sBADnB,KAAK;gBAIN,SAAS,EAAA,CAAA;sBADR,KAAK;gBAIN,UAAU,EAAA,CAAA;sBADT,KAAK;gBAIN,iBAAiB,EAAA,CAAA;sBADhB,KAAK;gBAIN,WAAW,EAAA,CAAA;sBADV,KAAK;gBAIN,cAAc,EAAA,CAAA;sBADb,KAAK;gBAIN,qBAAqB,EAAA,CAAA;sBADpB,KAAK;gBAIN,uBAAuB,EAAA,CAAA;sBADtB,KAAK;gBAIN,WAAW,EAAA,CAAA;sBADV,KAAK;gBAIN,sBAAsB,EAAA,CAAA;sBADrB,KAAK;gBAIN,wBAAwB,EAAA,CAAA;sBADvB,KAAK;gBAIN,uBAAuB,EAAA,CAAA;sBADtB,KAAK;gBAIN,sBAAsB,EAAA,CAAA;sBADrB,KAAK;gBAIN,wBAAwB,EAAA,CAAA;sBADvB,KAAK;gBAIN,kBAAkB,EAAA,CAAA;sBADjB,KAAK;gBAIN,0BAA0B,EAAA,CAAA;sBADzB,KAAK;gBAIN,yBAAyB,EAAA,CAAA;sBADxB,KAAK;gBAIN,UAAU,EAAA,CAAA;sBADT,KAAK;gBAIN,WAAW,EAAA,CAAA;sBADV,KAAK;gBAIN,WAAW,EAAA,CAAA;sBADV,KAAK;gBAIN,KAAK,EAAA,CAAA;sBADJ,KAAK;gBAGG,QAAQ,EAAA,CAAA;sBAAhB,KAAK;gBAGN,OAAO,EAAA,CAAA;sBADN,MAAM;gBAIP,OAAO,EAAA,CAAA;sBADN,MAAM;;;MCnHI,+BAA+B,CAAA;AA2I1C,IAAA,WAAA,CAAoB,QAA4B,EAAU,QAAoB,EAAU,OAAyB,EAAA;QAA7F,IAAQ,CAAA,QAAA,GAAR,QAAQ,CAAoB;QAAU,IAAQ,CAAA,QAAA,GAAR,QAAQ,CAAY;QAAU,IAAO,CAAA,OAAA,GAAP,OAAO,CAAkB;QA1IhF,IAAU,CAAA,UAAA,GAAG,IAAI,CAAC;QAEN,IAAgB,CAAA,gBAAA,GAAG,IAAI,CAAC;QAI5D,IAAK,CAAA,KAAA,GAAG,GAAG,CAAC;QAEZ,IAAM,CAAA,MAAA,GAAG,GAAG,CAAC;QAEb,IAAO,CAAA,OAAA,GAAG,CAAC,CAAC;QAEZ,IAAO,CAAA,OAAA,GAAG,CAAC,CAAC;QAEZ,IAAS,CAAA,SAAA,GAAiC,MAAM,CAAC;QAEjD,IAAiB,CAAA,iBAAA,GAAG,EAAE,CAAC;QAEvB,IAAU,CAAA,UAAA,GAAG,CAAC,CAAC;QAEf,IAAiB,CAAA,iBAAA,GAAG,EAAE,CAAC;QAEvB,IAAU,CAAA,UAAA,GAAG,CAAC,CAAC;QAEf,IAAc,CAAA,cAAA,GAAG,IAAI,CAAC;QAEtB,IAAc,CAAA,cAAA,GAAG,IAAI,CAAC;QAG/B,IAAS,CAAA,SAAA,GAAG,KAAK,CAAC;QAGlB,IAAS,CAAA,SAAA,GAAG,KAAK,CAAC;QAGlB,IAAU,CAAA,UAAA,GAAG,KAAK,CAAC;AAGnB,QAAA,IAAA,CAAA,WAAW,GAAG,GAAG,GAAG,EAAE,CAAC;QAGvB,IAAc,CAAA,cAAA,GAAuB,OAAO,CAAC;QAG7C,IAAqB,CAAA,qBAAA,GAAsB,IAAI,CAAC;QAGhD,IAAa,CAAA,aAAA,GAAG,GAAG,CAAC;QAGpB,IAAuB,CAAA,uBAAA,GAAsB,IAAI,CAAC;QAGlD,IAAyB,CAAA,yBAAA,GAAG,EAAE,CAAC;QAG/B,IAAa,CAAA,aAAA,GAAG,GAAG,CAAC;QAGpB,IAAuB,CAAA,uBAAA,GAAsB,IAAI,CAAC;QAGlD,IAAyB,CAAA,yBAAA,GAAG,EAAE,CAAC;QAG/B,IAAiB,CAAA,iBAAA,GAAG,OAAO,CAAC;QAG5B,IAAsB,CAAA,sBAAA,GAAsB,IAAI,CAAC;QAGjD,IAAwB,CAAA,wBAAA,GAAG,EAAE,CAAC;QAErB,IAAS,CAAA,SAAA,GAAG,EAAE,CAAC;QAEf,IAAW,CAAA,WAAA,GAAG,EAAE,CAAC;QAEjB,IAAY,CAAA,YAAA,GAAG,EAAE,CAAC;QAElB,IAAU,CAAA,UAAA,GAAG,EAAE,CAAC;QAMzB,IAAW,CAAA,WAAA,GAAY,KAAK,CAAC;QAG7B,IAAW,CAAA,WAAA,GAAC,EAAE,CAAC;AAGf,QAAA,IAAA,CAAA,OAAO,GAAyB,IAAI,YAAY,EAAU,CAAC;AAG3D,QAAA,IAAA,CAAA,OAAO,GAAyB,IAAI,YAAY,EAAU,CAAC;AAG3D,QAAA,IAAA,CAAA,cAAc,GAAyB,IAAI,YAAY,EAAU,CAAC;AAGlE,QAAA,IAAA,CAAA,cAAc,GAAyB,IAAI,YAAY,EAAU,CAAC;QA4OlE,IAAW,CAAA,WAAA,GAAG,MAAK;;AAEjB,YAAA,MAAM,MAAM,GAAG,IAAI,GAAG,EAAE,CAAC;AACzB,YAAA,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YAExC,MAAM,WAAW,GAAU,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC;;YAIvD,MAAM,MAAM,GAAG,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;AAGhG,YAAA,IAAI,CAAC,UAAU,GAAGJ,YAAe,EAAE,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;;AAGtE,YAAA,IAAI,IAAI,CAAC,SAAS,KAAK,MAAM,EAAE;AAC7B,gBAAA,IAAI,CAAC,UAAU,CAAC,MAAM,CACpBW,MAAS,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAM,KAAI;AAC9B,oBAAA,OAAOf,QAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;iBACzB,CAAC,CACH,CAAC;AACH,aAAA;AAAM,iBAAA,IAAI,IAAI,CAAC,SAAS,KAAK,QAAQ,EAAE;AACtC,gBAAA,IAAI,CAAC,UAAU,CAAC,MAAM,CACpBe,MAAS,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAM,KAAI;AAC9B,oBAAA,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;iBACb,CAAC,CACH,CAAC;AACH,aAAA;;AAGD,YAAA,IAAI,CAAC,UAAU;AACZ,iBAAA,MAAM,CAAC;gBACNN,GAAM,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAM,EAAE,CAAC,KAAI;AAC9B,oBAAA,MAAM,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;oBACpB,OAAO,MAAM,GAAG,MAAM,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC;AAChD,iBAAC,CAAC;gBACFC,GAAM,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAM,EAAE,CAAC,KAAI;AAC9B,oBAAA,MAAM,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;AACpB,oBAAA,OAAO,MAAM,GAAG,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC;AAC/C,iBAAC,CAAC;aACH,CAAC;AACD,iBAAA,IAAI,EAAE,CAAC;AAEV,YAAA,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AAC5D,YAAA,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;;AAG5D,YAAA,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;AACnB,gBAAA,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AAC7D,aAAA;AACD,YAAA,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;AACnB,gBAAA,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AAC7D,aAAA;AAED,YAAA,IAAI,CAAC,GAAG;iBACL,SAAS,CAAC,QAAQ,CAAC;AACnB,iBAAA,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;AACf,iBAAA,IAAI,CACH,CAAC,KAAK,KAAI;AACR,gBAAA,OAAO,KAAK;qBACT,MAAM,CAAC,QAAQ,CAAC;AAChB,qBAAA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAM,KAAI;AACrB,oBAAA,IAAI,IAAI,CAAC,SAAS,KAAK,MAAM,EAAE;wBAC7B,OAAO,IAAI,CAAC,UAAU,CAACV,QAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;AACtE,qBAAA;AAED,oBAAA,OAAO,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;AAC1D,iBAAC,CAAC;AACD,qBAAA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAM,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;AAC1C,qBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,KAAI;oBACf,IAAI,CAAC,CAAC,KAAK,EAAE;wBACX,OAAO,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AACjC,qBAAA;AAED,oBAAA,OAAO,CAAC,CAAC;AACX,iBAAC,CAAC;AACD,qBAAA,IAAI,CAAC,MAAM,EAAE,CAAC,CAAM,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;AAChD,qBAAA,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAM,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;AAClD,qBAAA,IAAI,CAAC,CAAC,KAAK,KAAI;AACd,oBAAA,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAM,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;AACjF,iBAAC,CAAC,CAAC;AACP,aAAC,EACD,CAAC,MAAM,KAAI;gBACT,MAAM;AACH,qBAAA,UAAU,EAAE;qBACZ,QAAQ,CAAC,IAAI,CAAC;qBACd,IAAI,CAAC,IAAI,EAAE,CAAC,CAAM,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;qBACxE,IAAI,CAAC,IAAI,EAAE,CAAC,CAAM,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;AAC5E,gBAAA,OAAO,MAAM,CAAC;AAChB,aAAC,EACD,CAAC,IAAI,KAAI;gBACP,IAAI;qBACD,IAAI,CAAC,IAAI,EAAE,CAAC,CAAM,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;AACtE,qBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;AACZ,qBAAA,MAAM,EAAE,CAAC;AACd,aAAC,CACF;AACA,iBAAA,EAAE,CAAC,WAAW,EAAE,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;AAC/D,iBAAA,EAAE,CAAC,UAAU,EAAE,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,WAAW,EAAE,CAAC;iBACnD,EAAE,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;AAEjF,YAAA,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;AACpB,gBAAA,MAAM,UAAU,GAAG,IAAI,GAAG,EAAE,CAAC;gBAE7B,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,KAAI;AACtB,oBAAA,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;AACxB,iBAAC,CAAC,CAAC;AAEH,gBAAA,IAAI,CAAC,KAAK;qBACP,MAAM,CAAC,SAAS,CAAC;qBACjB,SAAS,CAAC,cAAc,CAAC;qBACzB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,CAAC;AACrC,qBAAA,IAAI,CACH,CAAC,KAAK,KAAI;AACR,oBAAA,MAAM,EAAE,GAAG,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC;AAC3D,oBAAA,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC;AACd,yBAAA,IAAI,CAAC,OAAO,EAAE,YAAY,CAAC;AAC3B,yBAAA,KAAK,CAAC,kBAAkB,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;AACxD,oBAAA,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC;AACd,yBAAA,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC;AAC7B,yBAAA,IAAI,CAAC,CAAC,CAAC,KAAI;wBACV,QAAQ,IAAI,CAAC,qBAAqB;AAChC,4BAAA,KAAK,QAAQ;AACX,gCAAA,OAAO,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC;AACnC,4BAAA,KAAK,MAAM;AACT,gCAAA,MAAM,UAAU,GAAGA,QAAW,CAAC,CAAC,CAAC,CAAC;AAClC,gCAAA,OAAO,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,CAAC;AAC5C,4BAAA;AACE,gCAAA,OAAO,CAAC,CAAC;AACZ,yBAAA;AACH,qBAAC,CAAC,CAAC;AACL,oBAAA,OAAO,EAAE,CAAC;AACZ,iBAAC,EACD,CAAC,MAAM,KAAI;oBACT,MAAM,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAI;wBACxC,QAAQ,IAAI,CAAC,qBAAqB;AAChC,4BAAA,KAAK,QAAQ;AACX,gCAAA,OAAO,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC;AACnC,4BAAA,KAAK,MAAM;AACT,gCAAA,MAAM,UAAU,GAAGA,QAAW,CAAC,CAAC,CAAC,CAAC;AAClC,gCAAA,OAAO,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,CAAC;AAC5C,4BAAA;AACE,gCAAA,OAAO,CAAC,CAAC;AACZ,yBAAA;AACH,qBAAC,CAAC,CAAC;AACH,oBAAA,OAAO,MAAM,CAAC;iBACf,EACD,CAAC,IAAI,KAAK,IAAI,CAAC,MAAM,EAAE,CACxB;AACA,qBAAA,EAAE,CAAC,WAAW,EAAE,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;qBACnE,EAAE,CAAC,UAAU,EAAE,MAAM,IAAI,CAAC,cAAc,EAAE,CAAC;AAC3C,qBAAA,EAAE,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC;AACrE,aAAA;AACH,SAAC,CAAC;AAEF,QAAA,IAAA,CAAA,eAAe,GAAG,CAAC,KAAK,EAAE,IAAI,KAAI;AAChC,YAAA,MAAM,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,KAAK,IAAI,CAAC,CAAC;AAE7D,YAAA,IAAI,CAAC,KAAK;iBACP,SAAS,CAAC,cAAc,CAAC;AACzB,iBAAA,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAI;gBACf,OAAO,CAAC,KAAK,IAAI,CAAC;AACpB,aAAC,CAAC;AACD,iBAAA,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;AAE7B,YAAA,IAAI,CAAC,GAAG;iBACL,SAAS,CAAC,QAAQ,CAAC;AACnB,iBAAA,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAI;AACf,gBAAA,OAAO,CAAC,CAAC,GAAG,KAAK,IAAI,CAAC;AACxB,aAAC,CAAC;AACD,iBAAA,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;AAE7B,YAAA,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,YAAY,EAAE,CAAC,CAAC;AACnD,SAAC,CAAC;QAEF,IAAc,CAAA,cAAA,GAAG,MAAK;AACpB,YAAA,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;AAEhE,YAAA,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;AAC1D,SAAC,CAAC;AAEF,QAAA,IAAA,CAAA,gBAAgB,GAAG,CAAC,KAAK,EAAE,IAAI,KAAI;AACjC,YAAA,MAAM,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,KAAK,IAAI,CAAC,CAAC;AAE7D,YAAA,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,YAAY,EAAE,CAAC,CAAC;AACnD,SAAC,CAAC;AAEM,QAAA,IAAA,CAAA,WAAW,GAAG,CAAC,KAAK,EAAE,IAAI,KAAI;YACpC,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,iBAAiB,EAAE,CAAC;YAChD,MAAM,SAAS,GAAG,KAAK,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC;AAE9D,YAAA,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;AACvD,YAAAO,MAAS,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;YAElF,MAAM,WAAW,GAAG,QAAQ,CAAC,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;AAEnD,YAAA,IAAI,IAAI,GAAG,CAAA;;2BAEY,IAAI,CAAC,aAAa,CAAA,4BAAA,EAA+B,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAA;;;2BAGpF,IAAI,CAAC,aAAa,CAAA,4BAAA,EAA+B,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAA;;KAE1G,CAAC;YAEF,IAAI,IAAI,CAAC,KAAK,EAAE;AACd,gBAAA,IAAI,IAAI,CAAA;;2BAEa,IAAI,CAAC,iBAAiB,CAAA,4BAAA,EAA+B,IAAI,CAAC,qBAAqB,CAClG,IAAI,CAAC,KAAK,CACX,CAAA;;OAEA,CAAC;AACH,aAAA;AAED,YAAA,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAExC,MAAM,mBAAmB,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,YAAY,CAAC;YAC9D,MAAM,iBAAiB,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,qBAAqB,EAAE,CAAC;YACtE,MAAM,mBAAmB,GAAG,SAAS,CAAC,IAAI,GAAG,iBAAiB,CAAC,KAAK,GAAG,CAAC,CAAC;AAEzE,YAAA,IAAI,QAAQ,CAAC;;YAGb,IAAI,mBAAmB,GAAG,WAAW,EAAE;gBACrC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;gBACnC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;AACpC,gBAAA,QAAQ,GAAG,CAAG,EAAA,SAAS,CAAC,IAAI,GAAG,SAAS,CAAC,KAAK,GAAG,CAAC,GAAG,iBAAiB,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC;AACtF,aAAA;iBAAM,IAAI,mBAAmB,GAAG,WAAW,EAAE;gBAC5C,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;gBACpC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;AACnC,gBAAA,QAAQ,GAAG,CAAA,EAAG,SAAS,CAAC,IAAI,GAAG,SAAS,CAAC,KAAK,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC;AAC5D,aAAA;;AAGD,YAAA,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,EAAE,CAAA,EAAG,SAAS,CAAC,GAAG,GAAG,SAAS,CAAC,MAAM,GAAG,CAAC,GAAG,mBAAmB,GAAG,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAI,EAAA,CAAA,CAAC,CAAC;YAE7G,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;YACrC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;AAEjC,YAAA,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;AAClD,SAAC,CAAC;QAEM,IAAW,CAAA,WAAA,GAAG,MAAK;YACzB,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC,OAAO,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;YAEjF,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;AACnC,SAAC,CAAC;AAEM,QAAA,IAAA,CAAA,cAAc,GAAG,CAAC,IAAI,KAAI;AAChC,YAAA,IAAI,IAAI,CAAC,SAAS,KAAK,MAAM,EAAE;AAC7B,gBAAA,MAAM,SAAS,GAAGP,QAAW,CAAC,IAAI,CAAC,CAAC;AACpC,gBAAA,OAAO,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;AACpC,aAAA;AAAM,iBAAA,IAAI,IAAI,CAAC,SAAS,KAAK,QAAQ,EAAE;AACtC,gBAAA,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;AAC/B,aAAA;AAAM,iBAAA;AACL,gBAAA,OAAO,IAAI,CAAC;AACb,aAAA;AACH,SAAC,CAAC;AAEM,QAAA,IAAA,CAAA,cAAc,GAAG,CAAC,IAAI,KAAI;AAChC,YAAA,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;AAChC,SAAC,CAAC;AAEM,QAAA,IAAA,CAAA,sBAAsB,GAAG,CAAC,IAAI,KAAI;AACxC,YAAA,IAAI,IAAI,CAAC,uBAAuB,KAAK,MAAM,EAAE;AAC3C,gBAAA,MAAM,SAAS,GAAGA,QAAW,CAAC,IAAI,CAAC,CAAC;AACpC,gBAAA,OAAO,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,CAAC;AAC5C,aAAA;AAAM,iBAAA,IAAI,IAAI,CAAC,uBAAuB,KAAK,QAAQ,EAAE;AACpD,gBAAA,OAAO,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;AACvC,aAAA;AAAM,iBAAA;AACL,gBAAA,OAAO,IAAI,CAAC;AACb,aAAA;AACH,SAAC,CAAC;AAEM,QAAA,IAAA,CAAA,sBAAsB,GAAG,CAAC,IAAI,KAAI;AACxC,YAAA,IAAI,IAAI,CAAC,uBAAuB,KAAK,MAAM,EAAE;AAC3C,gBAAA,MAAM,SAAS,GAAGA,QAAW,CAAC,IAAI,CAAC,CAAC;AACpC,gBAAA,OAAO,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,CAAC;AAC5C,aAAA;AAAM,iBAAA,IAAI,IAAI,CAAC,uBAAuB,KAAK,QAAQ,EAAE;AACpD,gBAAA,OAAO,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;AACvC,aAAA;AAAM,iBAAA;AACL,gBAAA,OAAO,IAAI,CAAC;AACb,aAAA;AACH,SAAC,CAAC;AAEM,QAAA,IAAA,CAAA,qBAAqB,GAAG,CAAC,IAAI,KAAI;AACvC,YAAA,IAAI,IAAI,CAAC,sBAAsB,KAAK,MAAM,EAAE;AAC1C,gBAAA,MAAM,SAAS,GAAGA,QAAW,CAAC,IAAI,CAAC,CAAC;AACpC,gBAAA,OAAO,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,CAAC;AAC3C,aAAA;AAAM,iBAAA,IAAI,IAAI,CAAC,sBAAsB,KAAK,QAAQ,EAAE;AACnD,gBAAA,OAAO,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;AACtC,aAAA;AAAM,iBAAA;AACL,gBAAA,OAAO,IAAI,CAAC;AACb,aAAA;AACH,SAAC,CAAC;KA7emH;IAErH,QAAQ,GAAA;QACN,IAAI,CAAC,MAAM,GAAG;AACZ,YAAA,GAAG,EAAE,CAAC,IAAI,CAAC,SAAS;AACpB,YAAA,KAAK,EAAE,CAAC,IAAI,CAAC,WAAW;AACxB,YAAA,MAAM,EAAE,CAAC,IAAI,CAAC,YAAY;AAC1B,YAAA,IAAI,EAAE,CAAC,IAAI,CAAC,UAAU;SACvB,CAAC;;AAGF,QAAA,IAAI,CAAC,WAAW;YACd,IAAI,CAAC,SAAS,KAAK,MAAM,GAAGD,YAAa,CAAC,IAAI,CAAC,iBAAiB,CAAC,GAAGD,QAAS,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;QAExG,IAAI,CAAC,WAAW,GAAGA,QAAS,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;AACrD,QAAA,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,uBAAuB,EAAE,IAAI,CAAC,yBAAyB,CAAC,CAAC;AAChH,QAAA,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,uBAAuB,EAAE,IAAI,CAAC,yBAAyB,CAAC,CAAC;AAChH,QAAA,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,sBAAsB,EAAE,IAAI,CAAC,wBAAwB,CAAC,CAAC;AAE7G,QAAA,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;AACvB,QAAA,IAAI,CAAC,kBAAkB,GAAG,CAAC,CAAC;AAC5B,QAAA,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;AACvB,QAAA,IAAI,CAAC,kBAAkB,GAAG,CAAC,CAAC;;AAG5B,QAAA,IAAI,CAAC,KAAK,GAAGS,MAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;;AAGhF,QAAA,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,KAAK;aAClB,MAAM,CAAC,KAAK,CAAC;AACb,aAAA,IAAI,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC;AAC9C,aAAA,IAAI,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;AACnE,aAAA,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;AAC1B,aAAA,IAAI,CAAC,qBAAqB,EAAE,eAAe,CAAC;aAC5C,IAAI,CACH,SAAS,EACT,CAAA,CAAA,EAAI,IAAI,CAAC,MAAM,CAAC,IAAI,CAAA,EAAA,EAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAA,CAAA,EAAI,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CACzE,CAAA,EAAA,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAC/C,CAAE,CAAA,CACH,CAAC;;AAGJ,QAAA,IAAI,IAAI,CAAC,SAAS,KAAK,MAAM,EAAE;AAC7B,YAAA,IAAI,CAAC,UAAU,GAAGkB,SAAY,EAAE;iBAC7B,MAAM,CACLV,MAAS,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAM,KAAI;AAC9B,gBAAA,OAAOf,QAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC1B,aAAC,CAAC,CACH;iBACA,KAAK,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;AAClE,SAAA;AAAM,aAAA,IAAI,IAAI,CAAC,SAAS,KAAK,QAAQ,EAAE;AACtC,YAAA,IAAI,CAAC,UAAU,GAAGa,WAAc,EAAE;iBAC/B,MAAM,CACLE,MAAS,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAM,KAAI;AAC9B,gBAAA,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;AACd,aAAC,CAAC,CACH;iBACA,KAAK,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;AAClE,SAAA;AAAM,aAAA;AACL,YAAA,MAAM,IAAI,GAAQ,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;AAE5C,YAAA,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;AAE5B,YAAA,IAAI,CAAC,UAAU,GAAGW,UAAa,EAAE;iBAC9B,MAAM,CAAC,IAAI,CAAC;iBACZ,KAAK,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;AAClE,SAAA;QAED,IAAI,CAAC,SAAS,GAAGd,UAAa,CAAC,IAAI,CAAC,UAAU,CAAC;AAC5C,aAAA,KAAK,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC;AACvB,aAAA,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC;AAC5B,aAAA,aAAa,CAAC,IAAI,CAAC,kBAAkB,CAAC;AACtC,aAAA,UAAU,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;AAEnC,QAAA,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG;aAClB,MAAM,CAAC,GAAG,CAAC;AACX,aAAA,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC;aAC5B,IAAI,CAAC,WAAW,EAAE,CAAA,aAAA,EAAgB,IAAI,CAAC,MAAM,GAAG,CAAC;AACjD,aAAA,OAAO,CAAC,aAAa,EAAE,IAAI,CAAC,SAAS,CAAC;AACtC,aAAA,OAAO,CAAC,kBAAkB,EAAE,IAAI,CAAC,aAAa,CAAC;AAC/C,aAAA,OAAO,CAAC,oBAAoB,EAAE,IAAI,CAAC,eAAe,CAAC;AACnD,aAAA,OAAO,CAAC,mBAAmB,EAAE,IAAI,CAAC,cAAc,CAAC;AACjD,aAAA,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;;AAGxB,QAAA,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;AACnB,YAAA,IAAI,IAAI,CAAC,SAAS,KAAK,QAAQ,EAAE;gBAC/B,IAAI,CAAC,SAAS,GAAGA,UAAa,CAAC,IAAI,CAAC,UAAU,CAAC;AAC5C,qBAAA,QAAQ,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC;AACtB,qBAAA,UAAU,CACT,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAI;oBACvC,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;;;AAG5B,oBAAA,OAAO,CAAC,GAAG,IAAI,CAAC,UAAU,KAAK,CAAC,CAAC;iBAClC,CAAC,CACH,CAAC;AACL,aAAA;AAAM,iBAAA;AACL,gBAAA,IAAI,CAAC,SAAS,GAAGA,UAAa,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AACxE,aAAA;AAED,YAAA,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG;iBAClB,MAAM,CAAC,GAAG,CAAC;AACX,iBAAA,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC;AAC5B,iBAAA,OAAO,CAAC,kBAAkB,EAAE,IAAI,CAAC,aAAa,CAAC;iBAC/C,IAAI,CAAC,WAAW,EAAE,CAAA,aAAA,EAAgB,IAAI,CAAC,MAAM,GAAG,CAAC;AACjD,iBAAA,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AACzB,SAAA;;AAGD,QAAA,IAAI,CAAC,UAAU,GAAGC,WAAc,EAAE;AAC/B,aAAA,MAAM,CAAC;YACNJ,GAAM,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAM,EAAE,CAAC,KAAI;AAC9B,gBAAA,MAAM,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;gBACpB,OAAO,MAAM,GAAG,MAAM,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC;AAChD,aAAC,CAAC;YACFC,GAAM,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAM,EAAE,CAAC,KAAI;AAC9B,gBAAA,MAAM,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;AACpB,gBAAA,OAAO,MAAM,GAAG,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC;AAC/C,aAAC,CAAC;SACH,CAAC;AACD,aAAA,IAAI,EAAE;aACN,KAAK,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC;QAE3B,IAAI,CAAC,SAAS,GAAGI,QAAW,CAAC,IAAI,CAAC,UAAU,CAAC;AAC1C,aAAA,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC;AACtB,aAAA,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC;AAC5B,aAAA,aAAa,CAAC,IAAI,CAAC,kBAAkB,CAAC;AACtC,aAAA,UAAU,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;AAEnC,QAAA,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG;aAClB,MAAM,CAAC,GAAG,CAAC;AACX,aAAA,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC;AAC5B,aAAA,OAAO,CAAC,aAAa,EAAE,IAAI,CAAC,SAAS,CAAC;AACtC,aAAA,OAAO,CAAC,kBAAkB,EAAE,IAAI,CAAC,aAAa,CAAC;AAC/C,aAAA,OAAO,CAAC,oBAAoB,EAAE,IAAI,CAAC,eAAe,CAAC;AACnD,aAAA,OAAO,CAAC,mBAAmB,EAAE,IAAI,CAAC,cAAc,CAAC;AACjD,aAAA,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;;AAGxB,QAAA,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;YACnB,IAAI,CAAC,SAAS,GAAGA,QAAW,CAAC,IAAI,CAAC,UAAU,CAAC;AAC1C,iBAAA,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC;AACtB,iBAAA,QAAQ,CAAC,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AAEhE,YAAA,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG;iBAClB,MAAM,CAAC,GAAG,CAAC;AACX,iBAAA,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC;AAC5B,iBAAA,OAAO,CAAC,kBAAkB,EAAE,IAAI,CAAC,aAAa,CAAC;AAC/C,iBAAA,IAAI,CAAC,WAAW,EAAE,CAAA,eAAA,CAAiB,CAAC;AACpC,iBAAA,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AACzB,SAAA;;QAGD,IAAI,OAAO,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE;AAC3B,YAAA,IAAI,CAAC,UAAU,GAAGD,WAAc,EAAE;iBAC/B,MAAM,CACLE,MAAS,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAM,KAAI;AAC9B,gBAAA,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC;AAClB,aAAC,CAAC,CACH;AACA,iBAAA,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;AACnB,SAAA;;AAGD,QAAA,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;AACrB,YAAA,IAAI,CAAC,OAAO,GAAGR,MAAS,CAAC,MAAM,CAAC;iBAC7B,MAAM,CAAC,KAAK,CAAC;AACb,iBAAA,IAAI,CAAC,OAAO,EAAE,mBAAmB,CAAC;AAClC,iBAAA,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC;AACnB,iBAAA,IAAI,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;;AAG/B,YAAA,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,gBAAgB,CAAC,CAAC;;AAG3D,YAAA,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,+BAA+B,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;AAC7F,SAAA;;AAGD,QAAA,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;YACpB,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,0BAA0B,EAAE,IAAI,CAAC,cAAc,KAAK,QAAQ,GAAG,IAAI,GAAG,KAAK,CAAC,CAAC;AAChG,YAAA,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,CAAiB,cAAA,EAAA,IAAI,CAAC,cAAc,CAAA,CAAE,CAAC,CAAC;AAC/E,SAAA;QAED,IAAI,CAAC,WAAW,EAAE,CAAC;KACpB;AAED,IAAA,WAAW,CAAC,OAAsB,EAAA;QAChC,IAAI,OAAO,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE;YAC7C,IAAI,CAAC,WAAW,EAAE,CAAC;AACpB,SAAA;KACF;IAED,WAAW,GAAA;QACT,IAAI,IAAI,CAAC,OAAO;AAAE,YAAA,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;KACzC;AA2SO,IAAA,MAAM,CAAC,MAAM,EAAA;AACnB,QAAA,OAAO,IAAI,CAAC,MAAM,EAAE,GAAG,MAAM,CAAC;KAC/B;;4HA5nBU,+BAA+B,EAAA,IAAA,EAAA,CAAA,EAAA,KAAA,EAAAC,kBAAA,EAAA,EAAA,EAAA,KAAA,EAAA,EAAA,CAAA,UAAA,EAAA,EAAA,EAAA,KAAA,EAAA,EAAA,CAAA,gBAAA,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;AAA/B,+BAAA,CAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,+BAA+B,g6CAJhC,CAAE,CAAA,EAAA,QAAA,EAAA,IAAA,EAAA,eAAA,EAAA,EAAA,CAAA,uBAAA,CAAA,MAAA,EAAA,CAAA,CAAA;2FAID,+BAA+B,EAAA,UAAA,EAAA,CAAA;kBAN3C,SAAS;AACE,YAAA,IAAA,EAAA,CAAA,EAAA,QAAA,EAAA,0BAA0B,EAC1B,QAAA,EAAA,CAAA,CAAE,EAEK,eAAA,EAAA,uBAAuB,CAAC,MAAM,EAAA,CAAA;8JAGd,UAAU,EAAA,CAAA;sBAA1C,WAAW;uBAAC,kBAAkB,CAAA;gBAEc,gBAAgB,EAAA,CAAA;sBAA5D,WAAW;uBAAC,8BAA8B,CAAA;gBAElC,IAAI,EAAA,CAAA;sBAAZ,KAAK;gBAEG,KAAK,EAAA,CAAA;sBAAb,KAAK;gBAEG,MAAM,EAAA,CAAA;sBAAd,KAAK;gBAEG,OAAO,EAAA,CAAA;sBAAf,KAAK;gBAEG,OAAO,EAAA,CAAA;sBAAf,KAAK;gBAEG,SAAS,EAAA,CAAA;sBAAjB,KAAK;gBAEG,iBAAiB,EAAA,CAAA;sBAAzB,KAAK;gBAEG,UAAU,EAAA,CAAA;sBAAlB,KAAK;gBAEG,iBAAiB,EAAA,CAAA;sBAAzB,KAAK;gBAEG,UAAU,EAAA,CAAA;sBAAlB,KAAK;gBAEG,cAAc,EAAA,CAAA;sBAAtB,KAAK;gBAEG,cAAc,EAAA,CAAA;sBAAtB,KAAK;gBAGN,SAAS,EAAA,CAAA;sBADR,KAAK;gBAIN,SAAS,EAAA,CAAA;sBADR,KAAK;gBAIN,UAAU,EAAA,CAAA;sBADT,KAAK;gBAIN,WAAW,EAAA,CAAA;sBADV,KAAK;gBAIN,cAAc,EAAA,CAAA;sBADb,KAAK;gBAIN,qBAAqB,EAAA,CAAA;sBADpB,KAAK;gBAIN,aAAa,EAAA,CAAA;sBADZ,KAAK;gBAIN,uBAAuB,EAAA,CAAA;sBADtB,KAAK;gBAIN,yBAAyB,EAAA,CAAA;sBADxB,KAAK;gBAIN,aAAa,EAAA,CAAA;sBADZ,KAAK;gBAIN,uBAAuB,EAAA,CAAA;sBADtB,KAAK;gBAIN,yBAAyB,EAAA,CAAA;sBADxB,KAAK;gBAIN,iBAAiB,EAAA,CAAA;sBADhB,KAAK;gBAIN,sBAAsB,EAAA,CAAA;sBADrB,KAAK;gBAIN,wBAAwB,EAAA,CAAA;sBADvB,KAAK;gBAGG,SAAS,EAAA,CAAA;sBAAjB,KAAK;gBAEG,WAAW,EAAA,CAAA;sBAAnB,KAAK;gBAEG,YAAY,EAAA,CAAA;sBAApB,KAAK;gBAEG,UAAU,EAAA,CAAA;sBAAlB,KAAK;gBAGN,KAAK,EAAA,CAAA;sBADJ,KAAK;gBAIN,WAAW,EAAA,CAAA;sBADV,KAAK;gBAIN,WAAW,EAAA,CAAA;sBADV,KAAK;gBAIN,OAAO,EAAA,CAAA;sBADN,MAAM;gBAIP,OAAO,EAAA,CAAA;sBADN,MAAM;gBAIP,cAAc,EAAA,CAAA;sBADb,MAAM;gBAIP,cAAc,EAAA,CAAA;sBADb,MAAM;;;AC1HT,MAAMmC,uBAAqB,GAAG,EAAE,CAAC;AACjC,MAAMC,mBAAiB,GAAG,CAAC,EAAE,CAAC;AAC9B,MAAMC,2BAAyB,GAAG,CAAC,EAAE,CAAC;AACtC,MAAMC,qBAAmB,GAAG,IAAI,CAAC;AACjC,MAAMC,kBAAgB,GAAG,GAAG,CAAC;MAKhB,kCAAkC,CAAA;AAU7C,IAAA,WAAA,CAA8E,SAAS,EAAA;QAAT,IAAS,CAAA,SAAA,GAAT,SAAS,CAAA;QAP1D,IAAkB,CAAA,kBAAA,GAAG,IAAI,CAAC;AAE7C,QAAA,IAAA,CAAA,iBAAiB,GAAsB,IAAI,YAAY,EAAE,CAAC;AAMlE,QAAA,SAAS,CAAC,SAAS,GAAGJ,uBAAqB,CAAC;KAC7C;IAED,QAAQ,GAAA;QACN,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC;AAEpF,QAAA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,gBAAgB;aACpC,MAAM,CAAC,MAAM,CAAC;AACd,aAAA,OAAO,CAAC,qBAAqB,EAAE,IAAI,CAAC;AACpC,aAAA,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;aAClB,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;aACpD,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;aACrC,IAAI,CAAC,WAAW,EAAE,CAAA,UAAA,EAAa,CAAC,CAAK,EAAA,EAAA,CAAC,CAAG,CAAA,CAAA,CAAC,CAAC;QAE9C,IAAI,CAAC,MAAM,EAAE,CAAC;KACf;AAED,IAAA,WAAW,CAAC,OAAsB,EAAA;AAChC,QAAA,IAAI,OAAO,IAAI,OAAO,CAAC,kBAAkB,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,WAAW,EAAE;AACpF,YAAA,IAAI,OAAO,CAAC,kBAAkB,CAAC,YAAY,EAAE;gBAC3C,IAAI,CAAC,aAAa,EAAE,CAAC;AACtB,aAAA;AAAM,iBAAA;AACL,gBAAA,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;AAC/D,aAAA;AACF,SAAA;QAED,IAAI,OAAO,CAAC,WAAW,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,WAAW,EAAE;YAC3D,IAAI,CAAC,MAAM,EAAE,CAAC;AACf,SAAA;KACF;IAEO,MAAM,GAAA;AACZ,QAAA,MAAM,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC;QACtC,MAAM,WAAW,GAAG,IAAI,CAAC,WAAW,EAAE,SAAS,EAAE,MAAM,GAAG,CAAC,CAAC;QAC5D,MAAM,UAAU,GAAG,IAAI,CAAC,WAAW,EAAE,QAAQ,EAAE,MAAM,GAAG,CAAC,CAAC;QAE1D,IAAI,YAAY,IAAI,WAAW,EAAE;YAC/B,MAAM,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;AAExD,YAAA,IAAI,CAAC,gBAAgB;iBAClB,SAAS,CAAC,YAAY,CAAC;AACvB,iBAAA,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC;AAChC,iBAAA,IAAI,CACH,CAAC,KAAK,KAAI;AACR,gBAAA,MAAM,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;gBAEtD,CAAC,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE,CAAC,KAAI;AAC3B,oBAAA,MAAM,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,SAAS,GAAG,CAAC,CAAC;oBAC3D,MAAM,CAAC,GAAGC,mBAAiB,CAAC;AAE5B,oBAAA,OAAO,CAAa,UAAA,EAAA,CAAC,CAAK,EAAA,EAAA,CAAC,GAAG,CAAC;AACjC,iBAAC,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;AAE9B,gBAAA,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC;AACf,qBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;AACZ,qBAAA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;AACb,qBAAA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;AACb,qBAAA,UAAU,EAAE;qBACZ,QAAQ,CAACE,qBAAmB,CAAC;qBAC7B,IAAI,CAAC9B,aAAgB,CAAC;AACtB,qBAAA,IAAI,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;AAEjB,gBAAA,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC;AACb,qBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;AACZ,qBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;AACZ,qBAAA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;AACb,qBAAA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;AACb,qBAAA,IAAI,CAAC,aAAa,EAAE,QAAQ,CAAC;AAC7B,qBAAA,IAAI,CAAC,CAAC,CAAC,KAAI;AACV,oBAAA,OAAO,CAAC,CAAC,IAAI,IAAI,GAAG,CAAC;AACvB,iBAAC,CAAC;AACD,qBAAA,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC;AAC7B,qBAAA,UAAU,EAAE;qBACZ,QAAQ,CAAC8B,qBAAmB,CAAC;qBAC7B,IAAI,CAAC9B,aAAgB,CAAC;AACtB,qBAAA,IAAI,CAAC,OAAO,EAAE,iBAAiB,CAAC,CAAC;AAEpC,gBAAA,OAAO,CAAC,CAAC;AACX,aAAC,EACD,CAAC,MAAM,KAAI;gBACT,MAAM;AACH,qBAAA,UAAU,EAAE;qBACZ,QAAQ,CAAC8B,qBAAmB,CAAC;qBAC7B,IAAI,CAAC9B,aAAgB,CAAC;AACtB,qBAAA,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,KAAI;AACvB,oBAAA,MAAM,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,SAAS,GAAG,CAAC,CAAC;oBAC3D,MAAM,CAAC,GAAG4B,mBAAiB,CAAC;AAE5B,oBAAA,OAAO,CAAa,UAAA,EAAA,CAAC,CAAK,EAAA,EAAA,CAAC,GAAG,CAAC;AACjC,iBAAC,CAAC,CAAC;AAEL,gBAAA,OAAO,MAAM,CAAC;AAChB,aAAC,EACD,CAAC,IAAI,KAAI;gBACP,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,UAAU,EAAE,CAAC,QAAQ,CAACE,qBAAmB,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;gBAE9E,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,UAAU,EAAE,CAAC,QAAQ,CAACA,qBAAmB,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC,CAAC;AAE7F,gBAAA,OAAO,IAAI,CAAC,UAAU,EAAE,CAAC,KAAK,CAACC,kBAAgB,CAAC,CAAC,MAAM,EAAE,CAAC;AAC5D,aAAC,CACF;iBACA,EAAE,CAAC,WAAW,EAAE,CAAC,KAAK,EAAE,IAAI,KAAI;AAC/B,gBAAAxC,MAAS,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;AAC1D,aAAC,CAAC;iBACD,EAAE,CAAC,UAAU,EAAE,CAAC,KAAK,EAAE,IAAI,KAAI;AAC9B,gBAAAA,MAAS,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;AAC3D,aAAC,CAAC;iBACD,EAAE,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,IAAI,KAAI;;gBAE3B,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,CAACA,MAAS,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;AACrG,aAAC,CAAC,CAAC;AACN,SAAA;QAED,IAAI,YAAY,IAAI,UAAU,EAAE;YAC9B,MAAM,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;AAExD,YAAA,IAAI,CAAC,gBAAgB;iBAClB,SAAS,CAAC,WAAW,CAAC;AACtB,iBAAA,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC;AAC/B,iBAAA,IAAI,CACH,CAAC,KAAK,KAAI;AACR,gBAAA,MAAM,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;gBAErD,CAAC,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,KAAI;AACxB,oBAAA,MAAM,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,SAAS,GAAG,CAAC,CAAC;oBAC3D,IAAI,CAAC,GAAGqC,mBAAiB,CAAC;oBAC1B,MAAM,WAAW,GAAG,IAAI,CAAC,WAAW,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC,QAAQ,KAAK,QAAQ,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC;AAE5F,oBAAA,IAAI,WAAW,EAAE;wBACf,CAAC,GAAGC,2BAAyB,CAAC;AAC/B,qBAAA;AAED,oBAAA,OAAO,CAAa,UAAA,EAAA,CAAC,CAAK,EAAA,EAAA,CAAC,GAAG,CAAC;AACjC,iBAAC,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;AAE9B,gBAAA,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC;AACf,qBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;AACZ,qBAAA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;AACb,qBAAA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;AACb,qBAAA,UAAU,EAAE;qBACZ,QAAQ,CAACC,qBAAmB,CAAC;qBAC7B,IAAI,CAAC9B,aAAgB,CAAC;AACtB,qBAAA,IAAI,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;AAEjB,gBAAA,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC;AACb,qBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;AACZ,qBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;AACZ,qBAAA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;AACb,qBAAA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;AACb,qBAAA,IAAI,CAAC,aAAa,EAAE,QAAQ,CAAC;qBAC7B,IAAI,CAAC,GAAG,CAAC;AACT,qBAAA,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC;AAC7B,qBAAA,UAAU,EAAE;qBACZ,QAAQ,CAAC8B,qBAAmB,CAAC;qBAC7B,IAAI,CAAC9B,aAAgB,CAAC;AACtB,qBAAA,IAAI,CAAC,OAAO,EAAE,iBAAiB,CAAC,CAAC;AAEpC,gBAAA,OAAO,CAAC,CAAC;AACX,aAAC,EACD,CAAC,MAAM,KAAI;gBACT,MAAM;AACH,qBAAA,UAAU,EAAE;qBACZ,QAAQ,CAAC8B,qBAAmB,CAAC;qBAC7B,IAAI,CAAC9B,aAAgB,CAAC;AACtB,qBAAA,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,KAAI;AACvB,oBAAA,MAAM,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,SAAS,GAAG,CAAC,CAAC;oBAC3D,IAAI,CAAC,GAAG4B,mBAAiB,CAAC;oBAC1B,MAAM,WAAW,GAAG,IAAI,CAAC,WAAW,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC,QAAQ,KAAK,QAAQ,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC;AAE5F,oBAAA,IAAI,WAAW,EAAE;wBACf,CAAC,GAAGC,2BAAyB,CAAC;AAC/B,qBAAA;AAED,oBAAA,OAAO,CAAa,UAAA,EAAA,CAAC,CAAK,EAAA,EAAA,CAAC,GAAG,CAAC;AACjC,iBAAC,CAAC,CAAC;AAEL,gBAAA,OAAO,MAAM,CAAC;AAChB,aAAC,EACD,CAAC,IAAI,KAAI;gBACP,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,UAAU,EAAE,CAAC,QAAQ,CAACC,qBAAmB,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;gBAE9E,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,UAAU,EAAE,CAAC,QAAQ,CAACA,qBAAmB,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC,CAAC;AAE7F,gBAAA,OAAO,IAAI,CAAC,UAAU,EAAE,CAAC,KAAK,CAACC,kBAAgB,CAAC,CAAC,MAAM,EAAE,CAAC;AAC5D,aAAC,CACF;AACA,iBAAA,EAAE,CAAC,WAAW,EAAE,CAAC,KAAK,KAAI;AACzB,gBAAAxC,MAAS,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;AAC1D,aAAC,CAAC;AACD,iBAAA,EAAE,CAAC,UAAU,EAAE,CAAC,KAAK,KAAI;AACxB,gBAAAA,MAAS,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;AAC3D,aAAC,CAAC;iBACD,EAAE,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,IAAI,KAAI;gBAC3B,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,CAACA,MAAS,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;AACrG,aAAC,CAAC,CAAC;AACN,SAAA;;QAGD,IAAI,IAAI,CAAC,kBAAkB,EAAE;YAC3B,IAAI,CAAC,aAAa,EAAE,CAAC;AACtB,SAAA;AAED,QAAA,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC,OAAO,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC;KACrF;IAEO,aAAa,GAAA;QACnB,MAAM,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AAEhD,QAAA,MAAM,QAAQ,GAAG,OAAO,KAAK,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;AAEzC,QAAA,IAAI,CAAC,UAAU;AACZ,aAAA,UAAU,EAAE;aACZ,QAAQ,CAAC,QAAQ,CAAC;aAClB,IAAI,CAACS,aAAgB,CAAC;AACtB,aAAA,IAAI,CAAC,WAAW,EAAE,MAAK;AACtB,YAAA,MAAM,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;YAC7D,MAAM,CAAC,GAAG,CAAC,CAAC;AAEZ,YAAA,OAAO,CAAa,UAAA,EAAA,CAAC,CAAK,EAAA,EAAA,CAAC,GAAG,CAAC;AACjC,SAAC,CAAC;AACD,aAAA,UAAU,EAAE;aACZ,QAAQ,CAAC,GAAG,CAAC;AACb,aAAA,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;KACvB;;AA1OU,kCAAA,CAAA,IAAA,GAAA,EAAA,CAAA,kBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,kCAAkC,kBAUzB,UAAU,CAAC,MAAM,8BAA8B,CAAC,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;mHAVzD,kCAAkC,EAAA,QAAA,EAAA,uCAAA,EAAA,MAAA,EAAA,EAAA,WAAA,EAAA,aAAA,EAAA,kBAAA,EAAA,oBAAA,EAAA,EAAA,OAAA,EAAA,EAAA,iBAAA,EAAA,mBAAA,EAAA,EAAA,aAAA,EAAA,IAAA,EAAA,QAAA,EAAA,EAAA,EAAA,CAAA,CAAA;2FAAlC,kCAAkC,EAAA,UAAA,EAAA,CAAA;kBAH9C,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACT,oBAAA,QAAQ,EAAE,uCAAuC;AAClD,iBAAA,CAAA;;0BAWc,MAAM;AAAC,oBAAA,IAAA,EAAA,CAAA,UAAU,CAAC,MAAM,8BAA8B,CAAC,CAAA;4CAT9C,WAAW,EAAA,CAAA;sBAAhC,KAAK;uBAAC,aAAa,CAAA;gBAES,kBAAkB,EAAA,CAAA;sBAA9C,KAAK;uBAAC,oBAAoB,CAAA;gBAEjB,iBAAiB,EAAA,CAAA;sBAA1B,MAAM;;;ACZT,MAAM2B,uBAAqB,GAAG,EAAE,CAAC;AACjC,MAAMC,mBAAiB,GAAG,CAAC,EAAE,CAAC;AAC9B,MAAMC,2BAAyB,GAAG,CAAC,EAAE,CAAC;AACtC,MAAM,gBAAgB,GAAG,EAAE,CAAC;AAC5B,MAAMC,qBAAmB,GAAG,IAAI,CAAC;AACjC,MAAMC,kBAAgB,GAAG,GAAG,CAAC;MAKhB,4BAA4B,CAAA;AAUvC,IAAA,WAAA,CAAwE,SAAS,EAAA;QAAT,IAAS,CAAA,SAAA,GAAT,SAAS,CAAA;QAPpD,IAAkB,CAAA,kBAAA,GAAG,IAAI,CAAC;AAE7C,QAAA,IAAA,CAAA,iBAAiB,GAAsB,IAAI,YAAY,EAAE,CAAC;AAMlE,QAAA,SAAS,CAAC,SAAS,GAAGJ,uBAAqB,CAAC;KAC7C;IAED,QAAQ,GAAA;QACN,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC;AAEpF,QAAA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,gBAAgB;aACpC,MAAM,CAAC,MAAM,CAAC;AACd,aAAA,OAAO,CAAC,qBAAqB,EAAE,IAAI,CAAC;AACpC,aAAA,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;AAClB,aAAA,IAAI,CAAC,OAAO,EAAE,gBAAgB,CAAC;aAC/B,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;aACrC,IAAI,CAAC,WAAW,EAAE,CAAa,UAAA,EAAA,gBAAgB,GAAG,CAAC,CAAK,EAAA,EAAA,CAAC,CAAG,CAAA,CAAA,CAAC,CAAC;QAEjE,IAAI,CAAC,MAAM,EAAE,CAAC;KACf;AAED,IAAA,WAAW,CAAC,OAAsB,EAAA;AAChC,QAAA,IAAI,OAAO,IAAI,OAAO,CAAC,kBAAkB,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,WAAW,EAAE;AACpF,YAAA,IAAI,OAAO,CAAC,kBAAkB,CAAC,YAAY,EAAE;gBAC3C,IAAI,CAAC,aAAa,EAAE,CAAC;AACtB,aAAA;AAAM,iBAAA;AACL,gBAAA,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;AAC/D,aAAA;AACF,SAAA;QAED,IAAI,OAAO,CAAC,WAAW,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,WAAW,EAAE;YAC3D,IAAI,CAAC,MAAM,EAAE,CAAC;AACf,SAAA;KACF;IAEO,MAAM,GAAA;AACZ,QAAA,MAAM,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC;QACtC,MAAM,WAAW,GAAG,IAAI,CAAC,WAAW,EAAE,SAAS,EAAE,MAAM,GAAG,CAAC,CAAC;QAC5D,MAAM,UAAU,GAAG,IAAI,CAAC,WAAW,EAAE,QAAQ,EAAE,MAAM,GAAG,CAAC,CAAC;QAE1D,IAAI,YAAY,IAAI,WAAW,EAAE;AAC/B,YAAA,IAAI,CAAC,gBAAgB;iBAClB,SAAS,CAAC,YAAY,CAAC;AACvB,iBAAA,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC;AAChC,iBAAA,IAAI,CACH,CAAC,KAAK,KAAI;AACR,gBAAA,MAAM,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;gBAEtD,CAAC,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE,CAAC,KAAI;AAC3B,oBAAA,IAAI,CAAC,CAAC;oBACN,MAAM,CAAC,GAAGC,mBAAiB,CAAC;AAE5B,oBAAA,IAAI,IAAI,CAAC,SAAS,CAAC,SAAS,KAAK,MAAM,EAAE;AACvC,wBAAA,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC5C,QAAW,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;AACnD,qBAAA;AAAM,yBAAA;wBACL,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;AACtC,qBAAA;AAED,oBAAA,OAAO,CAAa,UAAA,EAAA,CAAC,CAAK,EAAA,EAAA,CAAC,GAAG,CAAC;AACjC,iBAAC,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;AAE9B,gBAAA,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC;AACf,qBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;AACZ,qBAAA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;AACb,qBAAA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;AACb,qBAAA,UAAU,EAAE;qBACZ,QAAQ,CAAC8C,qBAAmB,CAAC;qBAC7B,IAAI,CAAC9B,aAAgB,CAAC;AACtB,qBAAA,IAAI,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;AAEjB,gBAAA,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC;AACb,qBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;AACZ,qBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;AACZ,qBAAA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;AACb,qBAAA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;AACb,qBAAA,IAAI,CAAC,aAAa,EAAE,QAAQ,CAAC;AAC7B,qBAAA,IAAI,CAAC,CAAC,CAAC,KAAI;AACV,oBAAA,OAAO,CAAC,CAAC,IAAI,IAAI,GAAG,CAAC;AACvB,iBAAC,CAAC;AACD,qBAAA,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC;AAC7B,qBAAA,UAAU,EAAE;qBACZ,QAAQ,CAAC8B,qBAAmB,CAAC;qBAC7B,IAAI,CAAC9B,aAAgB,CAAC;AACtB,qBAAA,IAAI,CAAC,OAAO,EAAE,iBAAiB,CAAC,CAAC;AAEpC,gBAAA,OAAO,CAAC,CAAC;AACX,aAAC,EACD,CAAC,MAAM,KAAI;gBACT,MAAM;AACH,qBAAA,UAAU,EAAE;qBACZ,QAAQ,CAAC8B,qBAAmB,CAAC;qBAC7B,IAAI,CAAC9B,aAAgB,CAAC;AACtB,qBAAA,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,KAAI;AACvB,oBAAA,IAAI,CAAC,CAAC;oBACN,MAAM,CAAC,GAAG4B,mBAAiB,CAAC;AAE5B,oBAAA,IAAI,IAAI,CAAC,SAAS,CAAC,SAAS,KAAK,MAAM,EAAE;AACvC,wBAAA,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC5C,QAAW,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;AACnD,qBAAA;AAAM,yBAAA;wBACL,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;AACtC,qBAAA;AAED,oBAAA,OAAO,CAAa,UAAA,EAAA,CAAC,CAAK,EAAA,EAAA,CAAC,GAAG,CAAC;AACjC,iBAAC,CAAC,CAAC;AACL,gBAAA,OAAO,MAAM,CAAC;AAChB,aAAC,EACD,CAAC,IAAI,KAAI;gBACP,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,UAAU,EAAE,CAAC,QAAQ,CAAC8C,qBAAmB,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;gBAC9E,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,UAAU,EAAE,CAAC,QAAQ,CAACA,qBAAmB,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC,CAAC;AAC7F,gBAAA,OAAO,IAAI,CAAC,UAAU,EAAE,CAAC,KAAK,CAACC,kBAAgB,CAAC,CAAC,MAAM,EAAE,CAAC;AAC5D,aAAC,CACF;iBACA,EAAE,CAAC,WAAW,EAAE,CAAC,KAAK,EAAE,IAAI,KAAI;AAC/B,gBAAAxC,MAAS,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;AAC1D,aAAC,CAAC;iBACD,EAAE,CAAC,UAAU,EAAE,CAAC,KAAK,EAAE,IAAI,KAAI;AAC9B,gBAAAA,MAAS,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;AAC3D,aAAC,CAAC;iBACD,EAAE,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,IAAI,KAAI;;gBAE3B,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,CAACA,MAAS,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;AACrG,aAAC,CAAC,CAAC;AACN,SAAA;QAED,IAAI,YAAY,IAAI,UAAU,EAAE;AAC9B,YAAA,IAAI,CAAC,gBAAgB;iBAClB,SAAS,CAAC,WAAW,CAAC;AACtB,iBAAA,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC;AAC/B,iBAAA,IAAI,CACH,CAAC,KAAK,KAAI;AACR,gBAAA,MAAM,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;gBAErD,CAAC,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,KAAI;AACxB,oBAAA,IAAI,CAAC,CAAC;oBACN,IAAI,CAAC,GAAGqC,mBAAiB,CAAC;oBAC1B,MAAM,WAAW,GAAG,IAAI,CAAC,WAAW,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC,QAAQ,KAAK,QAAQ,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC;AAE5F,oBAAA,IAAI,IAAI,CAAC,SAAS,CAAC,SAAS,KAAK,MAAM,EAAE;AACvC,wBAAA,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC5C,QAAW,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;AACnD,qBAAA;AAAM,yBAAA;wBACL,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;AACtC,qBAAA;AAED,oBAAA,IAAI,WAAW,EAAE;wBACf,CAAC,GAAG6C,2BAAyB,CAAC;AAC/B,qBAAA;AAED,oBAAA,OAAO,CAAa,UAAA,EAAA,CAAC,CAAK,EAAA,EAAA,CAAC,GAAG,CAAC;AACjC,iBAAC,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;AAE9B,gBAAA,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC;AACf,qBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;AACZ,qBAAA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;AACb,qBAAA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;AACb,qBAAA,UAAU,EAAE;qBACZ,QAAQ,CAACC,qBAAmB,CAAC;qBAC7B,IAAI,CAAC9B,aAAgB,CAAC;AACtB,qBAAA,IAAI,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;AAEjB,gBAAA,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC;AACb,qBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;AACZ,qBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;AACZ,qBAAA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;AACb,qBAAA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;AACb,qBAAA,IAAI,CAAC,aAAa,EAAE,QAAQ,CAAC;qBAC7B,IAAI,CAAC,GAAG,CAAC;AACT,qBAAA,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC;AAC7B,qBAAA,UAAU,EAAE;qBACZ,QAAQ,CAAC8B,qBAAmB,CAAC;qBAC7B,IAAI,CAAC9B,aAAgB,CAAC;AACtB,qBAAA,IAAI,CAAC,OAAO,EAAE,iBAAiB,CAAC,CAAC;AAEpC,gBAAA,OAAO,CAAC,CAAC;AACX,aAAC,EACD,CAAC,MAAM,KAAI;gBACT,MAAM;AACH,qBAAA,UAAU,EAAE;qBACZ,QAAQ,CAAC8B,qBAAmB,CAAC;qBAC7B,IAAI,CAAC9B,aAAgB,CAAC;AACtB,qBAAA,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,KAAI;AACvB,oBAAA,IAAI,CAAC,CAAC;oBACN,IAAI,CAAC,GAAG4B,mBAAiB,CAAC;oBAC1B,MAAM,WAAW,GAAG,IAAI,CAAC,WAAW,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC,QAAQ,KAAK,QAAQ,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC;AAE5F,oBAAA,IAAI,IAAI,CAAC,SAAS,CAAC,SAAS,KAAK,MAAM,EAAE;AACvC,wBAAA,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC5C,QAAW,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;AACnD,qBAAA;AAAM,yBAAA;wBACL,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;AACtC,qBAAA;AAED,oBAAA,IAAI,WAAW,EAAE;wBACf,CAAC,GAAG6C,2BAAyB,CAAC;AAC/B,qBAAA;AAED,oBAAA,OAAO,CAAa,UAAA,EAAA,CAAC,CAAK,EAAA,EAAA,CAAC,GAAG,CAAC;AACjC,iBAAC,CAAC,CAAC;AAEL,gBAAA,OAAO,MAAM,CAAC;AAChB,aAAC,EACD,CAAC,IAAI,KAAI;gBACP,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,UAAU,EAAE,CAAC,QAAQ,CAACC,qBAAmB,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;gBAE9E,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,UAAU,EAAE,CAAC,QAAQ,CAACA,qBAAmB,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC,CAAC;AAE7F,gBAAA,OAAO,IAAI,CAAC,UAAU,EAAE,CAAC,KAAK,CAACC,kBAAgB,CAAC,CAAC,MAAM,EAAE,CAAC;AAC5D,aAAC,CACF;AACA,iBAAA,EAAE,CAAC,WAAW,EAAE,CAAC,KAAK,KAAI;AACzB,gBAAAxC,MAAS,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;AAC1D,aAAC,CAAC;AACD,iBAAA,EAAE,CAAC,UAAU,EAAE,CAAC,KAAK,KAAI;AACxB,gBAAAA,MAAS,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;AAC3D,aAAC,CAAC;iBACD,EAAE,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,IAAI,KAAI;gBAC3B,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,CAACA,MAAS,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;AACrG,aAAC,CAAC,CAAC;AACN,SAAA;;QAGD,IAAI,IAAI,CAAC,kBAAkB,EAAE;YAC3B,IAAI,CAAC,aAAa,EAAE,CAAC;AACtB,SAAA;AAED,QAAA,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC;KACjF;IAEO,aAAa,GAAA;QACnB,MAAM,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AAEhD,QAAA,MAAM,QAAQ,GAAG,OAAO,KAAK,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;AAEzC,QAAA,MAAM,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC;AAE3C,QAAA,IAAI,CAAC,UAAU;AACZ,aAAA,UAAU,EAAE;aACZ,QAAQ,CAAC,QAAQ,CAAC;aAClB,IAAI,CAACS,aAAgB,CAAC;AACtB,aAAA,IAAI,CAAC,WAAW,EAAE,MAAK;YACtB,IAAI,CAAC,GAAG,CAAC,CAAC;YACV,MAAM,CAAC,GAAG,CAAC,CAAC;YAEZ,IAAI,SAAS,KAAK,MAAM,EAAE;AACxB,gBAAA,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAChB,QAAW,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC;AACrE,aAAA;AAAM,iBAAA;gBACL,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;AACxD,aAAA;YAED,OAAO,CAAA,UAAA,EAAa,CAAC,GAAG,gBAAgB,GAAG,CAAC,CAAA,EAAA,EAAK,CAAC,CAAA,CAAA,CAAG,CAAC;AACxD,SAAC,CAAC;AACD,aAAA,UAAU,EAAE;aACZ,QAAQ,CAAC,GAAG,CAAC;AACb,aAAA,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;KACvB;;AAnQU,4BAAA,CAAA,IAAA,GAAA,EAAA,CAAA,kBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,4BAA4B,kBAUnB,UAAU,CAAC,MAAM,wBAAwB,CAAC,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;6GAVnD,4BAA4B,EAAA,QAAA,EAAA,gCAAA,EAAA,MAAA,EAAA,EAAA,WAAA,EAAA,aAAA,EAAA,kBAAA,EAAA,oBAAA,EAAA,EAAA,OAAA,EAAA,EAAA,iBAAA,EAAA,mBAAA,EAAA,EAAA,aAAA,EAAA,IAAA,EAAA,QAAA,EAAA,EAAA,EAAA,CAAA,CAAA;2FAA5B,4BAA4B,EAAA,UAAA,EAAA,CAAA;kBAHxC,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACT,oBAAA,QAAQ,EAAE,gCAAgC;AAC3C,iBAAA,CAAA;;0BAWc,MAAM;AAAC,oBAAA,IAAA,EAAA,CAAA,UAAU,CAAC,MAAM,wBAAwB,CAAC,CAAA;4CATxC,WAAW,EAAA,CAAA;sBAAhC,KAAK;uBAAC,aAAa,CAAA;gBAES,kBAAkB,EAAA,CAAA;sBAA9C,KAAK;uBAAC,oBAAoB,CAAA;gBAEjB,iBAAiB,EAAA,CAAA;sBAA1B,MAAM;;;ACjBT,MAAM2C,uBAAqB,GAAG,EAAE,CAAC;AACjC,MAAMC,mBAAiB,GAAG,CAAC,EAAE,CAAC;AAC9B,MAAMC,2BAAyB,GAAG,CAAC,EAAE,CAAC;AACtC,MAAMC,qBAAmB,GAAG,IAAI,CAAC;AACjC,MAAMC,kBAAgB,GAAG,GAAG,CAAC;MAKhB,kCAAkC,CAAA;AAU7C,IAAA,WAAA,CAA8E,SAAS,EAAA;QAAT,IAAS,CAAA,SAAA,GAAT,SAAS,CAAA;QAP1D,IAAkB,CAAA,kBAAA,GAAG,IAAI,CAAC;AAE7C,QAAA,IAAA,CAAA,iBAAiB,GAAsB,IAAI,YAAY,EAAE,CAAC;AAMlE,QAAA,SAAS,CAAC,SAAS,GAAGJ,uBAAqB,CAAC;KAC7C;IAED,QAAQ,GAAA;QACN,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC;AAEpF,QAAA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,gBAAgB;aACpC,MAAM,CAAC,MAAM,CAAC;AACd,aAAA,OAAO,CAAC,qBAAqB,EAAE,IAAI,CAAC;AACpC,aAAA,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;aAClB,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;aACpD,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;aACrC,IAAI,CAAC,WAAW,EAAE,CAAA,UAAA,EAAa,CAAC,CAAK,EAAA,EAAA,CAAC,CAAG,CAAA,CAAA,CAAC,CAAC;QAE9C,IAAI,CAAC,MAAM,EAAE,CAAC;KACf;AAED,IAAA,WAAW,CAAC,OAAsB,EAAA;AAChC,QAAA,IAAI,OAAO,IAAI,OAAO,CAAC,kBAAkB,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,WAAW,EAAE;AACpF,YAAA,IAAI,OAAO,CAAC,kBAAkB,CAAC,YAAY,EAAE;gBAC3C,IAAI,CAAC,aAAa,EAAE,CAAC;AACtB,aAAA;AAAM,iBAAA;AACL,gBAAA,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;AAC/D,aAAA;AACF,SAAA;QAED,IAAI,OAAO,CAAC,WAAW,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,WAAW,EAAE;YAC3D,IAAI,CAAC,MAAM,EAAE,CAAC;AACf,SAAA;KACF;IAEO,MAAM,GAAA;AACZ,QAAA,MAAM,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC;QACtC,MAAM,WAAW,GAAG,IAAI,CAAC,WAAW,EAAE,SAAS,EAAE,MAAM,GAAG,CAAC,CAAC;QAC5D,MAAM,UAAU,GAAG,IAAI,CAAC,WAAW,EAAE,QAAQ,EAAE,MAAM,GAAG,CAAC,CAAC;QAE1D,IAAI,YAAY,IAAI,WAAW,EAAE;YAC/B,MAAM,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;AAExD,YAAA,IAAI,CAAC,gBAAgB;iBAClB,SAAS,CAAC,YAAY,CAAC;AACvB,iBAAA,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC;AAChC,iBAAA,IAAI,CACH,CAAC,KAAK,KAAI;AACR,gBAAA,MAAM,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;gBAEtD,CAAC,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE,CAAC,KAAI;AAC3B,oBAAA,MAAM,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,SAAS,GAAG,CAAC,CAAC;oBAC3D,MAAM,CAAC,GAAGC,mBAAiB,CAAC;AAE5B,oBAAA,OAAO,CAAa,UAAA,EAAA,CAAC,CAAK,EAAA,EAAA,CAAC,GAAG,CAAC;AACjC,iBAAC,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;AAE9B,gBAAA,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC;AACf,qBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;AACZ,qBAAA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;AACb,qBAAA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;AACb,qBAAA,UAAU,EAAE;qBACZ,QAAQ,CAACE,qBAAmB,CAAC;qBAC7B,IAAI,CAAC9B,aAAgB,CAAC;AACtB,qBAAA,IAAI,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;AAEjB,gBAAA,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC;AACb,qBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;AACZ,qBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;AACZ,qBAAA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;AACb,qBAAA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;AACb,qBAAA,IAAI,CAAC,aAAa,EAAE,QAAQ,CAAC;AAC7B,qBAAA,IAAI,CAAC,CAAC,CAAC,KAAI;AACV,oBAAA,OAAO,CAAC,CAAC,IAAI,IAAI,GAAG,CAAC;AACvB,iBAAC,CAAC;AACD,qBAAA,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC;AAC7B,qBAAA,UAAU,EAAE;qBACZ,QAAQ,CAAC8B,qBAAmB,CAAC;qBAC7B,IAAI,CAAC9B,aAAgB,CAAC;AACtB,qBAAA,IAAI,CAAC,OAAO,EAAE,iBAAiB,CAAC,CAAC;AAEpC,gBAAA,OAAO,CAAC,CAAC;AACX,aAAC,EACD,CAAC,MAAM,KAAI;gBACT,MAAM;AACH,qBAAA,UAAU,EAAE;qBACZ,QAAQ,CAAC8B,qBAAmB,CAAC;qBAC7B,IAAI,CAAC9B,aAAgB,CAAC;AACtB,qBAAA,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,KAAI;AACvB,oBAAA,MAAM,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,SAAS,GAAG,CAAC,CAAC;oBAC3D,MAAM,CAAC,GAAG4B,mBAAiB,CAAC;AAE5B,oBAAA,OAAO,CAAa,UAAA,EAAA,CAAC,CAAK,EAAA,EAAA,CAAC,GAAG,CAAC;AACjC,iBAAC,CAAC,CAAC;AAEL,gBAAA,OAAO,MAAM,CAAC;AAChB,aAAC,EACD,CAAC,IAAI,KAAI;gBACP,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,UAAU,EAAE,CAAC,QAAQ,CAACE,qBAAmB,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;gBAE9E,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,UAAU,EAAE,CAAC,QAAQ,CAACA,qBAAmB,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC,CAAC;AAE7F,gBAAA,OAAO,IAAI,CAAC,UAAU,EAAE,CAAC,KAAK,CAACC,kBAAgB,CAAC,CAAC,MAAM,EAAE,CAAC;AAC5D,aAAC,CACF;iBACA,EAAE,CAAC,WAAW,EAAE,CAAC,KAAK,EAAE,IAAI,KAAI;AAC/B,gBAAAxC,MAAS,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;AAC1D,aAAC,CAAC;iBACD,EAAE,CAAC,UAAU,EAAE,CAAC,KAAK,EAAE,IAAI,KAAI;AAC9B,gBAAAA,MAAS,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;AAC3D,aAAC,CAAC;iBACD,EAAE,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,IAAI,KAAI;;gBAE3B,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,CAACA,MAAS,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;AACrG,aAAC,CAAC,CAAC;AACN,SAAA;QAED,IAAI,YAAY,IAAI,UAAU,EAAE;YAC9B,MAAM,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;AAExD,YAAA,IAAI,CAAC,gBAAgB;iBAClB,SAAS,CAAC,WAAW,CAAC;AACtB,iBAAA,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC;AAC/B,iBAAA,IAAI,CACH,CAAC,KAAK,KAAI;AACR,gBAAA,MAAM,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;gBAErD,CAAC,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,KAAI;AACxB,oBAAA,MAAM,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,SAAS,GAAG,CAAC,CAAC;oBAC3D,IAAI,CAAC,GAAGqC,mBAAiB,CAAC;oBAC1B,MAAM,WAAW,GAAG,IAAI,CAAC,WAAW,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC,QAAQ,KAAK,QAAQ,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC;AAE5F,oBAAA,IAAI,WAAW,EAAE;wBACf,CAAC,GAAGC,2BAAyB,CAAC;AAC/B,qBAAA;AAED,oBAAA,OAAO,CAAa,UAAA,EAAA,CAAC,CAAK,EAAA,EAAA,CAAC,GAAG,CAAC;AACjC,iBAAC,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;AAE9B,gBAAA,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC;AACf,qBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;AACZ,qBAAA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;AACb,qBAAA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;AACb,qBAAA,UAAU,EAAE;qBACZ,QAAQ,CAACC,qBAAmB,CAAC;qBAC7B,IAAI,CAAC9B,aAAgB,CAAC;AACtB,qBAAA,IAAI,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;AAEjB,gBAAA,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC;AACb,qBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;AACZ,qBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;AACZ,qBAAA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;AACb,qBAAA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;AACb,qBAAA,IAAI,CAAC,aAAa,EAAE,QAAQ,CAAC;qBAC7B,IAAI,CAAC,GAAG,CAAC;AACT,qBAAA,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC;AAC7B,qBAAA,UAAU,EAAE;qBACZ,QAAQ,CAAC8B,qBAAmB,CAAC;qBAC7B,IAAI,CAAC9B,aAAgB,CAAC;AACtB,qBAAA,IAAI,CAAC,OAAO,EAAE,iBAAiB,CAAC,CAAC;AAEpC,gBAAA,OAAO,CAAC,CAAC;AACX,aAAC,EACD,CAAC,MAAM,KAAI;gBACT,MAAM;AACH,qBAAA,UAAU,EAAE;qBACZ,QAAQ,CAAC8B,qBAAmB,CAAC;qBAC7B,IAAI,CAAC9B,aAAgB,CAAC;AACtB,qBAAA,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,KAAI;AACvB,oBAAA,MAAM,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,SAAS,GAAG,CAAC,CAAC;oBAC3D,IAAI,CAAC,GAAG4B,mBAAiB,CAAC;oBAC1B,MAAM,WAAW,GAAG,IAAI,CAAC,WAAW,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC,QAAQ,KAAK,QAAQ,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC;AAE5F,oBAAA,IAAI,WAAW,EAAE;wBACf,CAAC,GAAGC,2BAAyB,CAAC;AAC/B,qBAAA;AAED,oBAAA,OAAO,CAAa,UAAA,EAAA,CAAC,CAAK,EAAA,EAAA,CAAC,GAAG,CAAC;AACjC,iBAAC,CAAC,CAAC;AAEL,gBAAA,OAAO,MAAM,CAAC;AAChB,aAAC,EACD,CAAC,IAAI,KAAI;gBACP,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,UAAU,EAAE,CAAC,QAAQ,CAACC,qBAAmB,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;gBAE9E,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,UAAU,EAAE,CAAC,QAAQ,CAACA,qBAAmB,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC,CAAC;AAE7F,gBAAA,OAAO,IAAI,CAAC,UAAU,EAAE,CAAC,KAAK,CAACC,kBAAgB,CAAC,CAAC,MAAM,EAAE,CAAC;AAC5D,aAAC,CACF;AACA,iBAAA,EAAE,CAAC,WAAW,EAAE,CAAC,KAAK,KAAI;AACzB,gBAAAxC,MAAS,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;AAC1D,aAAC,CAAC;AACD,iBAAA,EAAE,CAAC,UAAU,EAAE,CAAC,KAAK,KAAI;AACxB,gBAAAA,MAAS,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;AAC3D,aAAC,CAAC;iBACD,EAAE,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,IAAI,KAAI;gBAC3B,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,CAACA,MAAS,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;AACrG,aAAC,CAAC,CAAC;AACN,SAAA;;QAGD,IAAI,IAAI,CAAC,kBAAkB,EAAE;YAC3B,IAAI,CAAC,aAAa,EAAE,CAAC;AACtB,SAAA;AAED,QAAA,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC;KAC3E;IAEO,aAAa,GAAA;QACnB,MAAM,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AAEhD,QAAA,MAAM,QAAQ,GAAG,OAAO,KAAK,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;AAEzC,QAAA,IAAI,CAAC,UAAU;AACZ,aAAA,UAAU,EAAE;aACZ,QAAQ,CAAC,QAAQ,CAAC;aAClB,IAAI,CAACS,aAAgB,CAAC;AACtB,aAAA,IAAI,CAAC,WAAW,EAAE,MAAK;AACtB,YAAA,MAAM,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;YAC7D,MAAM,CAAC,GAAG,CAAC,CAAC;AAEZ,YAAA,OAAO,CAAa,UAAA,EAAA,CAAC,CAAK,EAAA,EAAA,CAAC,GAAG,CAAC;AACjC,SAAC,CAAC;AACD,aAAA,UAAU,EAAE;aACZ,QAAQ,CAAC,GAAG,CAAC;AACb,aAAA,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;KACvB;;AA1OU,kCAAA,CAAA,IAAA,GAAA,EAAA,CAAA,kBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,kCAAkC,kBAUzB,UAAU,CAAC,MAAM,8BAA8B,CAAC,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;mHAVzD,kCAAkC,EAAA,QAAA,EAAA,uCAAA,EAAA,MAAA,EAAA,EAAA,WAAA,EAAA,aAAA,EAAA,kBAAA,EAAA,oBAAA,EAAA,EAAA,OAAA,EAAA,EAAA,iBAAA,EAAA,mBAAA,EAAA,EAAA,aAAA,EAAA,IAAA,EAAA,QAAA,EAAA,EAAA,EAAA,CAAA,CAAA;2FAAlC,kCAAkC,EAAA,UAAA,EAAA,CAAA;kBAH9C,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACT,oBAAA,QAAQ,EAAE,uCAAuC;AAClD,iBAAA,CAAA;;0BAWc,MAAM;AAAC,oBAAA,IAAA,EAAA,CAAA,UAAU,CAAC,MAAM,8BAA8B,CAAC,CAAA;4CAT9C,WAAW,EAAA,CAAA;sBAAhC,KAAK;uBAAC,aAAa,CAAA;gBAES,kBAAkB,EAAA,CAAA;sBAA9C,KAAK;uBAAC,oBAAoB,CAAA;gBAEjB,iBAAiB,EAAA,CAAA;sBAA1B,MAAM;;;ACdT,MAAM,qBAAqB,GAAG,EAAE,CAAC;AACjC,MAAM,iBAAiB,GAAG,CAAC,EAAE,CAAC;AAC9B,MAAM,yBAAyB,GAAG,CAAC,EAAE,CAAC;AACtC,MAAM,mBAAmB,GAAG,IAAI,CAAC;AACjC,MAAM,gBAAgB,GAAG,GAAG,CAAC;MAKhB,2BAA2B,CAAA;AAUtC,IAAA,WAAA,CAAuE,SAAS,EAAA;QAAT,IAAS,CAAA,SAAA,GAAT,SAAS,CAAA;QAPnD,IAAkB,CAAA,kBAAA,GAAG,IAAI,CAAC;AAE1B,QAAA,IAAA,CAAA,iBAAiB,GAAsB,IAAI,YAAY,EAAE,CAAC;AAMrF,QAAA,SAAS,CAAC,SAAS,GAAG,qBAAqB,CAAC;KAC7C;IAED,QAAQ,GAAA;QACN,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC;AAEpF,QAAA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,gBAAgB;aACpC,MAAM,CAAC,MAAM,CAAC;AACd,aAAA,OAAO,CAAC,qBAAqB,EAAE,IAAI,CAAC;AACpC,aAAA,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;aAClB,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;aACpD,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;aACrC,IAAI,CAAC,WAAW,EAAE,CAAA,UAAA,EAAa,CAAC,CAAK,EAAA,EAAA,CAAC,CAAG,CAAA,CAAA,CAAC,CAAC;QAE9C,IAAI,CAAC,MAAM,EAAE,CAAC;KACf;AAED,IAAA,WAAW,CAAC,OAAsB,EAAA;AAChC,QAAA,IAAI,OAAO,IAAI,OAAO,CAAC,kBAAkB,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,WAAW,EAAE;AACpF,YAAA,IAAI,OAAO,CAAC,kBAAkB,CAAC,YAAY,EAAE;gBAC3C,IAAI,CAAC,aAAa,EAAE,CAAC;AACtB,aAAA;AAAM,iBAAA;AACL,gBAAA,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;AAC/D,aAAA;AACF,SAAA;KACF;IAEO,MAAM,GAAA;AACZ,QAAA,MAAM,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC;QACtC,MAAM,WAAW,GAAG,IAAI,CAAC,WAAW,EAAE,SAAS,EAAE,MAAM,GAAG,CAAC,CAAC;QAC5D,MAAM,UAAU,GAAG,IAAI,CAAC,WAAW,EAAE,QAAQ,EAAE,MAAM,GAAG,CAAC,CAAC;QAC1D,MAAM,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;QAExD,IAAI,YAAY,IAAI,WAAW,EAAE;AAC/B,YAAA,IAAI,CAAC,gBAAgB;iBAClB,SAAS,CAAC,YAAY,CAAC;AACvB,iBAAA,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC;AAChC,iBAAA,IAAI,CACH,CAAC,KAAK,KAAI;AACR,gBAAA,MAAM,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;gBAEtD,CAAC,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE,CAAC,KAAI;AAC3B,oBAAA,MAAM,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,SAAS,GAAG,CAAC,CAAC;oBAC3D,MAAM,CAAC,GAAG,iBAAiB,CAAC;AAE5B,oBAAA,OAAO,CAAa,UAAA,EAAA,CAAC,CAAK,EAAA,EAAA,CAAC,GAAG,CAAC;AACjC,iBAAC,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;AAE9B,gBAAA,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC;AACf,qBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;AACZ,qBAAA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;AACb,qBAAA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;AACb,qBAAA,UAAU,EAAE;qBACZ,QAAQ,CAAC,mBAAmB,CAAC;qBAC7B,IAAI,CAACA,aAAgB,CAAC;AACtB,qBAAA,IAAI,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;AAEjB,gBAAA,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC;AACb,qBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;AACZ,qBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;AACZ,qBAAA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;AACb,qBAAA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;AACb,qBAAA,IAAI,CAAC,aAAa,EAAE,QAAQ,CAAC;AAC7B,qBAAA,IAAI,CAAC,CAAC,CAAC,KAAI;AACV,oBAAA,OAAO,CAAC,CAAC,IAAI,IAAI,GAAG,CAAC;AACvB,iBAAC,CAAC;AACD,qBAAA,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC;AAC7B,qBAAA,UAAU,EAAE;qBACZ,QAAQ,CAAC,mBAAmB,CAAC;qBAC7B,IAAI,CAACA,aAAgB,CAAC;AACtB,qBAAA,IAAI,CAAC,OAAO,EAAE,iBAAiB,CAAC,CAAC;AAEpC,gBAAA,OAAO,CAAC,CAAC;AACX,aAAC,EACD,CAAC,MAAM,KAAI;gBACT,MAAM;AACH,qBAAA,UAAU,EAAE;qBACZ,QAAQ,CAAC,mBAAmB,CAAC;qBAC7B,IAAI,CAACA,aAAgB,CAAC;AACtB,qBAAA,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,KAAI;AACvB,oBAAA,MAAM,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,SAAS,GAAG,CAAC,CAAC;oBAC3D,MAAM,CAAC,GAAG,iBAAiB,CAAC;AAE5B,oBAAA,OAAO,CAAa,UAAA,EAAA,CAAC,CAAK,EAAA,EAAA,CAAC,GAAG,CAAC;AACjC,iBAAC,CAAC,CAAC;AAEL,gBAAA,OAAO,MAAM,CAAC;AAChB,aAAC,EACD,CAAC,IAAI,KAAI;gBACP,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,UAAU,EAAE,CAAC,QAAQ,CAAC,mBAAmB,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;gBAE9E,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,UAAU,EAAE,CAAC,QAAQ,CAAC,mBAAmB,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC,CAAC;AAE7F,gBAAA,OAAO,IAAI,CAAC,UAAU,EAAE,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC,MAAM,EAAE,CAAC;AAC5D,aAAC,CACF;iBACA,EAAE,CAAC,WAAW,EAAE,CAAC,KAAK,EAAE,IAAI,KAAI;AAC/B,gBAAAT,MAAS,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;AAC1D,aAAC,CAAC;iBACD,EAAE,CAAC,UAAU,EAAE,CAAC,KAAK,EAAE,IAAI,KAAI;AAC9B,gBAAAA,MAAS,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;AAC3D,aAAC,CAAC;iBACD,EAAE,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,IAAI,KAAI;;gBAE3B,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,CAACA,MAAS,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;AACrG,aAAC,CAAC,CAAC;AACN,SAAA;QAED,IAAI,YAAY,IAAI,UAAU,EAAE;AAC9B,YAAA,IAAI,CAAC,gBAAgB;iBAClB,SAAS,CAAC,WAAW,CAAC;AACtB,iBAAA,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC;AAC/B,iBAAA,IAAI,CACH,CAAC,KAAK,KAAI;AACR,gBAAA,MAAM,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;gBAErD,CAAC,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,KAAI;AACxB,oBAAA,MAAM,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,SAAS,GAAG,CAAC,CAAC;oBAC3D,IAAI,CAAC,GAAG,iBAAiB,CAAC;oBAC1B,MAAM,WAAW,GAAG,IAAI,CAAC,WAAW,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC,QAAQ,KAAK,QAAQ,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC;AAE5F,oBAAA,IAAI,WAAW,EAAE;wBACf,CAAC,GAAG,yBAAyB,CAAC;AAC/B,qBAAA;AAED,oBAAA,OAAO,CAAa,UAAA,EAAA,CAAC,CAAK,EAAA,EAAA,CAAC,GAAG,CAAC;AACjC,iBAAC,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;AAE9B,gBAAA,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC;AACf,qBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;AACZ,qBAAA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;AACb,qBAAA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;AACb,qBAAA,UAAU,EAAE;qBACZ,QAAQ,CAAC,mBAAmB,CAAC;qBAC7B,IAAI,CAACS,aAAgB,CAAC;AACtB,qBAAA,IAAI,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;AAEjB,gBAAA,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC;AACb,qBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;AACZ,qBAAA,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;AACZ,qBAAA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;AACb,qBAAA,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;AACb,qBAAA,IAAI,CAAC,aAAa,EAAE,QAAQ,CAAC;qBAC7B,IAAI,CAAC,GAAG,CAAC;AACT,qBAAA,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC;AAC7B,qBAAA,UAAU,EAAE;qBACZ,QAAQ,CAAC,mBAAmB,CAAC;qBAC7B,IAAI,CAACA,aAAgB,CAAC;AACtB,qBAAA,IAAI,CAAC,OAAO,EAAE,iBAAiB,CAAC,CAAC;AAEpC,gBAAA,OAAO,CAAC,CAAC;AACX,aAAC,EACD,CAAC,MAAM,KAAI;gBACT,MAAM;AACH,qBAAA,UAAU,EAAE;qBACZ,QAAQ,CAAC,mBAAmB,CAAC;qBAC7B,IAAI,CAACA,aAAgB,CAAC;AACtB,qBAAA,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,KAAI;AACvB,oBAAA,MAAM,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,SAAS,GAAG,CAAC,CAAC;oBAC3D,IAAI,CAAC,GAAG,iBAAiB,CAAC;oBAC1B,MAAM,WAAW,GAAG,IAAI,CAAC,WAAW,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC,QAAQ,KAAK,QAAQ,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC;AAE5F,oBAAA,IAAI,WAAW,EAAE;wBACf,CAAC,GAAG,yBAAyB,CAAC;AAC/B,qBAAA;AAED,oBAAA,OAAO,CAAa,UAAA,EAAA,CAAC,CAAK,EAAA,EAAA,CAAC,GAAG,CAAC;AACjC,iBAAC,CAAC,CAAC;AAEL,gBAAA,OAAO,MAAM,CAAC;AAChB,aAAC,EACD,CAAC,IAAI,KAAI;gBACP,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,UAAU,EAAE,CAAC,QAAQ,CAAC,mBAAmB,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;gBAE9E,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,UAAU,EAAE,CAAC,QAAQ,CAAC,mBAAmB,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC,CAAC;AAE7F,gBAAA,OAAO,IAAI,CAAC,UAAU,EAAE,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC,MAAM,EAAE,CAAC;AAC5D,aAAC,CACF;iBACA,EAAE,CAAC,WAAW,EAAE,CAAC,KAAK,EAAE,IAAI,KAAI;AAC/B,gBAAAT,MAAS,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;AAC1D,aAAC,CAAC;iBACD,EAAE,CAAC,UAAU,EAAE,CAAC,KAAK,EAAE,IAAI,KAAI;AAC9B,gBAAAA,MAAS,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;AAC3D,aAAC,CAAC;iBACD,EAAE,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,IAAI,KAAI;gBAC3B,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,CAACA,MAAS,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;AACrG,aAAC,CAAC,CAAC;AACN,SAAA;;QAGD,IAAI,IAAI,CAAC,kBAAkB,EAAE;YAC3B,IAAI,CAAC,aAAa,EAAE,CAAC;AACtB,SAAA;AAED,QAAA,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC;KAC3E;IAEO,aAAa,GAAA;QACnB,MAAM,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AAEhD,QAAA,MAAM,QAAQ,GAAG,OAAO,KAAK,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;AAEzC,QAAA,IAAI,CAAC,UAAU;AACZ,aAAA,UAAU,EAAE;aACZ,QAAQ,CAAC,QAAQ,CAAC;aAClB,IAAI,CAACS,aAAgB,CAAC;AACtB,aAAA,IAAI,CAAC,WAAW,EAAE,MAAK;AACtB,YAAA,MAAM,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;YAC7D,MAAM,CAAC,GAAG,CAAC,CAAC;AAEZ,YAAA,OAAO,CAAa,UAAA,EAAA,CAAC,CAAK,EAAA,EAAA,CAAC,GAAG,CAAC;AACjC,SAAC,CAAC;AACD,aAAA,UAAU,EAAE;aACZ,QAAQ,CAAC,GAAG,CAAC;AACb,aAAA,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;KACvB;;AAnOU,2BAAA,CAAA,IAAA,GAAA,EAAA,CAAA,kBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,2BAA2B,kBAUlB,UAAU,CAAC,MAAM,uBAAuB,CAAC,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;4GAVlD,2BAA2B,EAAA,QAAA,EAAA,+BAAA,EAAA,MAAA,EAAA,EAAA,WAAA,EAAA,aAAA,EAAA,kBAAA,EAAA,oBAAA,EAAA,EAAA,OAAA,EAAA,EAAA,iBAAA,EAAA,mBAAA,EAAA,EAAA,aAAA,EAAA,IAAA,EAAA,QAAA,EAAA,EAAA,EAAA,CAAA,CAAA;2FAA3B,2BAA2B,EAAA,UAAA,EAAA,CAAA;kBAHvC,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACT,oBAAA,QAAQ,EAAE,+BAA+B;AAC1C,iBAAA,CAAA;;0BAWc,MAAM;AAAC,oBAAA,IAAA,EAAA,CAAA,UAAU,CAAC,MAAM,uBAAuB,CAAC,CAAA;4CATvC,WAAW,EAAA,CAAA;sBAAhC,KAAK;uBAAC,aAAa,CAAA;gBAES,kBAAkB,EAAA,CAAA;sBAA9C,KAAK;uBAAC,oBAAoB,CAAA;gBAEE,iBAAiB,EAAA,CAAA;sBAA7C,MAAM;uBAAC,mBAAmB,CAAA;;;MCsChB,iBAAiB,CAAA;;8GAAjB,iBAAiB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,QAAA,EAAA,CAAA,CAAA;AAAjB,iBAAA,CAAA,IAAA,GAAA,EAAA,CAAA,mBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,iBAAiB,iBAzC1B,uBAAuB;QACvB,uBAAuB;QACvB,wBAAwB;QACxB,yBAAyB;QACzB,6BAA6B;QAC7B,8BAA8B;QAC9B,+BAA+B;QAC/B,6BAA6B;QAC7B,mCAAmC;QACnC,2BAA2B;QAC3B,iCAAiC;QACjC,8BAA8B;QAC9B,uCAAuC;QACvC,+BAA+B;QAC/B,kCAAkC;QAClC,4BAA4B;QAC5B,kCAAkC;AAClC,QAAA,2BAA2B,CAEnB,EAAA,OAAA,EAAA,CAAA,YAAY,EAAE,gBAAgB,aAEtC,uBAAuB;QACvB,uBAAuB;QACvB,wBAAwB;QACxB,yBAAyB;QACzB,6BAA6B;QAC7B,8BAA8B;QAC9B,+BAA+B;QAC/B,6BAA6B;QAC7B,mCAAmC;QACnC,2BAA2B;QAC3B,iCAAiC;QACjC,8BAA8B;QAC9B,uCAAuC;QACvC,+BAA+B;QAC/B,kCAAkC;QAClC,4BAA4B;QAC5B,kCAAkC;QAClC,2BAA2B,CAAA,EAAA,CAAA,CAAA;+GAGlB,iBAAiB,EAAA,OAAA,EAAA,CAtBlB,YAAY,EAAE,gBAAgB,CAAA,EAAA,CAAA,CAAA;2FAsB7B,iBAAiB,EAAA,UAAA,EAAA,CAAA;kBA3C7B,QAAQ;AAAC,YAAA,IAAA,EAAA,CAAA;AACR,oBAAA,YAAY,EAAE;wBACZ,uBAAuB;wBACvB,uBAAuB;wBACvB,wBAAwB;wBACxB,yBAAyB;wBACzB,6BAA6B;wBAC7B,8BAA8B;wBAC9B,+BAA+B;wBAC/B,6BAA6B;wBAC7B,mCAAmC;wBACnC,2BAA2B;wBAC3B,iCAAiC;wBACjC,8BAA8B;wBAC9B,uCAAuC;wBACvC,+BAA+B;wBAC/B,kCAAkC;wBAClC,4BAA4B;wBAC5B,kCAAkC;wBAClC,2BAA2B;AAC5B,qBAAA;AACD,oBAAA,OAAO,EAAE,CAAC,YAAY,EAAE,gBAAgB,CAAC;AACzC,oBAAA,OAAO,EAAE;wBACP,uBAAuB;wBACvB,uBAAuB;wBACvB,wBAAwB;wBACxB,yBAAyB;wBACzB,6BAA6B;wBAC7B,8BAA8B;wBAC9B,+BAA+B;wBAC/B,6BAA6B;wBAC7B,mCAAmC;wBACnC,2BAA2B;wBAC3B,iCAAiC;wBACjC,8BAA8B;wBAC9B,uCAAuC;wBACvC,+BAA+B;wBAC/B,kCAAkC;wBAClC,4BAA4B;wBAC5B,kCAAkC;wBAClC,2BAA2B;AAC5B,qBAAA;AACF,iBAAA,CAAA;;;ACpED;;ACAA;;AAEG;;;;"}