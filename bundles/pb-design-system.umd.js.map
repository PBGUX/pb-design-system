{"version":3,"file":"pb-design-system.umd.js","sources":["../../../node_modules/tslib/tslib.es6.js","ng://pb-design-system/lib/dataviz/dataviz.service.ts","ng://pb-design-system/lib/dataviz/dataviz-pie.component.ts","ng://pb-design-system/lib/dataviz/dataviz-bar.component.ts","ng://pb-design-system/lib/dataviz/dataviz-line.component.ts","ng://pb-design-system/lib/dataviz/dataviz-gauge.component.ts","ng://pb-design-system/lib/dataviz/dataviz-sparkline.component.ts","ng://pb-design-system/lib/dataviz/dataviz-bar-stacked.component.ts","ng://pb-design-system/lib/dataviz/dataviz-metric-indicator.component.ts","ng://pb-design-system/lib/dataviz/dataviz-metric-block.component.ts","ng://pb-design-system/lib/dataviz/dataviz-bubble-map.component.ts","ng://pb-design-system/lib/dataviz/dataviz-heatmap.component.ts","ng://pb-design-system/lib/dataviz/dataviz-choropleth-map.component.ts","ng://pb-design-system/lib/dataviz/dataviz-bar-grouped.component.ts","ng://pb-design-system/lib/dataviz/dataviz-bar-single-horizontal.component.ts","ng://pb-design-system/lib/dataviz/dataviz.module.ts","ng://pb-design-system/lib/dataviz/dataviz.interfaces.ts","ng://pb-design-system/lib/header-shadow/header-shadow.directive.ts","ng://pb-design-system/lib/header-shadow/header-shadow.module.ts","ng://pb-design-system/lib/daterange-popover/daterange-popover.service.ts","ng://pb-design-system/lib/daterange-popover/daterange-popover.component.ts","ng://pb-design-system/lib/daterange-popover/daterange-popover.module.ts","ng://pb-design-system/lib/daterange-popover/daterange-popover.interfaces.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PbdsDatavizService {\n  private colors = {\n    classic: {\n      full: [\n        '#E23DA8',\n        '#1BB9FF',\n        '#FF8B00',\n        '#A319B1',\n        '#00B140',\n        '#0384D4',\n        '#314183',\n        '#EDB700',\n        '#8b98c8',\n        '#ccb8ce',\n        '#e6c49c',\n        '#9b9b9b'\n      ],\n      mono: ['#001D56', '#003296', '#4B74C5', '#89A1D0', '#A3BCEE', '#C9D7F3'] // blue\n    },\n    twilight: {\n      full: [\n        '#A319B1',\n        '#00B140',\n        '#FF8B00',\n        '#1BB9FF',\n        '#E23DA8',\n        '#0384D4',\n        '#314183',\n        '#EDB700',\n        '#8b98c8',\n        '#ccb8ce',\n        '#e6c49c',\n        '#9b9b9b'\n      ],\n      mono: ['#05395C', '#0A5B92', '#0072B8', '#5DA9DC', '#A5D4F3', '#D1EDFF'] // light blue\n    },\n    ocean: {\n      full: [\n        '#0384D4',\n        '#E23DA8',\n        '#1BB9FF',\n        '#314183',\n        '#FFC500',\n        '#A319B1',\n        '#FF8B00',\n        '#14767D',\n        '#8b98c8',\n        '#e6c49c',\n        '#ccb8ce',\n        '#9b9b9b'\n      ],\n      mono: ['#394B4D', '#3A6B6E', '#14767D', '#99BFC2', '#C9E6E8', '#DEECED'] // blue-green\n    },\n    sunset: {\n      full: [\n        '#CE2060',\n        '#FF8B00',\n        '#1BB9FF',\n        '#FFC500',\n        '#00B140',\n        '#50248F',\n        '#0384d4',\n        '#CCB8CE',\n        '#314183',\n        '#E6C49C',\n        '#8b98c8',\n        '#9b9b9b'\n      ],\n      mono: ['#31254A', '#50248F', '#7945C4', '#9A79E2', '#C4A8FF', '#D9C7FF'] // purple\n    }\n  };\n\n  constructor() {}\n\n  getColors = (mono = false, theme = 'classic') => {\n    return mono ? this.colors[theme].mono : this.colors[theme].full;\n  };\n\n  createGradientDefs = (svg, mono = false, theme = 'classic', vertical = true) => {\n    const colors = mono ? [this.colors[theme].mono[2]] : this.colors[theme].full;\n\n    for (let i = 0; i < colors.length; i++) {\n      const color = mono ? this.colors[theme].mono[2] : this.colors[theme].full[i];\n      let gradient;\n\n      if (vertical) {\n        gradient = svg\n          .append('defs')\n          .append('linearGradient')\n          .attr('id', `gradient-${color.replace('#', '')}`)\n          .attr('x1', '0')\n          .attr('y1', '0')\n          .attr('x2', '0')\n          .attr('y2', '1')\n          .attr('spreadMethod', 'pad');\n\n        gradient\n          .append('stop')\n          .attr('offset', '0%')\n          .attr('stop-color', color)\n          .attr('stop-opacity', '1'); // top of bar will be full opacity\n\n        gradient\n          .append('stop')\n          .attr('offset', '100%')\n          .attr('stop-color', color)\n          .attr('stop-opacity', '.3'); // bottom of bar will be .3 opacity\n      } else {\n        gradient = svg\n          .append('defs')\n          .append('linearGradient')\n          .attr('id', `gradient-horizontal-${color.replace('#', '')}`)\n          .attr('x1', '1')\n          .attr('y1', '0')\n          .attr('x2', '0')\n          .attr('y2', '0')\n          .attr('spreadMethod', 'pad');\n\n        gradient\n          .append('stop')\n          .attr('offset', '0%')\n          .attr('stop-color', color)\n          .attr('stop-opacity', '1'); // top of bar will be full opacity\n\n        gradient\n          .append('stop')\n          .attr('offset', '100%')\n          .attr('stop-color', color)\n          .attr('stop-opacity', '.3'); // bottom of bar will be .3 opacity\n      }\n    }\n\n    return colors;\n  };\n\n  createGlowFilter = svg => {\n    // add a new definition\n    const glow = svg\n      .append('defs')\n      .append('filter')\n      .attr('id', 'glow')\n      .attr('width', '200%')\n      .attr('height', '200%');\n\n    glow\n      .append('feGaussianBlur')\n      .attr('in', 'SourceGraphic')\n      .attr('stdDeviation', 4);\n\n    // build two dropshadows with different intensities\n    const feOffsets = [\n      {\n        dy: 2,\n        slope: 0.2\n      },\n      {\n        dy: 5,\n        slope: 0.05\n      }\n    ];\n\n    for (let i = 0; i < feOffsets.length; i++) {\n      glow\n        .append('feOffset')\n        .attr('result', 'offsetBlur' + i)\n        .attr('dx', 0)\n        .attr('dy', feOffsets[i].dy);\n    }\n\n    for (let y = 0; y < feOffsets.length; y++) {\n      glow\n        .append('feComponentTransfer')\n        .attr('result', 'coloredBlur' + y)\n        .attr('in', 'offsetBlur' + y)\n        .append('feFuncA')\n        .attr('type', 'linear')\n        .attr('slope', feOffsets[y].slope);\n    }\n\n    const merge = glow.append('feMerge');\n\n    merge.append('feMergeNode').attr('in', 'SourceGraphic');\n\n    for (let x = 0; x < feOffsets.length; x++) {\n      merge.append('feMergeNode').attr('in', 'coloredBlur' + x);\n    }\n  };\n}\n","import {\n  Component,\n  OnInit,\n  Input,\n  ElementRef,\n  HostBinding,\n  OnChanges,\n  SimpleChanges,\n  Output,\n  EventEmitter,\n  ChangeDetectionStrategy,\n  OnDestroy\n} from '@angular/core';\n\nimport {\n  select as d3_select,\n  scaleOrdinal as d3_scaleOrdinal,\n  pie as d3_pie,\n  arc as d3_arc,\n  interpolate as d3_interpolate,\n  mouse as d3_mouse,\n  format as d3_format,\n  event as d3_event,\n  timeFormat as d3_timeFormat,\n  isoParse as d3_isoParse\n} from 'd3';\n\nimport { PbdsDatavizService } from './dataviz.service';\nimport { PbdsDatavizPie } from './dataviz.interfaces';\n\n@Component({\n  selector: 'pbds-dataviz-pie',\n  template: ``,\n  styleUrls: [],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class PbdsDatavizPieComponent implements OnInit, OnChanges, OnDestroy {\n  @HostBinding('class.pbds-chart')\n  chartClass = true;\n\n  @HostBinding('class.pbds-chart-pie')\n  pieClass = true;\n\n  @Input()\n  data: Array<PbdsDatavizPie>;\n\n  @Input()\n  width = 300;\n\n  @Input()\n  type: 'pie' | 'donut' = 'pie';\n\n  @Input()\n  monochrome = false;\n\n  @Input()\n  legendLabelFormatType: 'time' = null;\n\n  @Input()\n  legendLabelFormatString = '';\n\n  @Input()\n  legendValueFormatString = '';\n\n  @Input()\n  tooltipLabelFormatType: 'time' = null;\n\n  @Input()\n  tooltipLabelFormatString = '';\n\n  @Input()\n  tooltipValueFormatString = '';\n\n  @Input()\n  theme;\n\n  @Output()\n  hovered: EventEmitter<object> = new EventEmitter<object>();\n\n  @Output()\n  clicked: EventEmitter<object> = new EventEmitter<object>();\n\n  private currentData = [];\n  private height;\n  private chart;\n  private margin;\n  private colors;\n  private colorRange;\n  private arc;\n  private arcZoom;\n  private svg;\n  private pie;\n  private legend;\n  private legendLabelFormat;\n  private legendValueFormat;\n  private innerRadius;\n  private anglePad;\n  private outerRadius;\n  private tooltip;\n  private tooltipLabelFormat;\n  private tooltipValueFormat;\n\n  constructor(private _dataviz: PbdsDatavizService, private _element: ElementRef) {}\n\n  ngOnInit() {\n    this.margin = { top: 10, right: 10, bottom: 10, left: 10 };\n    this.width = this.width - this.margin.left - this.margin.right;\n    this.height = this.width - this.margin.top - this.margin.bottom;\n    this.colors = this._dataviz.getColors(this.monochrome, this.theme);\n    this.innerRadius = Math.min(this.width, this.height) / 2.5;\n    this.outerRadius = Math.min(this.width, this.height) / 2;\n    this.arcZoom = 10;\n    this.anglePad = 0.02;\n    this.legendValueFormat = d3_format(this.legendValueFormatString);\n    this.tooltipValueFormat = d3_format(this.tooltipValueFormatString);\n\n    switch (this.legendLabelFormatType) {\n      case 'time':\n        this.legendLabelFormat = d3_timeFormat(this.legendLabelFormatString);\n        break;\n      default:\n        this.legendLabelFormat = null;\n        break;\n    }\n\n    switch (this.tooltipLabelFormatType) {\n      case 'time':\n        this.tooltipLabelFormat = d3_timeFormat(this.tooltipLabelFormatString);\n        break;\n      default:\n        this.tooltipLabelFormat = null;\n        break;\n    }\n\n    this.colorRange = d3_scaleOrdinal()\n      .range(this.colors)\n      .domain(this.data.map(c => c.label));\n\n    if (this.type === 'pie') {\n      this.innerRadius = 0;\n      this.anglePad = 0;\n    }\n\n    this.pie = d3_pie()\n      .padAngle(this.anglePad)\n      .value((d: any) => d.value)\n      .sort(null);\n\n    this.arc = d3_arc()\n      .padRadius(this.outerRadius)\n      .innerRadius(this.innerRadius);\n\n    this.chart = d3_select(this._element.nativeElement).attr('aria-hidden', 'true');\n\n    this.svg = this.chart\n      .append('svg')\n      .attr('width', this.width)\n      .attr('height', this.height)\n      .attr('class', 'img-fluid')\n      .attr('preserveAspectRatio', 'xMinYMin meet')\n      .attr(\n        'viewBox',\n        `-${this.width / 2 + this.margin.left} -${this.height / 2 + this.margin.top} ${this.width +\n          this.margin.left +\n          this.margin.right} ${this.height + this.margin.top + this.margin.bottom}`\n      );\n\n    this.legend = this.chart.append('ul').attr('class', 'legend legend-right');\n\n    this.tooltip = this.chart\n      .append('div')\n      .style('opacity', 0)\n      .attr('class', 'pbds-tooltip')\n      .attr('aria-hidden', 'true');\n\n    this.updateChart();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.data && !changes.data.firstChange) {\n      this.updateChart();\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.tooltip) this.tooltip.remove();\n  }\n\n  updateChart = () => {\n    const paths = this.svg.selectAll('path').data(this.pie(this.data));\n\n    paths\n      .exit()\n      .transition()\n      .attr('pointer-events', 'none')\n      .remove();\n\n    //update existing items\n    paths\n      .each((d: any) => (d.outerRadius = this.outerRadius))\n      .attr('pointer-events', 'none')\n      .transition()\n      .duration(500)\n      .attrTween('d', this.arcTween)\n      .transition()\n      .attr('pointer-events', 'auto');\n\n    // paths on enter\n    const enterPaths = paths\n      .enter()\n      .append('path')\n      .each((d: any) => (d.outerRadius = this.outerRadius))\n      .attr('d', this.arc)\n      .attr('fill', (d: any) => this.colorRange(d.data.label))\n      .attr('class', 'slice')\n      .each((d, i, nodes) => {\n        this.currentData.splice(i, 1, d);\n      });\n\n    if (this.type === 'pie') {\n      enterPaths\n        .style('stroke', '#fff')\n        .style('stroke-width', 2)\n        .style('stroke-alignment', 'inner');\n    }\n\n    const legendItem = this.chart\n      .select('.legend')\n      .selectAll('.legend-item')\n      .data(this.data);\n\n    legendItem.exit().remove();\n\n    // update existing items\n    legendItem.select('.legend-label').html((d: any) => {\n      switch (this.legendLabelFormatType) {\n        case 'time':\n          const parsedTime = d3_isoParse(d.label);\n          return this.legendLabelFormat(parsedTime);\n\n        default:\n          return d.label;\n      }\n    });\n\n    legendItem.select('.legend-value').html((d: any) => this.legendValueFormat(d.value));\n\n    // legend items on enter\n    const enterLegendItem = legendItem\n      .enter()\n      .append('li')\n      // .attr('tabindex', 0)\n      .attr('class', 'legend-item');\n\n    enterLegendItem\n      .append('span')\n      .attr('class', 'legend-key')\n      .style('background-color', (d: any) => this.colorRange(d.label));\n\n    const legendDescription = enterLegendItem.append('span').attr('class', 'legend-description');\n\n    legendDescription\n      .append('span')\n      .attr('class', 'legend-label')\n      .html((d: any) => {\n        switch (this.legendLabelFormatType) {\n          case 'time':\n            const parsedTime = d3_isoParse(d.label);\n            return this.legendLabelFormat(parsedTime);\n\n          default:\n            return d.label;\n        }\n      });\n\n    legendDescription\n      .append('span')\n      .attr('class', 'legend-value')\n      .html((d: any) => this.legendValueFormat(d.value));\n\n    enterLegendItem\n      .on('mouseover focus', (data, index, nodes) => {\n        this.legendMouseOverFocus(data, index, nodes);\n        this.pathMouseOver(d3_event, data, index, nodes);\n      })\n      .on('mouseout blur', (data, index, nodes) => {\n        this.legendMouseOutBlur(data, index, nodes);\n        this.pathMouseOut(data, index, nodes);\n      })\n      .on('click', (data, index, nodes) => {\n        this.clicked.emit({ event: d3_event, data: data });\n      });\n\n    enterPaths\n      .on('mouseover', (data, index, nodes) => {\n        this.pathMouseOver(d3_event, data, index, nodes);\n        this.tooltipShow(this.chart.node(), data);\n      })\n      .on('mousemove', (data, index, nodes) => {\n        this.tooltipMove(this.chart.node());\n      })\n      .on('mouseout', (data, index, nodes) => {\n        this.pathMouseOut(data, index, nodes);\n        this.tooltipHide();\n      })\n      .on('click', (data, index, nodes) => {\n        this.pathClick(d3_event, data, index, nodes);\n      });\n  };\n\n  private arcTween = (data, index, nodes) => {\n    // console.log('ARGS: ', data, index, nodes);\n    const i = d3_interpolate(this.currentData[index], data);\n\n    this.currentData[index] = i(1);\n    return t => this.arc(i(t));\n  };\n\n  private legendMouseOverFocus = (data, index, nodes) => {\n    this.chart\n      .selectAll('.legend-item')\n      .filter((d, i) => i !== index)\n      .classed('inactive', true);\n  };\n\n  private legendMouseOutBlur = (data, index, nodes) => {\n    this.chart.selectAll('.legend-item').classed('inactive', false);\n  };\n\n  private pathMouseOver = (event, data, index, nodes) => {\n    const slices = this.chart.selectAll('.slice');\n    const slice = slices.filter((d, i) => i === index);\n\n    this.chart\n      .selectAll('.legend-item')\n      .filter((d, i) => i !== index)\n      .classed('inactive', true);\n\n    slices.filter((d, i) => i !== index).classed('inactive', true);\n\n    slice\n      .transition()\n      .duration(300)\n      .delay(0)\n      .attrTween('d', (d: any) => {\n        const i = d3_interpolate(d.outerRadius, this.outerRadius + this.arcZoom);\n        return t => {\n          d.outerRadius = i(t);\n          return this.arc(d);\n        };\n      });\n\n    this.hovered.emit({\n      event: event,\n      data: data.data ? data.data : data // legend hover data is different than slice hover data\n    });\n  };\n\n  private pathMouseOut = (data, index, value) => {\n    const slices = this.chart.selectAll('.slice');\n    const slice = slices.filter((d, i) => i === index);\n\n    this.chart\n      .selectAll('.legend-item')\n      .filter((d, i) => i !== index)\n      .classed('inactive', false);\n\n    slices.classed('inactive', false);\n\n    slice\n      .transition()\n      .duration(300)\n      .delay(0)\n      .attrTween('d', (d: any) => {\n        const i = d3_interpolate(d.outerRadius, this.outerRadius);\n        return t => {\n          d.outerRadius = i(t);\n          return this.arc(d);\n        };\n      });\n  };\n\n  private pathClick = (event, data, index, nodes) => {\n    this.clicked.emit({\n      event: event,\n      data: data.data\n    });\n  };\n\n  private tooltipShow = (node, data) => {\n    this.tooltipSetPosition(node);\n\n    const percentage = (data.endAngle - data.startAngle) / (2 * Math.PI);\n    let label;\n\n    switch (this.tooltipLabelFormatType) {\n      case 'time':\n        const parsedTime = d3_isoParse(data.data.label);\n        label = this.tooltipLabelFormat(parsedTime);\n        break;\n\n      default:\n        label = data.data.label;\n    }\n\n    this.tooltip.html(\n      `\n        <div class=\"tooltip-label\">${label}</div>\n        <div class=\"tooltip-value\">${this.tooltipValueFormat(percentage)}</div>\n      `\n    );\n\n    this.tooltip.style('opacity', 1);\n  };\n\n  private tooltipMove = node => {\n    this.tooltipSetPosition(node);\n  };\n\n  private tooltipHide = () => {\n    this.tooltip.style('opacity', 0);\n  };\n\n  private tooltipSetPosition = node => {\n    const coordinates = d3_mouse(node);\n\n    this.tooltip.style('left', `${coordinates[0] + 16}px`);\n    this.tooltip.style('top', `${coordinates[1] + 16}px`);\n  };\n}\n","import {\n  Component,\n  OnInit,\n  OnChanges,\n  Input,\n  Output,\n  EventEmitter,\n  ElementRef,\n  HostBinding,\n  OnDestroy,\n  SimpleChanges,\n  ChangeDetectionStrategy\n} from '@angular/core';\n\nimport { ViewportScroller, Location } from '@angular/common';\n\nimport {\n  select as d3_select,\n  isoParse as d3_isoParse,\n  timeFormat as d3_timeFormat,\n  format as d3_format,\n  scaleOrdinal as d3_scaleOrdinal,\n  scaleBand as d3_scaleBand,\n  scaleLinear as d3_scaleLinear,\n  min as d3_min,\n  max as d3_max,\n  axisBottom as d3_axisBottom,\n  axisLeft as d3_axisLeft,\n  event as d3_event\n} from 'd3';\n\nimport { PbdsDatavizService } from './dataviz.service';\nimport { PbdsDatavizBar } from './dataviz.interfaces';\n\n@Component({\n  selector: 'pbds-dataviz-bar',\n  template: ``,\n  styles: [],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class PbdsDatavizBarComponent implements OnInit, OnDestroy, OnChanges {\n  @HostBinding('class.pbds-chart')\n  chartClass = true;\n\n  @HostBinding('class.pbds-chart-bar')\n  barClass = true;\n\n  @Input()\n  data: PbdsDatavizBar[];\n\n  @Input()\n  width = 306;\n\n  @Input()\n  height = 400;\n\n  @Input()\n  type: 'low' | 'medium' | 'high' | 'debug' = 'medium'; // debug to show all chart options\n\n  @Input()\n  singleSeries = false;\n\n  @Input()\n  xAxisFormatType: 'number' | 'time' = null;\n\n  @Input()\n  xAxisFormatString = '';\n\n  @Input()\n  yAxisFormatType: 'number' | 'time' = null;\n\n  @Input()\n  yAxisFormatString = '';\n\n  @Input()\n  yAxisTicks = 5;\n\n  @Input()\n  yAxisMinBuffer = 0.01;\n\n  @Input()\n  yAxisMaxBuffer = 0.01;\n\n  @Input()\n  hideLegend = false;\n\n  @Input()\n  legendWidth = 105 + 28; // hardcoded legend width + left margin, do not document until feedback\n\n  @Input()\n  legendPosition: 'right' | 'bottom' = 'right';\n\n  @Input()\n  legendLabelFormatType: 'number' | 'time' = null;\n\n  @Input()\n  legendLabelFormatString = '';\n\n  @Input()\n  tooltipLabelFormatType: 'number' | 'time' = null;\n\n  @Input()\n  tooltipLabelFormatString = '';\n\n  @Input()\n  tooltipValueFormatType: 'number' | 'time' = null;\n\n  @Input()\n  tooltipValueFormatString = '';\n\n  @Input()\n  marginTop = 10; // hardcoded on purpose, do not document until feedback\n\n  @Input()\n  marginRight = 0; // hardcoded on purpose, do not document until feedback\n\n  @Input()\n  marginBottom = 30; // hardcoded on purpose, do not document until feedback\n\n  @Input()\n  marginLeft = 55; // hardcoded on purpose, do not document until feedback\n\n  @Input()\n  threshold = null;\n\n  @Input()\n  average = null;\n\n  @Input()\n  theme;\n\n  @Output()\n  hovered: EventEmitter<object> = new EventEmitter<object>();\n\n  @Output()\n  clicked: EventEmitter<object> = new EventEmitter<object>();\n\n  private chart;\n  private svg;\n  private margin;\n  private colorRange;\n  private hideGrayBars: boolean;\n  private yThreshold;\n  private yAverage;\n  private xAxisScale;\n  private xAxisCall;\n  private xAxis;\n  private xAxisFormat;\n  private yAxisScale;\n  private yAxisCall;\n  private yAxis;\n  private yAxisFormat;\n  private xGrid;\n  private xGridCall;\n  private yGrid;\n  private yGridCall;\n  private xAxisTickSize: number;\n  private xAxisTickSizeOuter: number;\n  private yAxisTickSize: number;\n  private yAxisTickSizeOuter: number;\n  private hideXAxis: boolean;\n  private hideYAxis: boolean;\n  private hideXAxisDomain: boolean;\n  private hideYAxisDomain: boolean;\n  private hideXAxisZero: boolean;\n  private hideYAxisZero: boolean;\n  private hideXGrid: boolean;\n  private hideYGrid: boolean;\n  private hideXAxisTicks: boolean;\n  private hideYAxisTicks: boolean;\n  private legendLabelFormat;\n  private tooltip;\n  private hideTooltip: boolean;\n  private hideTooltipLabel: boolean;\n  private tooltipValueFormat;\n  private tooltipLabelFormat;\n\n  constructor(\n    private _dataviz: PbdsDatavizService,\n    private _element: ElementRef,\n    private _scroll: ViewportScroller,\n    private _location: Location\n  ) {}\n\n  ngOnInit() {\n    this.margin = {\n      top: +this.marginTop,\n      right: +this.marginRight,\n      bottom: +this.marginBottom,\n      left: +this.marginLeft\n    };\n\n    switch (this.xAxisFormatType) {\n      case 'number':\n        this.xAxisFormat = d3_format(this.xAxisFormatString);\n        break;\n      case 'time':\n        this.xAxisFormat = d3_timeFormat(this.xAxisFormatString);\n        break;\n    }\n\n    switch (this.yAxisFormatType) {\n      case 'number':\n        this.yAxisFormat = d3_format(this.yAxisFormatString);\n        break;\n      case 'time':\n        this.yAxisFormat = d3_timeFormat(this.yAxisFormatString);\n        break;\n    }\n\n    switch (this.legendLabelFormatType) {\n      case 'number':\n        this.legendLabelFormat = d3_format(this.legendLabelFormatString);\n        break;\n      case 'time':\n        this.legendLabelFormat = d3_timeFormat(this.legendLabelFormatString);\n        break;\n      default:\n        this.legendLabelFormat = null;\n        break;\n    }\n\n    switch (this.tooltipLabelFormatType) {\n      case 'number':\n        this.tooltipLabelFormat = d3_format(this.tooltipLabelFormatString);\n        break;\n      case 'time':\n        this.tooltipLabelFormat = d3_timeFormat(this.tooltipLabelFormatString);\n        break;\n      default:\n        this.tooltipLabelFormat = null;\n        break;\n    }\n\n    switch (this.tooltipValueFormatType) {\n      case 'number':\n        this.tooltipValueFormat = d3_format(this.tooltipValueFormatString);\n        break;\n      case 'time':\n        this.tooltipValueFormat = d3_timeFormat(this.tooltipValueFormatString);\n        break;\n      default:\n        this.tooltipValueFormat = null;\n    }\n\n    // defaults for all chart types\n    this.hideGrayBars = false;\n    this.hideXAxis = false;\n    this.hideYAxis = false;\n    this.hideXAxisZero = false;\n    this.hideYAxisZero = false;\n    this.hideXGrid = false;\n    this.hideYGrid = false;\n    this.hideXAxisDomain = false;\n    this.hideYAxisDomain = false;\n    this.hideTooltip = false;\n    this.hideXAxisTicks = false;\n    this.hideYAxisTicks = false;\n    this.xAxisTickSize = 8;\n    this.xAxisTickSizeOuter = 0;\n    this.yAxisTickSize = 8;\n    this.yAxisTickSizeOuter = 0;\n    this.hideTooltipLabel = false;\n\n    if (this.type !== 'debug') {\n      // set type defaults\n      switch (this.type) {\n        case 'low':\n          this.hideGrayBars = true;\n          this.hideXAxis = !this.hideLegend;\n          this.hideXAxisTicks = true;\n          this.hideXGrid = true;\n          this.hideYAxisDomain = false;\n          this.hideYAxisTicks = true;\n          this.legendPosition = 'bottom';\n          this.hideTooltipLabel = true;\n          break;\n\n        case 'medium':\n          this.hideXAxisDomain = true;\n          this.hideXAxis = !this.hideLegend;\n          this.hideXGrid = true;\n          this.hideXAxisTicks = true;\n          this.hideYAxisDomain = true;\n          this.hideYAxisTicks = true;\n          this.hideYGrid = true;\n          this.hideTooltipLabel = true;\n          break;\n\n        case 'high':\n          this.hideXAxis = true;\n          this.hideXAxisDomain = true;\n          this.hideXGrid = true;\n          this.hideYAxisDomain = true;\n          this.hideYAxisTicks = true;\n          this.hideYGrid = true;\n          this.hideLegend = true;\n          this.hideTooltipLabel = false;\n          break;\n      }\n\n      // single series overrides\n      if (this.singleSeries) {\n        this.hideLegend = true;\n        this.hideXAxis = true;\n        this.hideXGrid = true;\n        this.hideTooltipLabel = false;\n      }\n    }\n\n    // adjust margin if xAxis hidden\n    if (this.hideXAxis) this.margin.bottom = 10; // need small margin for yAxis with 0 tick label\n\n    if (!this.hideLegend && this.legendPosition === 'right') {\n      this.width = +this.width - +this.legendWidth;\n    }\n\n    // create the chart\n    this.chart = d3_select(this._element.nativeElement).attr('aria-hidden', 'true');\n\n    // create chart svg\n    this.svg = this.chart\n      .append('svg')\n      .attr('width', +this.width)\n      .attr('height', +this.height + this.margin.top + this.margin.bottom)\n      .attr('class', 'img-fluid')\n      .attr('preserveAspectRatio', 'xMinYMin meet')\n      .attr(\n        'viewBox',\n        `-${this.margin.left} -${this.margin.top} ${+this.width} ${+this.height + this.margin.top + this.margin.bottom}`\n      );\n\n    // build color ranges\n    this.colorRange = d3_scaleOrdinal().range(\n      this._dataviz.createGradientDefs(this.svg, this.singleSeries, this.theme)\n    );\n\n    // X AXIS\n    this.xAxisScale = d3_scaleBand()\n      .domain(this.data.map(d => d.label))\n      .rangeRound([0, this.width - this.margin.left])\n      .align(0);\n\n    // add padding to the scale for gray bars\n    !this.hideGrayBars\n      ? this.xAxisScale.paddingInner(0.1).paddingOuter(0)\n      : this.xAxisScale.paddingInner(0).paddingOuter(0);\n\n    this.xAxisCall = d3_axisBottom(this.xAxisScale)\n      .tickSize(this.xAxisTickSize)\n      .tickSizeOuter(this.xAxisTickSizeOuter)\n      .tickFormat(this.xAxisFormatter);\n\n    this.xAxis = this.svg\n      .append('g')\n      .attr('class', 'axis axis-x')\n      .attr('transform', `translate(0, ${this.height})`)\n      .classed('axis-hidden', this.hideXAxis)\n      .classed('axis-zero-hidden', this.hideXAxisZero)\n      .classed('axis-domain-hidden', this.hideXAxisDomain)\n      .classed('axis-ticks-hidden', this.hideXAxisTicks)\n      .call(this.xAxisCall);\n\n    // X GRIDLINES\n    if (!this.hideXGrid) {\n      this.xGridCall = d3_axisBottom(this.xAxisScale).tickSize(-this.height);\n\n      this.xGrid = this.svg\n        .append('g')\n        .attr('class', 'grid grid-x')\n        .classed('grid-zero-hidden', this.hideXAxisZero)\n        .attr('transform', `translate(0, ${this.height})`)\n        .call(this.xGridCall);\n    }\n\n    // Y AXIS\n    this.yAxisScale = d3_scaleLinear()\n      .domain([\n        d3_min(this.data, d => d.value - d.value * +this.yAxisMinBuffer),\n        d3_max(this.data, d => d.value + d.value * +this.yAxisMaxBuffer)\n      ])\n      .nice()\n      .rangeRound([this.height, 0]);\n\n    this.yAxisCall = d3_axisLeft(this.yAxisScale)\n      .ticks(this.yAxisTicks)\n      .tickSize(this.yAxisTickSize)\n      .tickSizeOuter(this.yAxisTickSizeOuter)\n      .tickFormat(this.yAxisFormatter);\n\n    this.yAxis = this.svg\n      .append('g')\n      .attr('class', 'axis axis-y')\n      .classed('axis-hidden', this.hideYAxis)\n      .classed('axis-zero-hidden', this.hideYAxisZero)\n      .classed('axis-domain-hidden', this.hideYAxisDomain)\n      .classed('axis-ticks-hidden', this.hideYAxisTicks)\n      .call(this.yAxisCall);\n\n    // Y GRIDLINES\n    if (!this.hideYGrid) {\n      this.yGridCall = d3_axisLeft(this.yAxisScale)\n        .ticks(this.yAxisTicks)\n        .tickSize(-this.width + this.margin.left + this.margin.right);\n\n      this.yGrid = this.svg\n        .append('g')\n        .attr('class', 'grid grid-y')\n        .classed('grid-zero-hidden', this.hideYAxisZero)\n        .attr('transform', `translate(0, 0)`)\n        .call(this.yGridCall);\n    }\n\n    // Y THRESHOLD\n    if (this.threshold) {\n      this.yThreshold = this.svg\n        .append('line')\n        .attr('class', 'threshold')\n        .attr('x2', +this.width)\n        .attr('transform', `translate(0,  ${this.yAxisScale(+this.threshold)})`);\n    }\n\n    // Y AVERAGE\n    if (this.average) {\n      this.yAverage = this.svg\n        .append('line')\n        .attr('class', 'average')\n        .attr('x2', +this.width)\n        .attr('transform', `translate(0,  ${this.yAxisScale(+this.average)})`);\n    }\n\n    // TOOLTIP\n    if (!this.hideTooltip) {\n      this.tooltip = d3_select('body')\n        .append('div')\n        .attr('class', 'pbds-tooltip south')\n        .style('opacity', 0)\n        .attr('aria-hidden', 'true'); // hide tooltip for accessibility\n    }\n\n    // add legend classes\n    if (!this.hideLegend) {\n      this.chart.classed('pbds-chart-legend-bottom', this.legendPosition === 'bottom' ? true : false);\n      this.chart.append('ul').attr('class', `legend legend-${this.legendPosition}`);\n    }\n\n    this.updateChart();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.data && !changes.data.firstChange) {\n      this.updateChart();\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.tooltip) this.tooltip.remove();\n  }\n\n  updateChart = () => {\n    let group;\n    let groupEnter;\n\n    // update the xScale\n    this.xAxisScale.domain(this.data.map(d => d.label));\n\n    // update the yScale\n    this.yAxisScale\n      .domain([\n        d3_min(this.data, d => d.value - d.value * +this.yAxisMinBuffer),\n        d3_max(this.data, d => d.value + d.value * +this.yAxisMaxBuffer)\n      ])\n      .rangeRound([this.height, 0])\n      .nice();\n\n    this.xAxis\n      .transition()\n      .duration(1000)\n      .call(this.xAxisCall);\n\n    this.yAxis\n      .transition()\n      .duration(1000)\n      .call(this.yAxisCall);\n\n    // update the grids\n    if (!this.hideXGrid) {\n      this.xGrid\n        .transition()\n        .duration(1000)\n        .call(this.xGridCall);\n    }\n\n    if (!this.hideYGrid) {\n      this.yGrid\n        .transition()\n        .duration(1000)\n        .call(this.yGridCall);\n    }\n\n    if (!this.hideGrayBars) {\n      // rebind data to groups\n      group = this.svg.selectAll('.bar-group').data(this.data);\n\n      // remove bars\n      // add bars on enter\n      group\n        .exit()\n        .transition()\n        .attr('pointer-events', 'none')\n        .remove();\n\n      // update gray bars\n      group\n        .select('.gray-bar')\n        .transition()\n        .duration(1000)\n        .attr('x', d => this.xAxisScale(d.label))\n        .attr('width', this.xAxisScale.bandwidth());\n\n      // update the existing bars\n      group\n        .select('.bar')\n        .attr('pointer-events', 'none')\n        .transition()\n        .duration(1000)\n        .attr('x', d => this.xAxisScale(d.label) + this.xAxisScale.bandwidth() / 4)\n        .attr('width', this.xAxisScale.bandwidth() / 2)\n        .attr('height', d => this.height - this.yAxisScale(d.value))\n        .attr('y', d => this.yAxisScale(d.value))\n        .transition()\n        .attr('pointer-events', 'auto');\n\n      // add group on enter\n      groupEnter = group\n        .enter()\n        .append('g')\n        .attr('class', 'bar-group');\n\n      // add gray bars on enter\n      groupEnter\n        .append('rect')\n        .attr('class', 'gray-bar')\n        .attr('rx', 0)\n        .attr('height', 0)\n        .attr('x', d => this.xAxisScale(d.label))\n        .attr('width', this.xAxisScale.bandwidth())\n        .transition()\n        .attr('height', this.height)\n        .attr('width', this.xAxisScale.bandwidth());\n\n      // add bars on enter\n      groupEnter\n        .append('rect')\n        .attr('class', 'bar')\n        .attr('rx', 2)\n        .attr('fill', d => `url(${this._location.path()}#gradient-${this.colorRange(d.label).substr(1)})`) // removes hash to prevent safari bug;\n        .attr('x', d => this.xAxisScale(d.label) + this.xAxisScale.bandwidth() / 4)\n        .attr('width', this.xAxisScale.bandwidth() / 2)\n        .attr('y', this.height)\n        .attr('height', 0)\n        .attr('pointer-events', 'none')\n        .transition()\n        .duration(1000)\n        .attr('y', d => this.yAxisScale(d.value))\n        .attr('height', d => this.height - this.yAxisScale(d.value))\n        .attr('data-color', d => this.colorRange(d.label))\n        .transition()\n        .attr('pointer-events', 'auto');\n\n      groupEnter\n        .select('.bar')\n        .on('mouseover', (data, index, nodes) => this.barMouseOver(d3_event, data, index, nodes))\n        .on('mouseout', (data, index, nodes) => this.barMouseOut())\n        .on('click', (data, index, nodes) => this.barMouseClick(d3_event, data, index, nodes));\n    } else {\n      // rebind data to groups\n      group = this.svg.selectAll('.bar-group').data(this.data);\n\n      // remove bars\n      group\n        .exit()\n        .transition()\n        .attr('pointer-events', 'none')\n        .remove();\n\n      // update the existing bars\n      group\n        .select('.bar')\n        .attr('x', d => this.xAxisScale(d.label) + this.xAxisScale.bandwidth() / 5.5)\n        .attr('width', this.xAxisScale.bandwidth() / 1.5)\n        .attr('pointer-events', 'none')\n        .transition()\n        .duration(1000)\n        .attr('y', d => this.yAxisScale(d.value))\n        .attr('height', d => this.height - this.yAxisScale(d.value))\n        .transition()\n        .attr('pointer-events', 'auto');\n\n      // add group on enter\n      groupEnter = group\n        .enter()\n        .append('g')\n        .attr('class', 'bar-group');\n\n      // add bars on enter\n      groupEnter\n        .append('rect')\n        .attr('class', 'bar')\n        .attr('rx', 2)\n        .attr('fill', d => `url(${this._location.path()}#gradient-${this.colorRange(d.label).substr(1)})`) // removes hash to prevent safari bug;\n        .attr('x', d => this.xAxisScale(d.label) + this.xAxisScale.bandwidth() / 5.5)\n        .attr('width', this.xAxisScale.bandwidth() / 1.5)\n        .attr('y', this.height)\n        .attr('height', 0)\n        .attr('pointer-events', 'none')\n        .transition()\n        .duration(1000)\n        .attr('y', d => this.yAxisScale(d.value))\n        .attr('height', d => this.height - this.yAxisScale(d.value))\n        .attr('data-color', d => this.colorRange(d.label))\n        .transition()\n        .attr('pointer-events', 'auto');\n\n      groupEnter\n        .select('.bar')\n        .on('mouseover', (data, index, nodes) => this.barMouseOver(d3_event, data, index, nodes))\n        .on('mouseout', () => this.barMouseOut())\n        .on('click', (data, index, nodes) => this.barMouseClick(d3_event, data, index, nodes));\n    }\n\n    if (!this.hideLegend) {\n      const legendItem = this.chart\n        .select('.legend')\n        .selectAll('.legend-item')\n        .data(this.data);\n\n      legendItem.exit().remove();\n\n      // update existing items\n      legendItem.select('.legend-label').html(d => {\n        // return this.legendLabelFormat === null ? d.label : this.legendLabelFormat(d.label);\n        switch (this.legendLabelFormatType) {\n          case 'number':\n            return this.legendLabelFormat(d.label);\n\n          case 'time':\n            const parsedTime = d3_isoParse(d.label);\n            return this.legendLabelFormat(parsedTime);\n\n          default:\n            return d.label;\n        }\n      });\n\n      // legend items on enter\n      const enterLegendItem = legendItem\n        .enter()\n        .append('li')\n        .attr('class', 'legend-item');\n\n      enterLegendItem\n        .append('span')\n        .attr('class', 'legend-key')\n        .style('background-color', d => this.colorRange(d.label));\n\n      enterLegendItem\n        .append('span')\n        .attr('class', 'legend-label')\n        .html(d => {\n          // return this.legendLabelFormat === null ? d.label : this.legendLabelFormat(d.label);\n          switch (this.legendLabelFormatType) {\n            case 'number':\n              return this.legendLabelFormat(d.label);\n\n            case 'time':\n              const parsedTime = d3_isoParse(d.label);\n              return this.legendLabelFormat(parsedTime);\n\n            default:\n              return d.label;\n          }\n        });\n\n      enterLegendItem\n        .on('mouseover', (data, index, nodes) => this.legendMouseOver(d3_event, data, index, nodes))\n        .on('mouseout', () => this.legendMouseOut())\n        .on('click', (data, index, nodes) => this.legendMouseClick(d3_event, data, index, nodes));\n    }\n\n    if (this.threshold) {\n      this.yThreshold\n        .raise()\n        .transition()\n        .duration(1000)\n        .attr('transform', `translate(0,  ${this.yAxisScale(+this.threshold)})`);\n    }\n\n    if (this.average) {\n      this.yAverage\n        .raise()\n        .transition()\n        .duration(1000)\n        .attr('transform', `translate(0,  ${this.yAxisScale(+this.average)})`);\n    }\n  };\n\n  barMouseOver = (event, data, index, nodes) => {\n    this.chart\n      .selectAll('.bar-group')\n      .filter((d, i) => i !== index)\n      .classed('inactive', true);\n\n    const bar = this.chart\n      .selectAll('.bar-group')\n      .filter((d, i) => i === index)\n      .select('.bar');\n\n    const barColor = bar.attr('data-color');\n\n    bar.style('fill', () => barColor);\n\n    this.chart\n      .selectAll('.legend-item')\n      .filter((d, i) => i !== index)\n      .classed('inactive', true);\n\n    this.tooltipShow(data, nodes.filter((d, i) => i === index));\n\n    this.hovered.emit({ event, data });\n  };\n\n  barMouseOut = () => {\n    this.chart\n      .selectAll('.bar-group')\n      .classed('inactive', false)\n      .select('.bar')\n      .style('fill', null);\n\n    this.chart.selectAll('.legend-item').classed('inactive', false);\n\n    this.tooltipHide();\n  };\n\n  barMouseClick = (event, data, index, nodes) => {\n    this.clicked.emit({ event, data });\n  };\n\n  legendMouseOver = (event, data, index, nodes) => {\n    this.chart\n      .selectAll('.legend-item')\n      .filter((d, i) => i !== index)\n      .classed('inactive', true);\n\n    this.chart\n      .selectAll('.bar-group')\n      .filter((d, i) => i !== index)\n      .classed('inactive', true);\n\n    const bar = this.chart\n      .selectAll('.bar-group')\n      .filter((d, i) => i === index)\n      .select('.bar');\n\n    const barColor = bar.attr('data-color');\n\n    bar.style('fill', () => barColor);\n\n    this.tooltipShow(data, this.chart.selectAll('.bar').filter((d, i) => i === index)._groups[0]); // TODO: find better way than using _groups\n\n    this.hovered.emit({ event, data });\n  };\n\n  legendMouseOut = () => {\n    this.chart.selectAll('.legend-item').classed('inactive', false);\n\n    this.chart\n      .selectAll('.bar-group')\n      .classed('inactive', false)\n      .select('.bar')\n      .style('fill', null);\n\n    this.tooltipHide();\n  };\n\n  legendMouseClick = (event, data, index, nodes) => {\n    this.clicked.emit({ event, data });\n  };\n\n  private tooltipShow = (data, node) => {\n    const dimensions = node[0].getBoundingClientRect();\n    const scroll = this._scroll.getScrollPosition();\n    let label;\n\n    switch (this.tooltipLabelFormatType) {\n      case 'number':\n        label = this.tooltipLabelFormat(data.label);\n        break;\n\n      case 'time':\n        const parsedTime = d3_isoParse(data.label);\n        label = this.tooltipLabelFormat(parsedTime);\n        break;\n\n      default:\n        label = data.label;\n    }\n    const value =\n      this.tooltipValueFormat === null\n        ? `<div class=\"tooltip-value\">${data.value}</div>`\n        : `<div class=\"tooltip-value\">${this.tooltipValueFormat(data.value)}</div>`;\n\n    this.tooltip.html(\n      `\n        ${this.hideTooltipLabel ? '' : `${label}`}\n        ${value}\n      `\n    );\n\n    const tooltipOffsetWidth = +this.tooltip.node().offsetWidth / 2;\n    const tooltipOffsetHeight = +this.tooltip.node().offsetHeight + 8;\n\n    this.tooltip.style('top', `${+scroll[1] + +dimensions.top - tooltipOffsetHeight}px`); //\n    this.tooltip.style('left', `${+scroll[0] + +dimensions.left - tooltipOffsetWidth + +dimensions.width / 2}px`);\n    this.tooltip.style('opacity', 1);\n  };\n\n  private tooltipHide = () => {\n    this.tooltip.style('opacity', 0);\n  };\n\n  private xAxisFormatter = item => {\n    switch (this.xAxisFormatType) {\n      case 'number':\n        return this.xAxisFormat(item);\n\n      case 'time':\n        const parseDate = d3_isoParse(item);\n        return this.xAxisFormat(parseDate);\n\n      default:\n        return item;\n    }\n  };\n\n  private yAxisFormatter = item => {\n    switch (this.yAxisFormatType) {\n      case 'number':\n        return this.yAxisFormat(item);\n\n      case 'time':\n        const parseDate = d3_isoParse(item);\n        return this.yAxisFormat(parseDate);\n\n      default:\n        return item;\n    }\n  };\n}\n","import {\n  Component,\n  OnInit,\n  OnChanges,\n  Input,\n  Output,\n  EventEmitter,\n  ElementRef,\n  HostBinding,\n  OnDestroy,\n  SimpleChanges,\n  ChangeDetectionStrategy\n} from '@angular/core';\n\nimport { ViewportScroller, Location } from '@angular/common';\n\nimport {\n  select as d3_select,\n  isoParse as d3_isoParse,\n  isoFormat as d3_isoFormat,\n  timeFormat as d3_timeFormat,\n  format as d3_format,\n  scaleOrdinal as d3_scaleOrdinal,\n  scaleTime as d3_scaleTime,\n  line as d3_line,\n  scaleLinear as d3_scaleLinear,\n  extent as d3_extent,\n  min as d3_min,\n  max as d3_max,\n  axisBottom as d3_axisBottom,\n  axisLeft as d3_axisLeft,\n  event as d3_event,\n  curveCatmullRom as d3_curveCatmullRom,\n  mouse as d3_mouse,\n  bisectLeft as d3_bisectLeft,\n  area as d3_area\n} from 'd3';\n\nimport { PbdsDatavizService } from './dataviz.service';\nimport { PbdsDatavizLine } from './dataviz.interfaces';\n\n@Component({\n  selector: 'pbds-dataviz-line',\n  template: ``,\n  styles: [],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class PbdsDatavizLineComponent implements OnInit, OnDestroy, OnChanges {\n  @HostBinding('class.pbds-chart')\n  chartClass = true;\n\n  @HostBinding('class.pbds-chart-line')\n  lineClass = true;\n\n  @Input()\n  data: PbdsDatavizLine;\n\n  @Input()\n  width = 306;\n\n  @Input()\n  height = 400;\n\n  @Input()\n  type: 'medium' | 'high' | 'debug' = 'medium'; // debug to show all chart options\n\n  @Input()\n  area = false;\n\n  @Input()\n  xAxisFormatString = '';\n\n  @Input()\n  xAxisTicks = 6;\n\n  @Input()\n  yAxisFormatString = '';\n\n  @Input()\n  yAxisTicks = 5;\n\n  @Input()\n  yAxisMinBuffer = 0.01;\n\n  @Input()\n  yAxisMaxBuffer = 0.01;\n\n  @Input()\n  hideXGrid = true;\n\n  @Input()\n  hideYGrid = true;\n\n  @Input()\n  hideLegend = false;\n\n  @Input()\n  legendWidth = 105 + 28; // hardcoded legend width + left margin, do not document until feedback\n\n  @Input()\n  legendPosition: 'right' | 'bottom' = 'right';\n\n  @Input()\n  legendLabelFormatType: 'number' | 'time' = null;\n\n  @Input()\n  legendLabelFormatString = '';\n\n  @Input()\n  tooltipHeadingFormatString = '';\n\n  @Input()\n  tooltipLabelFormatType: 'number' | 'time' = null;\n\n  @Input()\n  tooltipLabelFormatString = '';\n\n  @Input()\n  tooltipValueFormatType: 'number' | 'time' = null;\n\n  @Input()\n  tooltipValueFormatString = '';\n\n  @Input()\n  marginTop = 10; // hardcoded on purpose, do not document until feedback\n\n  @Input()\n  marginRight = 20; // hardcoded on purpose, do not document until feedback\n\n  @Input()\n  marginBottom = 30; // hardcoded on purpose, do not document until feedback\n\n  @Input()\n  marginLeft = 55; // hardcoded on purpose, do not document until feedback\n\n  @Input()\n  theme;\n\n  @Output()\n  hovered: EventEmitter<object> = new EventEmitter<object>();\n\n  @Output()\n  clicked: EventEmitter<object> = new EventEmitter<object>();\n\n  @Output()\n  tooltipHovered: EventEmitter<object> = new EventEmitter<object>();\n\n  @Output()\n  tooltipClicked: EventEmitter<object> = new EventEmitter<object>();\n\n  private chart;\n  private svg;\n  private mouserect;\n  private tooltipLine;\n  private margin;\n  private d3line;\n  private d3area;\n  private lineWidth;\n  private lineCurved;\n  private linePoints;\n  private colorRange;\n  private xAxisScale;\n  private xAxisCall;\n  private xAxis;\n  private xAxisFormat;\n  private yAxisScale;\n  private yAxisCall;\n  private yAxis;\n  private yAxisFormat;\n  private xGrid;\n  private xGridCall;\n  private yGrid;\n  private yGridCall;\n  private xAxisTickSize: number;\n  private xAxisTickSizeOuter: number;\n  private yAxisTickSize: number;\n  private yAxisTickSizeOuter: number;\n  private hideXAxis: boolean;\n  private hideYAxis: boolean;\n  private hideXAxisDomain: boolean;\n  private hideYAxisDomain: boolean;\n  private hideXAxisZero: boolean;\n  private hideYAxisZero: boolean;\n  private hideXAxisTicks: boolean;\n  private hideYAxisTicks: boolean;\n  private legendLabelFormat;\n  private tooltip;\n  private hideTooltip: boolean;\n  private tooltipHeadingFormat;\n  private tooltipValueFormat;\n  private tooltipLabelFormat;\n  private mousedata;\n\n  constructor(\n    private _dataviz: PbdsDatavizService,\n    private _element: ElementRef,\n    private _scroll: ViewportScroller,\n    private _location: Location\n  ) {}\n\n  ngOnInit() {\n    this.margin = {\n      top: +this.marginTop,\n      right: +this.marginRight,\n      bottom: +this.marginBottom,\n      left: +this.marginLeft\n    };\n\n    this.xAxisFormat = d3_timeFormat(this.xAxisFormatString);\n\n    this.yAxisFormat = d3_format(this.yAxisFormatString);\n\n    switch (this.legendLabelFormatType) {\n      case 'number':\n        this.legendLabelFormat = d3_format(this.legendLabelFormatString);\n        break;\n      case 'time':\n        this.legendLabelFormat = d3_timeFormat(this.legendLabelFormatString);\n        break;\n      default:\n        this.legendLabelFormat = null;\n        break;\n    }\n\n    this.tooltipHeadingFormat = d3_timeFormat(this.tooltipHeadingFormatString);\n\n    switch (this.tooltipLabelFormatType) {\n      case 'number':\n        this.tooltipLabelFormat = d3_format(this.tooltipLabelFormatString);\n        break;\n      case 'time':\n        this.tooltipLabelFormat = d3_timeFormat(this.tooltipLabelFormatString);\n        break;\n      default:\n        this.tooltipLabelFormat = null;\n        break;\n    }\n\n    switch (this.tooltipValueFormatType) {\n      case 'number':\n        this.tooltipValueFormat = d3_format(this.tooltipValueFormatString);\n        break;\n      case 'time':\n        this.tooltipValueFormat = d3_timeFormat(this.tooltipValueFormatString);\n        break;\n      default:\n        this.tooltipValueFormat = null;\n    }\n\n    // defaults for all chart types\n    this.lineWidth = 3;\n    this.lineCurved = true;\n    this.linePoints = true;\n    this.hideXAxis = false;\n    this.hideYAxis = false;\n    this.hideXAxisZero = false;\n    this.hideYAxisZero = false;\n    this.hideXAxisDomain = false;\n    this.hideYAxisDomain = false;\n    this.hideTooltip = false;\n    this.hideXAxisTicks = false;\n    this.hideYAxisTicks = false;\n    this.xAxisTickSize = 8;\n    this.xAxisTickSizeOuter = 0;\n    this.yAxisTickSize = 8;\n    this.yAxisTickSizeOuter = 0;\n\n    if (this.type !== 'debug') {\n      // set type defaults\n      switch (this.type) {\n        case 'medium':\n          this.hideXAxisTicks = true;\n          this.hideYAxisTicks = true;\n          break;\n\n        case 'high':\n          this.lineWidth = 2;\n          this.lineCurved = false;\n          this.linePoints = false;\n          this.hideXAxisTicks = true;\n          this.hideYAxisTicks = true;\n          this.hideXGrid = false;\n          this.hideYGrid = false;\n          break;\n      }\n    }\n\n    // adjust margin if xAxis hidden\n    if (this.hideXAxis) this.margin.bottom = 10; // need small margin for yAxis with 0 tick label\n\n    if (!this.hideLegend && this.legendPosition === 'right') {\n      this.width = +this.width - +this.legendWidth;\n    }\n\n    // define line\n    this.d3line = d3_line()\n      .x((d: any, i) => this.xAxisScale(d3_isoParse(this.data.dates[i])))\n      .y((d: any) => this.yAxisScale(d));\n\n    // define line curve\n    if (this.lineCurved) {\n      this.d3line.curve(d3_curveCatmullRom.alpha(0.5));\n    }\n\n    // define area\n    if (this.area) {\n      this.d3area = d3_area()\n        .x((d: any, i) => this.xAxisScale(d3_isoParse(this.data.dates[i])))\n        .y0(this.height)\n        .y1((d: any, i) => this.yAxisScale(d));\n\n      if (this.lineCurved) {\n        this.d3area.curve(d3_curveCatmullRom.alpha(0.5));\n      }\n    }\n\n    // create the chart\n    this.chart = d3_select(this._element.nativeElement).attr('aria-hidden', 'true');\n\n    // create chart svg\n    this.svg = this.chart\n      .append('svg')\n      .attr('width', +this.width + this.margin.right)\n      .attr('height', +this.height + this.margin.top + this.margin.bottom)\n      .attr('class', 'img-fluid')\n      .attr('preserveAspectRatio', 'xMinYMin meet')\n      .attr(\n        'viewBox',\n        `-${this.margin.left} -${this.margin.top} ${+this.width + this.margin.right} ${+this.height +\n          this.margin.top +\n          this.margin.bottom}`\n      );\n\n    // add rectangle to capture mouse\n    this.mouserect = this.svg\n      .append('rect')\n      .attr('width', this.width - this.margin.left - this.margin.right)\n      .attr('height', this.height)\n      .attr('class', 'mouserect')\n      .on('mousemove', (data, index, nodes) => this.mouserectMouseMove(d3_event, index, nodes))\n      .on('mouseout', (data, index, nodes) => this.mouserectMouseOut(d3_event, index, nodes))\n      .on('click', (data, index, nodes) => this.mouserectMouseClick());\n\n    this.tooltipLine = this.svg\n      .append('line')\n      .attr('y1', 0)\n      .attr('y2', this.height)\n      .attr('class', 'tooltip-line');\n\n    // define color range\n    this.colorRange = d3_scaleOrdinal().range(this._dataviz.getColors(false, this.theme));\n\n    // add glow def\n    this._dataviz.createGlowFilter(this.svg);\n\n    // X AXIS\n    this.xAxisScale = d3_scaleTime()\n      .domain(\n        d3_extent(this.data.dates, (d: any, i) => {\n          return d3_isoParse(d);\n        })\n      )\n      .range([0, this.width - this.margin.left - this.margin.right]);\n\n    this.xAxisCall = d3_axisBottom(this.xAxisScale)\n      .ticks(+this.xAxisTicks)\n      .tickSize(this.xAxisTickSize)\n      .tickSizeOuter(this.xAxisTickSizeOuter)\n      .tickFormat(this.xAxisFormatter);\n\n    this.xAxis = this.svg\n      .append('g')\n      .attr('class', 'axis axis-x')\n      .attr('transform', `translate(0, ${this.height})`) //${-this.margin.right / 2}\n      .classed('axis-hidden', this.hideXAxis)\n      .classed('axis-zero-hidden', this.hideXAxisZero)\n      .classed('axis-domain-hidden', this.hideXAxisDomain)\n      .classed('axis-ticks-hidden', this.hideXAxisTicks)\n      .call(this.xAxisCall);\n\n    // X GRIDLINES\n    if (!this.hideXGrid) {\n      this.xGridCall = d3_axisBottom(this.xAxisScale).tickSize(-this.height);\n\n      this.xGrid = this.svg\n        .append('g')\n        .attr('class', 'grid grid-x')\n        .classed('grid-zero-hidden', this.hideXAxisZero)\n        .attr('transform', `translate(0, ${this.height})`) //${-this.margin.right / 2}\n        .call(this.xGridCall);\n    }\n\n    // Y AXIS\n    this.yAxisScale = d3_scaleLinear()\n      .domain([\n        d3_min(this.data.series, (d: any, i) => {\n          const minVal = +d3_min(d.values);\n          return minVal - minVal * +this.yAxisMinBuffer;\n        }),\n        d3_max(this.data.series, (d: any, i) => {\n          const maxVal = +d3_max(d.values);\n          return maxVal + maxVal * this.yAxisMaxBuffer;\n        })\n      ])\n      .nice()\n      .range([this.height, 0]);\n\n    this.yAxisCall = d3_axisLeft(this.yAxisScale)\n      .ticks(this.yAxisTicks)\n      .tickSize(this.yAxisTickSize)\n      .tickSizeOuter(this.yAxisTickSizeOuter)\n      .tickFormat(this.yAxisFormatter);\n\n    this.yAxis = this.svg\n      .append('g')\n      .attr('class', 'axis axis-y')\n      .classed('axis-hidden', this.hideYAxis)\n      .classed('axis-zero-hidden', this.hideYAxisZero)\n      .classed('axis-domain-hidden', this.hideYAxisDomain)\n      .classed('axis-ticks-hidden', this.hideYAxisTicks)\n      .call(this.yAxisCall);\n\n    // Y GRIDLINES\n    if (!this.hideYGrid) {\n      this.yGridCall = d3_axisLeft(this.yAxisScale)\n        .ticks(this.yAxisTicks)\n        .tickSize(-this.width + this.margin.left + this.margin.right);\n\n      this.yGrid = this.svg\n        .append('g')\n        .attr('class', 'grid grid-y')\n        .classed('grid-zero-hidden', this.hideYAxisZero)\n        .attr('transform', `translate(0, 0)`)\n        .call(this.yGridCall);\n    }\n\n    // TOOLTIP\n    if (!this.hideTooltip) {\n      this.tooltip = d3_select('body')\n        .append('div')\n        .attr('class', 'pbds-tooltip west')\n        .style('opacity', 0)\n        .attr('aria-hidden', 'true'); // hide tooltip for accessibility\n\n      // tooltip header\n      this.tooltip.append('div').attr('class', 'tooltip-header');\n\n      // tooltip table\n      const tooltipTable = this.tooltip.append('table').attr('class', 'tooltip-table text-left w-100');\n\n      const tooltipTableTbody = tooltipTable.append('tbody');\n\n      tooltipTableTbody\n        .selectAll('tr')\n        .data(this.data)\n        .enter()\n        .append('tr');\n    }\n\n    // add legend classes\n    if (!this.hideLegend) {\n      this.chart.classed('pbds-chart-legend-bottom', this.legendPosition === 'bottom' ? true : false);\n      this.chart.append('ul').attr('class', `legend legend-${this.legendPosition}`);\n    }\n\n    this.updateChart();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.data && !changes.data.firstChange) {\n      this.updateChart();\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.tooltip) this.tooltip.remove();\n  }\n\n  updateChart = () => {\n    this.mouserect.data(this.data);\n\n    // update the xScale\n    this.xAxisScale.domain(\n      d3_extent(this.data.dates, (d: any, i) => {\n        return d3_isoParse(d);\n      })\n    );\n\n    // update the yScale\n    this.yAxisScale\n      .domain([\n        d3_min(this.data.series, (d: any, i) => {\n          const minVal = +d3_min(d.values);\n          return minVal - minVal * +this.yAxisMinBuffer;\n        }),\n        d3_max(this.data.series, (d: any, i) => {\n          const maxVal = +d3_max(d.values);\n          return maxVal + maxVal * this.yAxisMaxBuffer;\n        })\n      ])\n      .nice();\n\n    this.xAxis\n      .transition()\n      .duration(1000)\n      .call(this.xAxisCall);\n\n    this.yAxis\n      .transition()\n      .duration(1000)\n      .call(this.yAxisCall);\n\n    // update the grids\n    if (!this.hideXGrid) {\n      this.xGrid\n        .transition()\n        .duration(1000)\n        .call(this.xGridCall);\n    }\n\n    if (!this.hideYGrid) {\n      this.yGrid\n        .transition()\n        .duration(1000)\n        .call(this.yGridCall);\n    }\n\n    const group = this.svg.selectAll('.line-group').data(this.data.series);\n\n    // remove lines\n    group.exit().remove();\n\n    // update existing\n    group\n      .select('path.line')\n      .transition()\n      .duration(1000)\n      .attr('d', d => this.d3line(d.values));\n\n    if (this.area) {\n      group\n        .select('path.area')\n        .transition()\n        .duration(1000)\n        .attr('d', d => this.d3area(d.values));\n    }\n\n    group\n      .selectAll('circle')\n      .data(d => d.values)\n      .transition()\n      .duration(1000)\n      .attr('cx', (d, i) => this.xAxisScale(d3_isoParse(this.data.dates[i])))\n      .attr('cy', d => this.yAxisScale(d));\n\n    // add group on enter\n    const groupEnter = group\n      .enter()\n      .append('g')\n      .attr('class', 'line-group');\n\n    // add line on enter\n    const line = groupEnter\n      .append('path')\n      .attr('class', 'line')\n      .style('color', d => this.colorRange(d.label))\n      .style('stroke-width', this.lineWidth)\n      .transition()\n      .duration(1000)\n      .attr('d', data => this.d3line(data.values));\n\n    if (this.area) {\n      groupEnter\n        .append('path')\n        .attr('class', 'area')\n        .attr('d', data => this.d3area(data.values))\n        .style('color', d => this.colorRange(d.label));\n    }\n\n    // add points\n    if (this.linePoints) {\n      const points = groupEnter\n        .append('g')\n        .attr('class', 'points')\n        .style('color', d => this.colorRange(d.label));\n\n      const circles = points.selectAll('circle').data(d => d.values);\n\n      circles\n        .enter()\n        .append('circle')\n        .attr('cx', (d, i) => this.xAxisScale(d3_isoParse(this.data.dates[i])))\n        .attr('cy', d => this.yAxisScale(d))\n        .attr('r', this.lineWidth * 2)\n        .style('stroke-width', this.lineWidth);\n    }\n\n    if (this.type !== 'high') {\n      line.attr('filter', `url(${this._location.path()}#glow)`);\n    }\n\n    if (!this.hideLegend) {\n      const legendItem = this.chart\n        .select('.legend')\n        .selectAll('.legend-item')\n        .data(this.data.series);\n\n      legendItem.exit().remove();\n\n      // update existing items\n      legendItem.select('.legend-label').html(d => {\n        switch (this.legendLabelFormatType) {\n          case 'number':\n            return this.legendLabelFormat(d.label);\n\n          case 'time':\n            const parsedTime = d3_isoParse(d.label);\n            return this.legendLabelFormat(parsedTime);\n\n          default:\n            return d.label;\n        }\n      });\n\n      // legend items on enter\n      const enterLegendItem = legendItem\n        .enter()\n        .append('li')\n        .attr('class', 'legend-item');\n\n      enterLegendItem\n        .append('span')\n        .attr('class', 'legend-key')\n        .style('background-color', d => this.colorRange(d.label));\n\n      enterLegendItem\n        .append('span')\n        .attr('class', 'legend-label')\n        .html(d => {\n          switch (this.legendLabelFormatType) {\n            case 'number':\n              return this.legendLabelFormat(d.label);\n\n            case 'time':\n              const parsedTime = d3_isoParse(d.label);\n              return this.legendLabelFormat(parsedTime);\n\n            default:\n              return d.label;\n          }\n        });\n\n      enterLegendItem\n        .on('mouseover', (data, index, nodes) => this.legendMouseOver(d3_event, data, index, nodes))\n        .on('mouseout', () => this.legendMouseOut())\n        .on('click', (data, index, nodes) => this.legendMouseClick(d3_event, data, index, nodes));\n    }\n\n    if (!this.hideTooltip) {\n      const tooltipItem = this.tooltip\n        .select('.tooltip-table')\n        .selectAll('tr')\n        .data(this.data.series);\n\n      tooltipItem.exit().remove();\n\n      // update existing items\n      tooltipItem.select('.tooltip-label pr-2').html(d => {\n        return this.tooltipHeadingFormat(d.label);\n      });\n\n      // items on enter\n      const entertooltipItem = tooltipItem\n        .enter()\n        .append('tr')\n        .attr('class', 'tooltip-item');\n\n      entertooltipItem\n        .append('td')\n        .style('color', d => this.colorRange(d.label))\n        .append('span')\n        .attr('class', 'pbds-tooltip-key');\n\n      entertooltipItem\n        .append('td')\n        .attr('class', 'tooltip-label pr-2 text-nowrap')\n        .html(d => {\n          return this.tooltipLabelFormatType ? this.tooltipLabelFormat(d.label) : d.label;\n        });\n\n      entertooltipItem\n        .append('td')\n        .attr('class', 'tooltip-value text-right text-nowrap')\n        .html(d => '');\n    }\n\n    this.mouserect.raise();\n  };\n\n  legendMouseOver = (event, data, index, nodes) => {\n    this.chart\n      .selectAll('.legend-item')\n      .filter((d, i) => i !== index)\n      .classed('inactive', true);\n\n    this.chart\n      .selectAll('.line-group')\n      .filter((d, i) => i !== index)\n      .classed('inactive', true);\n\n    const line = this.chart.selectAll('.line-group').filter((d, i) => i === index);\n    line.classed('active', true);\n\n    if (this.linePoints) {\n      const circles = line.selectAll('circle');\n      circles.classed('active', true);\n    }\n\n    this.hovered.emit({ event, data });\n  };\n\n  legendMouseOut = () => {\n    this.chart.selectAll('.legend-item').classed('inactive', false);\n\n    this.chart\n      .selectAll('.line-group')\n      .classed('inactive', false)\n      .classed('active', false);\n\n    if (this.linePoints) {\n      const circles = this.chart.selectAll('circle');\n      circles.classed('active', false);\n    }\n  };\n\n  legendMouseClick = (event, data, index, nodes) => {\n    this.clicked.emit({ event, data });\n  };\n\n  mouserectMouseMove = (event, index, nodes) => {\n    const mouseXDate = this.xAxisScale.invert(d3_mouse(nodes[0])[0]); // return date at mouse x position\n    const leftIndex = d3_bisectLeft(this.data.dates, d3_isoFormat(mouseXDate)); // index of left closest date\n\n    // prevent error for 0 index\n    if (leftIndex === 0) return false;\n\n    const dateLower = new Date(this.data.dates[leftIndex - 1]);\n    const dateUpper = new Date(this.data.dates[leftIndex]);\n    const closestDate = +mouseXDate - +dateLower > +dateUpper - mouseXDate ? dateUpper : dateLower; // date mouse is closest to\n    const closestIndex = this.data.dates.indexOf(d3_isoFormat(closestDate)); // which index the mouse is closest to\n    // console.log(+mouseXDate, leftIndex, +dateLower, +dateUpper, +closestDate, closestIndex);\n\n    const circles = this.svg.selectAll('.line-group').selectAll('circle');\n    circles.filter((d, i) => i === closestIndex).classed('active', true);\n    circles.filter((d, i) => i !== closestIndex).classed('active', false);\n\n    this.tooltipLine\n      .attr('x1', this.xAxisScale(closestDate))\n      .attr('x2', this.xAxisScale(closestDate))\n      .classed('active', true);\n\n    // console.log(this.tooltipLine.node().getBoundingClientRect(), this._scroll.getScrollPosition());\n    this.tooltipShow(this.tooltipLine.node(), closestIndex);\n\n    this.mousedata = {\n      date: closestDate,\n      series: this.data.series.map(d => {\n        return {\n          label: d.label,\n          value: d.values[closestIndex]\n        };\n      })\n    };\n\n    this.tooltipHovered.emit({ event, data: this.mousedata });\n  };\n\n  mouserectMouseOut = (event, index, nodes) => {\n    this.svg.selectAll('circle').classed('active', false);\n    this.tooltipLine.classed('active', false);\n    this.tooltipHide();\n  };\n\n  mouserectMouseClick = () => {\n    this.tooltipClicked.emit({ event, data: this.mousedata });\n  };\n\n  private tooltipShow = (node, closestIndex) => {\n    const scroll = this._scroll.getScrollPosition();\n    const mouserectDimensions = node.getBoundingClientRect();\n    const tooltipOffsetHeight = +this.tooltip.node().offsetHeight;\n    const tooltipDimensions = this.tooltip.node().getBoundingClientRect();\n    const dimensionCalculated = mouserectDimensions.left + tooltipDimensions.width + 8;\n    const clientWidth = document.body.clientWidth - 10;\n    let position;\n\n    // console.log(scroll, mouserectDimensions, tooltipOffsetHeight, tooltipDimensions, dimensionCalculated, clientWidth);\n\n    this.tooltip.select('.tooltip-header').html(d => {\n      const parsedTime = d3_isoParse(this.data.dates[closestIndex]);\n      return this.tooltipHeadingFormat(parsedTime);\n    });\n\n    this.tooltip.selectAll('.tooltip-value').html((d, i) => {\n      return this.tooltipValueFormatType\n        ? this.tooltipValueFormat(this.data.series[i].values[closestIndex])\n        : this.data.series[i].values[closestIndex];\n    });\n\n    // flip the tooltip positions if near the right edge of the screen\n    if (dimensionCalculated > clientWidth) {\n      this.tooltip.classed('east', true);\n      this.tooltip.classed('west', false);\n      position = `${mouserectDimensions.left - tooltipDimensions.width - 8}px`;\n    } else if (dimensionCalculated < clientWidth) {\n      this.tooltip.classed('east', false);\n      this.tooltip.classed('west', true);\n      position = `${mouserectDimensions.left + 8}px`;\n    }\n\n    // console.log('POSITION: ', position, mouserectDimensions);\n\n    // set the tooltip styles\n    this.tooltip.style(\n      'top',\n      `${mouserectDimensions.top + mouserectDimensions.height / 2 - tooltipOffsetHeight / 2 + scroll[1]}px`\n    );\n    this.tooltip.style('left', position);\n    this.tooltip.style('opacity', 1);\n  };\n\n  private tooltipHide = () => {\n    this.tooltip.style('opacity', 0);\n  };\n\n  private xAxisFormatter = item => {\n    const parseDate = d3_isoParse(item);\n    return this.xAxisFormat(parseDate);\n  };\n\n  private yAxisFormatter = item => {\n    return this.yAxisFormat(item);\n  };\n}\n","import { Component, OnInit, Input, ElementRef, HostBinding, OnChanges, SimpleChanges } from '@angular/core';\n\nimport { select as d3_select, arc as d3_arc, interpolate as d3_interpolate, format as d3_format } from 'd3';\n\nimport { PbdsDatavizService } from './dataviz.service';\nimport { PbdsDatavizGauge } from './dataviz.interfaces';\n\n@Component({\n  selector: 'pbds-dataviz-gauge',\n  template: `\n    <div\n      *ngIf=\"!hideLabel\"\n      class=\"gauge-details\"\n      [ngClass]=\"{ halfmoon: type === 'halfmoon', 'gauge-details-small': type === 'halfmoon' }\"\n      [ngStyle]=\"{ 'max-width.px': width - 3 * gaugeWidth }\"\n    >\n      <div class=\"gauge-number\">{{ label }}</div>\n      <div *ngIf=\"description\" class=\"gauge-description text-center\">{{ description }}</div>\n    </div>\n  `,\n  styles: []\n})\nexport class PbdsDatavizGaugeComponent implements OnInit, OnChanges {\n  @HostBinding('class.pbds-chart')\n  chartClass = true;\n\n  @HostBinding('class.pbds-chart-gauge')\n  gaugeClass = true;\n\n  @Input()\n  data: PbdsDatavizGauge;\n\n  @Input()\n  width = 300;\n\n  @Input()\n  type: 'halfmoon' | 'horseshoe' | 'circle' = 'halfmoon';\n\n  @Input()\n  color = '#E23DA8';\n\n  @Input()\n  hideLabel = false;\n\n  @Input()\n  labelFormatString = '';\n\n  @Input()\n  description;\n\n  @Input()\n  gaugeWidth = 20;\n\n  private chart;\n  private svg;\n  private gauge;\n  private labelTween; // TODO: rename this\n  public label;\n  private startAngle;\n  private endAngle;\n  private radius;\n  private arc;\n  private labelFormat;\n  private oldValue;\n  private height;\n  private rounded;\n\n  constructor(private _dataviz: PbdsDatavizService, private _element: ElementRef) {}\n\n  ngOnInit() {\n    this.height = this.width;\n    this.radius = Math.max(this.width, this.height) / 2;\n    this.labelFormat = d3_format(this.labelFormatString);\n    this.label = this.labelFormat(this.data.value);\n\n    switch (this.type) {\n      case 'halfmoon':\n        this.startAngle = -90;\n        this.endAngle = 90;\n        this.rounded = true;\n        break;\n\n      case 'horseshoe':\n        this.startAngle = -140;\n        this.endAngle = 140;\n        this.rounded = true;\n        break;\n\n      case 'circle':\n        this.startAngle = 0;\n        this.endAngle = 360;\n        this.rounded = false;\n        break;\n    }\n\n    this.arc = d3_arc().cornerRadius(this.rounded ? this.gaugeWidth : 0);\n\n    this.chart = d3_select(this._element.nativeElement).attr('aria-hidden', 'true');\n\n    this.svg = this.chart\n      .append('svg')\n      .attr('width', this.width)\n      .attr('height', this.height)\n      .attr('class', 'img-fluid') // to resize chart\n      .attr('preserveAspectRatio', 'xMinYMin meet')\n      .attr('viewBox', `-${this.width / 2} -${this.height / 2} ${this.width} ${this.height}`);\n\n    this.drawChart();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.data && !changes.data.firstChange) {\n      // console.log(changes.data.previousValue.value, changes.data.currentValue.value);\n\n      this.oldValue = changes.data.previousValue.value;\n      this.updateChart();\n    }\n  }\n\n  degreesToRadians = degree => {\n    return (degree * Math.PI) / 180;\n  };\n\n  calculateMinMax = () => {\n    const percentage = this.data.minvalue / (this.data.maxvalue - this.data.minvalue);\n\n    return percentage * (this.data.value - this.data.minvalue) + (this.data.value - this.data.minvalue);\n  };\n\n  calculateCurve = data => {\n    const start = this.degreesToRadians(this.startAngle);\n    const end = start + (data * (this.degreesToRadians(this.endAngle) - start)) / this.data.maxvalue;\n\n    return [\n      {\n        startAngle: start,\n        endAngle: end\n      }\n    ];\n  };\n\n  drawChart = () => {\n    this.gauge = this.svg.append('g').attr('class', 'gauge-group');\n\n    // background arc\n    this.gauge\n      .append('path')\n      .data(this.calculateCurve(this.data.maxvalue))\n      .attr('class', 'gauge-background')\n      .attr('d', d => {\n        return this.arc({\n          innerRadius: this.radius - this.gaugeWidth,\n          outerRadius: this.radius,\n          startAngle: d.startAngle,\n          endAngle: d.endAngle\n        });\n      });\n\n    // value arc\n    this.gauge\n      .append('path')\n      .data(this.calculateCurve(this.calculateMinMax()))\n      .attr('class', 'gauge-value')\n      .attr('fill', this.color)\n      .attr('d', d => {\n        return this.arc({\n          innerRadius: this.radius - this.gaugeWidth,\n          outerRadius: this.radius,\n          startAngle: d.startAngle,\n          endAngle: d.endAngle\n        });\n      });\n\n    switch (this.type) {\n      case 'horseshoe':\n        this.svg.attr('height', 230).attr('viewBox', `-${this.width / 2} -${this.height / 2} ${this.height} 230`);\n        break;\n      case 'halfmoon':\n        this.svg.attr('height', this.width / 2);\n        this.svg.attr('viewBox', `-${this.width / 2} -${this.width / 2} ${this.width} ${this.width / 2}`);\n        break;\n    }\n  };\n\n  updateChart = () => {\n    const group = this.svg.select('.gauge-group');\n\n    group\n      .select('.gauge-value')\n      .transition()\n      .duration(750)\n      .call(this.arcTween, this.calculateMinMax());\n\n    this.labelTween = this.chart.select('.gauge-number');\n\n    this.labelTween\n      .transition()\n      .duration(750)\n      .call(this.textTween, this.data.value);\n  };\n\n  arcTween = (transition, value) => {\n    const newAngle = this.calculateCurve(value);\n\n    transition.attrTween('d', d => {\n      const interpolate = d3_interpolate(d.endAngle, newAngle[0].endAngle);\n\n      return t => {\n        d.endAngle = interpolate(t);\n\n        return this.arc({\n          innerRadius: this.radius - this.gaugeWidth,\n          outerRadius: this.radius,\n          startAngle: d.startAngle,\n          endAngle: d.endAngle\n        });\n      };\n    });\n  };\n\n  textTween = (transition, value) => {\n    value = d3_format('.2f')(value); // TODO: check these .1f formats here, should they be inputs?\n    value = value.replace(/,/g, '.');\n\n    transition.tween('text', () => {\n      const interpolate = d3_interpolate(d3_format('.2f')(+this.oldValue), value);\n\n      return t => {\n        this.labelTween.text(d => {\n          const updatedNumber = this.labelFormat(interpolate(t));\n          this.label = updatedNumber;\n          return updatedNumber;\n        });\n      };\n    });\n  };\n}\n","import { Component, OnInit, Input, ElementRef, HostBinding, ChangeDetectionStrategy } from '@angular/core';\n\nimport {\n  select as d3_select,\n  line as d3_line,\n  scaleLinear as d3_scaleLinear,\n  min as d3_min,\n  max as d3_max,\n  area as d3_area\n} from 'd3';\n\nimport { PbdsDatavizSparkline } from './dataviz.interfaces';\n\n@Component({\n  selector: 'pbds-dataviz-sparkline',\n  template: ``,\n  styles: [],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class PbdsDatavizSparklineComponent implements OnInit {\n  @HostBinding('class.pbds-chart')\n  chartClass = true;\n\n  @HostBinding('class.pbds-chart-sparkline')\n  sparklineClass = true;\n\n  @Input()\n  data: PbdsDatavizSparkline;\n\n  @Input()\n  width = 160;\n\n  @Input()\n  height = 40;\n\n  @Input()\n  type: 'line' | 'line-high' | 'area' | 'area-high' | 'bar' = 'line';\n\n  @Input()\n  color = '#E23DA8';\n\n  @Input()\n  colorNegative: string | null = null; // undocumented, may add if needed\n\n  @Input()\n  strokeWidth = 2; // undocumented, width is automatically set by the type\n\n  @Input()\n  yAxisMinBuffer = 0;\n\n  @Input()\n  yAxisMaxBuffer = 0;\n\n  private chart;\n  private svg;\n  private margin;\n\n  constructor(private _element: ElementRef) {}\n\n  ngOnInit() {\n    this.margin = { top: 1, right: 0, bottom: 1, left: 0 };\n\n    if (this.type === 'bar') {\n      this.margin = { top: 0, right: 0, bottom: 0, left: 0 };\n    }\n\n    if (this.type === 'line-high' || this.type === 'area-high') {\n      this.strokeWidth = 1;\n    }\n\n    if (this.colorNegative === null) {\n      this.colorNegative = this.color;\n    }\n\n    let x = d3_scaleLinear().range([0, this.width - this.margin.left - this.margin.right]);\n    let y = d3_scaleLinear().range([this.height - this.margin.top - this.margin.bottom, 0]);\n\n    y.domain([+d3_min(this.data) - this.yAxisMinBuffer, +d3_max(this.data) + this.yAxisMaxBuffer]);\n    x.domain([0, this.data.length]);\n\n    let line = d3_line()\n      .x((d, i) => x(i))\n      .y((d: any) => y(d));\n\n    let area = d3_area()\n      .x((d, i) => x(i))\n      .y0(this.height)\n      .y1((d: any) => y(d));\n\n    this.chart = d3_select(this._element.nativeElement).attr('aria-hidden', 'true');\n\n    this.svg = this.chart\n      .append('svg')\n      .attr('width', this.width)\n      .attr('height', this.height)\n      .attr('class', 'img-fluid')\n      .attr('preserveAspectRatio', 'xMinYMin meet')\n      .attr('viewBox', `-${this.margin.left} -${this.margin.top} ${this.width} ${this.height}`);\n\n    if (this.type === 'line' || this.type === 'line-high' || this.type === 'area' || this.type === 'area-high') {\n      this.svg\n        .append('path')\n        .datum(this.data)\n        .attr('class', 'sparkline')\n        .attr('fill', 'none')\n        .attr('stroke-width', this.strokeWidth)\n        .attr('stroke', this.color)\n        .attr('d', line);\n    }\n\n    if (this.type === 'area' || this.type === 'area-high') {\n      this.svg\n        .append('path')\n        .datum(this.data)\n        .attr('class', 'sparkarea')\n        .attr('fill', this.color)\n        .attr('fill-opacity', 0.3)\n        .attr('d', area);\n    }\n\n    if (this.type === 'bar') {\n      const barWidth = (this.width - this.data.length) / this.data.length;\n\n      // handles negative values, see example https://www.essycode.com/posts/create-sparkline-charts-d3/\n      this.svg\n        .selectAll('.bar')\n        .data(this.data)\n        .enter()\n        .append('rect')\n        .attr('class', 'sparkbar')\n        .attr('x', (d, i) => x(i))\n        .attr('y', d => (d > 0 ? y(d) : y(0)))\n        .attr('width', barWidth)\n        .attr('height', d => Math.abs(y(d) - y(0)))\n        .attr('fill', d => (d > 0 ? this.color : this.colorNegative)); // still uses undocumented negative color values\n    }\n  }\n}\n","import {\n  Component,\n  OnInit,\n  OnChanges,\n  Input,\n  Output,\n  EventEmitter,\n  ElementRef,\n  HostBinding,\n  OnDestroy,\n  SimpleChanges,\n  ChangeDetectionStrategy\n} from '@angular/core';\n\nimport { ViewportScroller } from '@angular/common';\n\nimport {\n  select as d3_select,\n  isoParse as d3_isoParse,\n  timeFormat as d3_timeFormat,\n  format as d3_format,\n  scaleOrdinal as d3_scaleOrdinal,\n  scaleBand as d3_scaleBand,\n  scaleLinear as d3_scaleLinear,\n  max as d3_max,\n  axisBottom as d3_axisBottom,\n  axisLeft as d3_axisLeft,\n  event as d3_event,\n  stack as d3_stack,\n  stackOrderNone as d3_stackOrderNone\n} from 'd3';\n\nimport { PbdsDatavizService } from './dataviz.service';\nimport { PbdsDatavizBarStacked } from './dataviz.interfaces';\n\n@Component({\n  selector: 'pbds-dataviz-bar-stacked',\n  template: ``,\n  styles: [],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class PbdsDatavizBarStackedComponent implements OnInit, OnDestroy, OnChanges {\n  @HostBinding('class.pbds-chart')\n  chartClass = true;\n\n  @HostBinding('class.pbds-chart-stacked-bar')\n  stackedBarClass = true;\n\n  @Input()\n  data: Array<PbdsDatavizBarStacked>;\n\n  @Input()\n  width = 306;\n\n  @Input()\n  height = 400;\n\n  @Input()\n  type: 'low' | 'medium' | 'high' | 'debug' = 'medium'; // debug to show all chart options\n\n  @Input()\n  marginTop = 10; // hardcoded on purpose, do not document until feedback\n\n  @Input()\n  marginRight = 0; // hardcoded on purpose, do not document until feedback\n\n  @Input()\n  marginBottom = 30; // hardcoded on purpose, do not document until feedback\n\n  @Input()\n  marginLeft = 55; // hardcoded on purpose, do not document until feedback\n\n  @Input()\n  hideXAxis = false;\n\n  @Input()\n  xAxisFormatType: 'number' | 'time' = null;\n\n  @Input()\n  xAxisFormatString = '';\n\n  @Input()\n  yAxisFormatType: 'number' | 'time' = null;\n\n  @Input()\n  yAxisFormatString = '';\n\n  @Input()\n  yAxisTicks = 5;\n\n  @Input()\n  yAxisMaxBuffer = 0.01;\n\n  @Input()\n  hideLegend = false;\n\n  @Input()\n  legendWidth = 105 + 28; // hardcoded legend width + left margin, do not document until feedback\n\n  @Input()\n  legendPosition: 'right' | 'bottom' = 'right';\n\n  @Input()\n  legendLabelFormatType: 'number' | 'time' = null;\n\n  @Input()\n  legendLabelFormatString = '';\n\n  @Input()\n  tooltipHeadingFormatType: 'time' = null;\n\n  @Input()\n  tooltipHeadingFormatString = '';\n\n  @Input()\n  tooltipHeadingValueFormatType: 'number' = null;\n\n  @Input()\n  tooltipHeadingValueFormatString = '';\n\n  @Input()\n  tooltipLabelFormatType: 'time' = null;\n\n  @Input()\n  tooltipLabelFormatString = '';\n\n  @Input()\n  tooltipValueFormatType: 'number' = null;\n\n  @Input()\n  tooltipValueFormatString = '';\n\n  @Input()\n  theme;\n\n  @Output()\n  hovered: EventEmitter<object> = new EventEmitter<object>();\n\n  @Output()\n  clicked: EventEmitter<object> = new EventEmitter<object>();\n\n  private dataStack;\n  private dataKeys;\n  private chart;\n  private svg;\n  private grayBars;\n  private mouseBars;\n  private bars;\n  private margin;\n  private colorRange;\n  private hideGrayBars: boolean;\n  private xAxisScale;\n  private xAxisCall;\n  private xAxis;\n  private xAxisFormat;\n  private xAxisTickSize: number;\n  private xAxisTickSizeOuter: number;\n  private hideXAxisDomain: boolean;\n  private hideXAxisZero: boolean;\n  private hideXAxisTicks: boolean;\n  private hideXGrid: boolean;\n  private hideYGrid: boolean;\n  private yAxisMax;\n  private yAxisScale;\n  private yAxisCall;\n  private yAxis;\n  private yAxisFormat;\n  private yAxisTickSize: number;\n  private yAxisTickSizeOuter: number;\n  private xGrid;\n  private xGridCall;\n  private yGrid;\n  private yGridCall;\n  private hideYAxis: boolean;\n  private hideYAxisZero: boolean;\n  private hideYAxisDomain: boolean;\n  private hideYAxisTicks: boolean;\n  private legendLabelFormat;\n  private tooltip;\n  private hideTooltip: boolean;\n  private tooltipHeadingFormat;\n  private tooltipHeadingValueFormat;\n  private tooltipValueFormat;\n  private tooltipLabelFormat;\n\n  constructor(private _dataviz: PbdsDatavizService, private _element: ElementRef, private _scroll: ViewportScroller) {}\n\n  ngOnInit() {\n    // extract keys for stack data\n    this.dataKeys = Object.keys(this.data[0]).filter(item => item !== 'key');\n\n    // create the D3 stack data\n    this.dataStack = d3_stack()\n      .keys(this.dataKeys)\n      .order(d3_stackOrderNone)(this.data);\n\n    //////////////////////////////////////////\n\n    this.margin = {\n      top: +this.marginTop,\n      right: +this.marginRight,\n      bottom: +this.marginBottom,\n      left: +this.marginLeft\n    };\n\n    switch (this.xAxisFormatType) {\n      case 'number':\n        this.xAxisFormat = d3_format(this.xAxisFormatString);\n        break;\n      case 'time':\n        this.xAxisFormat = d3_timeFormat(this.xAxisFormatString);\n        break;\n    }\n\n    switch (this.yAxisFormatType) {\n      case 'number':\n        this.yAxisFormat = d3_format(this.yAxisFormatString);\n        break;\n      case 'time':\n        this.yAxisFormat = d3_timeFormat(this.yAxisFormatString);\n        break;\n    }\n\n    switch (this.legendLabelFormatType) {\n      case 'number':\n        this.legendLabelFormat = d3_format(this.legendLabelFormatString);\n        break;\n      case 'time':\n        this.legendLabelFormat = d3_timeFormat(this.legendLabelFormatString);\n        break;\n      default:\n        this.legendLabelFormat = null;\n        break;\n    }\n\n    switch (this.tooltipHeadingFormatType) {\n      case 'time':\n        this.tooltipHeadingFormat = d3_timeFormat(this.tooltipHeadingFormatString);\n        break;\n      default:\n        this.tooltipHeadingFormat = null;\n        break;\n    }\n\n    switch (this.tooltipHeadingValueFormatType) {\n      case 'number':\n        this.tooltipHeadingValueFormat = d3_format(this.tooltipHeadingValueFormatString);\n        break;\n      default:\n        this.tooltipHeadingValueFormat = null;\n        break;\n    }\n\n    switch (this.tooltipLabelFormatType) {\n      case 'time':\n        this.tooltipLabelFormat = d3_timeFormat(this.tooltipLabelFormatString);\n        break;\n      default:\n        this.tooltipLabelFormat = null;\n        break;\n    }\n\n    switch (this.tooltipValueFormatType) {\n      case 'number':\n        this.tooltipValueFormat = d3_format(this.tooltipValueFormatString);\n        break;\n      default:\n        this.tooltipValueFormat = null;\n    }\n\n    // defaults for all chart types\n    this.hideGrayBars = false;\n    this.hideYAxis = false;\n    this.hideXAxisZero = false;\n    this.hideYAxisZero = false;\n    this.hideXGrid = false;\n    this.hideYGrid = false;\n    this.hideXAxisDomain = false;\n    this.hideYAxisDomain = false;\n    this.hideTooltip = false;\n    this.hideXAxisTicks = false;\n    this.hideYAxisTicks = false;\n    this.xAxisTickSize = 8;\n    this.xAxisTickSizeOuter = 0;\n    this.yAxisTickSize = 8;\n    this.yAxisTickSizeOuter = 0;\n    // this.hideTooltipLabel = false;\n\n    if (this.type !== 'debug') {\n      // set type defaults\n      switch (this.type) {\n        case 'low':\n          this.hideGrayBars = true;\n          this.hideXAxisTicks = true;\n          this.hideXGrid = true;\n          this.hideYAxisDomain = false;\n          this.hideYAxisTicks = true;\n          this.legendPosition = 'bottom';\n          break;\n\n        case 'medium':\n          this.hideXAxisDomain = true;\n          this.hideXGrid = true;\n          this.hideXAxisTicks = true;\n          this.hideYAxisDomain = true;\n          this.hideYAxisTicks = true;\n          this.hideYGrid = true;\n          break;\n\n        case 'high':\n          this.hideXAxis = true;\n          this.hideXAxisTicks = true;\n          this.hideXAxisDomain = true;\n          this.hideXGrid = true;\n          this.hideYAxisDomain = true;\n          this.hideYAxisTicks = true;\n          this.hideYGrid = true;\n          this.hideLegend = false;\n          this.legendPosition = 'bottom';\n          break;\n      }\n    }\n\n    // adjust margin if xAxis hidden\n    if (this.hideXAxis) this.margin.bottom = 10; // need small margin for yAxis with 0 tick label\n\n    if (!this.hideLegend && this.legendPosition === 'right') {\n      this.width = +this.width - +this.legendWidth;\n    }\n\n    // create the chart\n    this.chart = d3_select(this._element.nativeElement).attr('aria-hidden', 'true');\n\n    // create chart svg\n    this.svg = this.chart\n      .append('svg')\n      .attr('width', +this.width)\n      .attr('height', +this.height + this.margin.top + this.margin.bottom)\n      .attr('class', 'img-fluid')\n      .attr('preserveAspectRatio', 'xMinYMin meet')\n      .attr(\n        'viewBox',\n        `-${this.margin.left} -${this.margin.top} ${+this.width} ${+this.height + this.margin.top + this.margin.bottom}`\n      );\n\n    this.grayBars = this.svg.append('g').attr('class', 'gray-bars');\n    this.mouseBars = this.svg.append('g').attr('class', 'mouseover-bars');\n    this.bars = this.svg.append('g').attr('class', 'bars');\n\n    // build color ranges\n    this.colorRange = d3_scaleOrdinal().range(this._dataviz.getColors(false, this.theme));\n\n    // X AXIS\n    this.xAxisScale = d3_scaleBand()\n      .domain(this.data.map(d => d.key))\n      .rangeRound([0, this.width - this.margin.left])\n      .align(0);\n\n    // add padding to the scale for gray bars\n    !this.hideGrayBars\n      ? this.xAxisScale.paddingInner(0.1).paddingOuter(0)\n      : this.xAxisScale.paddingInner(0).paddingOuter(0);\n\n    this.xAxisCall = d3_axisBottom(this.xAxisScale)\n      .tickSize(this.xAxisTickSize)\n      .tickSizeOuter(this.xAxisTickSizeOuter)\n      .tickFormat(this.xAxisFormatter);\n\n    this.xAxis = this.svg\n      .append('g')\n      .attr('class', 'axis axis-x')\n      .attr('transform', `translate(0, ${this.height})`)\n      .classed('axis-hidden', this.hideXAxis)\n      .classed('axis-zero-hidden', this.hideXAxisZero)\n      .classed('axis-domain-hidden', this.hideXAxisDomain)\n      .classed('axis-ticks-hidden', this.hideXAxisTicks)\n      .call(this.xAxisCall);\n\n    // X GRIDLINES\n    if (!this.hideXGrid) {\n      this.xGridCall = d3_axisBottom(this.xAxisScale).tickSize(-this.height);\n\n      this.xGrid = this.svg\n        .append('g')\n        .attr('class', 'grid grid-x')\n        .classed('grid-zero-hidden', this.hideXAxisZero)\n        .attr('transform', `translate(0, ${this.height})`)\n        .call(this.xGridCall);\n    }\n\n    // KEEP: use this block to debug yAxisMax\n    // console.log(\n    //   d3_max(this.dataStack, (data: any) => {\n    //     // console.log(data);\n\n    //     return d3_max(data, (d: any) => {\n    //       // console.log('D: ', d);\n    //       return d[1];\n    //     });\n    //   })\n    // );\n\n    // Y AXIS\n    this.yAxisMax = d3_max(this.dataStack, (data: any) => {\n      return d3_max(data, (d: any) => {\n        return d[1];\n      });\n    });\n\n    this.yAxisMax = this.yAxisMax + this.yAxisMax * this.yAxisMaxBuffer;\n\n    this.yAxisScale = d3_scaleLinear()\n      .domain([0, this.yAxisMax])\n      .nice()\n      .rangeRound([this.height, 0]);\n\n    this.yAxisCall = d3_axisLeft(this.yAxisScale)\n      .ticks(this.yAxisTicks)\n      .tickSize(this.yAxisTickSize)\n      .tickSizeOuter(this.yAxisTickSizeOuter)\n      .tickFormat(this.yAxisFormatter);\n\n    this.yAxis = this.svg\n      .append('g')\n      .attr('class', 'axis axis-y')\n      .classed('axis-hidden', this.hideYAxis)\n      .classed('axis-zero-hidden', this.hideYAxisZero)\n      .classed('axis-domain-hidden', this.hideYAxisDomain)\n      .classed('axis-ticks-hidden', this.hideYAxisTicks)\n      .call(this.yAxisCall);\n\n    // Y GRIDLINES\n    if (!this.hideYGrid) {\n      this.yGridCall = d3_axisLeft(this.yAxisScale)\n        .ticks(this.yAxisTicks)\n        .tickSize(-this.width + this.margin.left + this.margin.right);\n\n      this.yGrid = this.svg\n        .append('g')\n        .attr('class', 'grid grid-y')\n        .classed('grid-zero-hidden', this.hideYAxisZero)\n        .attr('transform', `translate(0, 0)`)\n        .call(this.yGridCall);\n    }\n\n    // TOOLTIP\n    if (!this.hideTooltip) {\n      this.tooltip = d3_select('body')\n        .append('div')\n        .attr('class', 'pbds-tooltip west')\n        .style('opacity', 0)\n        .attr('aria-hidden', 'true'); // hide tooltip for accessibility\n\n      // tooltip header\n      this.tooltip.append('div').attr('class', 'tooltip-header');\n      this.tooltip.append('div').attr('class', 'tooltip-header-value');\n\n      // tooltip table\n      this.tooltip\n        .append('table')\n        .attr('class', 'tooltip-table text-left w-100')\n        .append('tbody');\n    }\n\n    // add legend classes\n    if (!this.hideLegend) {\n      this.chart.classed('pbds-chart-legend-bottom', this.legendPosition === 'bottom' ? true : false);\n      this.chart.append('ul').attr('class', `legend legend-${this.legendPosition}`);\n    }\n\n    this.updateChart();\n  }\n\n  ngOnDestroy() {\n    if (this.tooltip) this.tooltip.remove();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.data && !changes.data.firstChange) {\n      this.updateChart();\n    }\n  }\n\n  updateChart = () => {\n    this.dataKeys = Object.keys(this.data[0]).filter(item => item !== 'key');\n\n    // create the D3 stack data\n    this.dataStack = d3_stack()\n      .keys(this.dataKeys)\n      .order(d3_stackOrderNone)(this.data);\n\n    // update the xScale\n    this.xAxisScale.domain(this.data.map(d => d.key));\n\n    // update the yScale\n    this.yAxisMax = d3_max(this.dataStack, (data: any) => {\n      return d3_max(data, (d: any) => {\n        return d[1];\n      });\n    });\n\n    this.yAxisMax = this.yAxisMax + this.yAxisMax * this.yAxisMaxBuffer;\n\n    this.yAxisScale\n      .domain([0, this.yAxisMax])\n      .rangeRound([this.height, 0])\n      .nice();\n\n    this.xAxis\n      .transition()\n      .duration(0) // 1000\n      .call(this.xAxisCall);\n\n    this.yAxis\n      .transition()\n      .duration(0) // 1000\n      .call(this.yAxisCall);\n\n    // update the grids\n    if (!this.hideXGrid) {\n      this.xGrid\n        .transition()\n        .duration(0) // 1000\n        .call(this.xGridCall);\n    }\n\n    if (!this.hideYGrid) {\n      this.yGrid\n        .transition()\n        .duration(0) // 1000\n        .call(this.yGridCall);\n    }\n\n    // add gray bars\n    if (!this.hideGrayBars) {\n      this.grayBars\n        .selectAll('.gray-bar')\n        .data(this.data)\n        .join(\n          enter =>\n            enter\n              .append('rect')\n              .attr('class', 'gray-bar')\n              .attr('x', d => this.xAxisScale(d.key))\n              .attr('width', this.xAxisScale.bandwidth())\n              .attr('height', this.height),\n          update =>\n            update\n              .transition()\n              .duration(0) // 1000\n              .attr('x', d => this.xAxisScale(d.key))\n              .attr('width', this.xAxisScale.bandwidth())\n              .attr('height', this.height),\n          exit => exit.remove()\n        );\n    }\n\n    // add colored bars\n    const barGroups = this.bars\n      .selectAll('.bar-group')\n      .data(this.dataStack)\n      .join(\n        enter =>\n          enter\n            .append('g')\n            .attr('class', 'bar-group')\n            .attr('fill', d => this.colorRange(d.index)),\n        update => update.attr('fill', d => this.colorRange(d.index)),\n        exit => exit.remove()\n      );\n\n    barGroups\n      .selectAll('.bar')\n      .data(d => d)\n      .join(\n        enter =>\n          enter\n            .append('rect')\n            .attr('class', 'bar')\n            .classed('bar-divided', this.type !== 'high')\n            .classed('bar-divided-low', this.type === 'low')\n            .attr('x', (d, i) => {\n              let x;\n\n              if (this.type === 'medium') {\n                x = this.xAxisScale(d.data.key) + (this.xAxisScale.bandwidth() / 8) * 3;\n              } else {\n                x = this.xAxisScale(d.data.key) + (this.xAxisScale.bandwidth() / 4) * 1;\n              }\n\n              return x;\n            })\n            .attr('y', d => this.yAxisScale(d[1]))\n            .attr('width', 0)\n            .attr('height', 0)\n            .call(enter => {\n              let width;\n\n              if (this.type === 'medium') {\n                width = this.xAxisScale.bandwidth() / 4;\n              } else {\n                width = this.xAxisScale.bandwidth() / 2;\n              }\n\n              enter\n                .transition()\n                .duration(0) // 1000\n                .attr('width', width)\n                .attr('height', d => this.yAxisScale(d[0]) - this.yAxisScale(d[1]));\n\n              return enter;\n            }),\n        update =>\n          update.call(update => {\n            let width;\n\n            if (this.type === 'medium') {\n              width = this.xAxisScale.bandwidth() / 4;\n            } else {\n              width = this.xAxisScale.bandwidth() / 2;\n            }\n\n            update\n              .transition()\n              .duration(0) // 1000\n              .attr('width', this.xAxisScale.bandwidth() / 4)\n              .attr('x', (d, i) => this.xAxisScale(d.data.key) + (this.xAxisScale.bandwidth() / 8) * 3)\n              .attr('y', d => this.yAxisScale(d[1]))\n              .attr('height', d => this.yAxisScale(d[0]) - this.yAxisScale(d[1]));\n\n            return update;\n          }),\n\n        exit => exit.remove()\n      );\n\n    // mouseover bars\n    this.mouseBars\n      .selectAll('.mouseover-bar')\n      .data(this.data)\n      .join(\n        enter =>\n          enter\n            .append('rect')\n            .attr('class', 'mouseover-bar')\n            .style('opacity', 0)\n            .attr('x', d => this.xAxisScale(d.key))\n            .attr('width', this.xAxisScale.bandwidth())\n            .attr('height', this.height),\n        update =>\n          update\n            .attr('pointer-events', 'none')\n            .attr('x', d => this.xAxisScale(d.key))\n            .attr('width', this.xAxisScale.bandwidth())\n            .attr('height', this.height)\n            .transition()\n            .attr('pointer-events', 'auto'),\n        exit =>\n          exit\n            .transition()\n            .attr('pointer-events', 'none')\n            .remove()\n      )\n      .on('mouseover', (data, index, nodes) => this.barMouseOver(d3_event, data, index, nodes))\n      .on('mouseout', (data, index, nodes) => this.barMouseOut())\n      .on('click', (data, index, nodes) => this.barMouseClick(d3_event, data, index, nodes));\n\n    this.bars.raise();\n    this.xAxis.raise();\n    this.mouseBars.raise();\n\n    if (!this.hideLegend) {\n      // TODO: refactor to use .join() with enter, update, exit\n      const legendItem = this.chart\n        .select('.legend')\n        .selectAll('.legend-item')\n        .data(this.dataStack);\n\n      legendItem.exit().remove();\n\n      // update existing items\n      legendItem.select('.legend-label').html(d => {\n        // return this.legendLabelFormat === null ? d.label : this.legendLabelFormat(d.label);\n        switch (this.legendLabelFormatType) {\n          case 'number':\n            return this.legendLabelFormat(d.key);\n\n          case 'time':\n            const parsedTime = d3_isoParse(d.key);\n            return this.legendLabelFormat(parsedTime);\n\n          default:\n            return d.key;\n        }\n      });\n\n      // legend items on enter\n      const enterLegendItem = legendItem\n        .enter()\n        .append('li')\n        .attr('class', 'legend-item');\n\n      enterLegendItem\n        .append('span')\n        .attr('class', 'legend-key')\n        .style('background-color', d => this.colorRange(d.index));\n\n      enterLegendItem\n        .append('span')\n        .attr('class', 'legend-label')\n        .html(d => {\n          // return this.legendLabelFormat === null ? d.label : this.legendLabelFormat(d.label);\n          switch (this.legendLabelFormatType) {\n            case 'number':\n              return this.legendLabelFormat(d.key);\n\n            case 'time':\n              const parsedTime = d3_isoParse(d.key);\n              return this.legendLabelFormat(parsedTime);\n\n            default:\n              return d.key;\n          }\n        });\n\n      enterLegendItem\n        .on('mouseover', (data, index, nodes) => this.legendMouseOver(d3_event, data, index, nodes))\n        .on('mouseout', () => this.legendMouseOut())\n        .on('click', (data, index, nodes) => this.legendMouseClick(d3_event, data, index, nodes));\n    }\n  };\n\n  barMouseOver = (event, data, index, nodes) => {\n    this.chart\n      .selectAll('.bar-group')\n      .selectAll('.bar')\n      .filter((d, i) => i !== index)\n      .classed('inactive', true);\n\n    this.tooltipShow(data, index, nodes[index]);\n\n    this.hovered.emit({ event, data });\n  };\n\n  barMouseOut = () => {\n    this.chart.selectAll('.bar').classed('inactive', false);\n\n    this.tooltipHide();\n  };\n\n  barMouseClick = (event, data, index, nodes) => {\n    this.clicked.emit({ event, data });\n  };\n\n  legendMouseOver = (event, data, index, nodes) => {\n    this.chart\n      .selectAll('.legend-item')\n      .filter((d, i) => i !== index)\n      .classed('inactive', true);\n\n    this.chart\n      .selectAll('.bar-group')\n      .filter((d, i) => i !== index)\n      .classed('inactive', true);\n\n    this.hovered.emit({ event, data });\n  };\n\n  legendMouseOut = () => {\n    this.chart.selectAll('.legend-item').classed('inactive', false);\n\n    this.chart.selectAll('.bar-group').classed('inactive', false);\n\n    this.tooltipHide();\n  };\n\n  legendMouseClick = (event, data, index, nodes) => {\n    this.clicked.emit({ event, data });\n  };\n\n  private xAxisFormatter = item => {\n    switch (this.xAxisFormatType) {\n      case 'number':\n        return this.xAxisFormat(item);\n\n      case 'time':\n        const parseDate = d3_isoParse(item);\n        return this.xAxisFormat(parseDate);\n\n      default:\n        return item;\n    }\n  };\n\n  private tooltipShow = (data, index, node) => {\n    // console.log('TOOLTIP: ', data, index, node);\n\n    const scroll = this._scroll.getScrollPosition();\n    const mouserectDimensions = node.getBoundingClientRect();\n    const clientWidth = document.body.clientWidth - 10;\n    let dimensionCalculated;\n    let tooltipDimensions;\n    let tooltipOffsetHeight;\n    let yPosition;\n    let xPosition;\n\n    // console.log(scroll, mouserectDimensions, tooltipOffsetHeight, tooltipDimensions, dimensionCalculated, clientWidth);\n\n    this.tooltip.select('.tooltip-header').html(d => {\n      switch (this.tooltipHeadingFormatType) {\n        case 'time':\n          const parseDate = d3_isoParse(data.key);\n          return this.tooltipHeadingFormat(parseDate);\n\n        default:\n          return data.key;\n      }\n    });\n\n    this.tooltip.select('.tooltip-header-value').html(d => {\n      let total = 0;\n\n      Object.keys(data).map(e => {\n        if (e !== 'key') {\n          total = total + data[e];\n        }\n      });\n\n      return this.tooltipHeadingValueFormat(total);\n    });\n\n    this.tooltip\n      .select('.tooltip-table')\n      .select('tbody')\n      .html(d => {\n        let html = ``;\n        let label;\n        let value;\n\n        Object.keys(data).map((key, index) => {\n          switch (this.tooltipLabelFormatType) {\n            case 'time':\n              const parseDate = d3_isoParse(key);\n              label = this.tooltipHeadingFormat(parseDate);\n              break;\n\n            default:\n              label = key;\n          }\n\n          switch (this.tooltipValueFormatType) {\n            case 'number':\n              value = this.tooltipValueFormat(data[key]);\n              break;\n\n            default:\n              value = data[key];\n          }\n\n          if (key !== 'key') {\n            html += `\n              <tr class='tooltip-item'>\n                <td style=\"color: ${this.colorRange(index - 1)}\">\n                  <span class=\"pbds-tooltip-key\"></span>\n                </td>\n                <td class=\"tooltip-label pr-2 text-nowrap\">${label}</td>\n                <td class=\"tooltip-value text-right text-nowrap\">${value}</td>\n              </tr>\n            `;\n          }\n        });\n\n        return html;\n      });\n\n    tooltipDimensions = this.tooltip.node().getBoundingClientRect();\n    dimensionCalculated = mouserectDimensions.left + mouserectDimensions.width + tooltipDimensions.width + 8;\n    tooltipOffsetHeight = +this.tooltip.node().offsetHeight;\n\n    // flip the tooltip positions if near the right edge of the screen\n    if (dimensionCalculated > clientWidth) {\n      this.tooltip.classed('east', true);\n      this.tooltip.classed('west', false);\n\n      if (this.type === 'medium') {\n        xPosition = `${mouserectDimensions.left + (mouserectDimensions.width / 8) * 3 - tooltipDimensions.width - 8}px`;\n      } else {\n        xPosition = `${mouserectDimensions.left + (mouserectDimensions.width / 4) * 1 - tooltipDimensions.width - 8}px`;\n      }\n    } else if (dimensionCalculated < clientWidth) {\n      this.tooltip.classed('east', false);\n      this.tooltip.classed('west', true);\n\n      if (this.type === 'medium') {\n        xPosition = `${mouserectDimensions.left + (mouserectDimensions.width / 8) * 5 + 8}px`;\n      } else {\n        xPosition = `${mouserectDimensions.left + (mouserectDimensions.width / 4) * 3 + 8}px`;\n      }\n    }\n\n    yPosition = this.svg\n      .selectAll('.bar-group')\n      .filter(':last-child')\n      .selectAll('.bar')\n      .filter((d, i) => i === index)\n      .node()\n      .getBoundingClientRect();\n\n    // set the tooltip styles\n    this.tooltip.style('top', `${yPosition.top - tooltipOffsetHeight / 2 + scroll[1]}px`);\n    this.tooltip.style('left', xPosition);\n    this.tooltip.style('opacity', 1);\n  };\n\n  private tooltipHide = () => {\n    this.tooltip.style('opacity', 0);\n  };\n\n  private yAxisFormatter = item => {\n    switch (this.yAxisFormatType) {\n      case 'number':\n        return this.yAxisFormat(item);\n\n      case 'time':\n        const parseDate = d3_isoParse(item);\n        return this.yAxisFormat(parseDate);\n\n      default:\n        return item;\n    }\n  };\n}\n","import { Component, Input, HostBinding } from '@angular/core';\n\n@Component({\n  selector: 'pbds-dataviz-metric-indicator',\n  template: `\n    <span>{{ value }}</span>\n  `,\n  styles: []\n})\nexport class PbdsDatavizMetricIndicatorComponent {\n  @Input()\n  value = 0;\n\n  @Input()\n  class = '';\n\n  @Input()\n  indicator: 'flat' | 'increase' | 'decrease' = 'flat';\n\n  @Input()\n  inverse = false;\n\n  @HostBinding('class')\n  get hostClasses() {\n    return ['metric-block-indicator', this.indicator, this.inverse ? 'inverse' : '', this.class].join(' ');\n  }\n}\n","import { Component, OnInit, Input, HostBinding, ElementRef, ContentChild } from '@angular/core';\n\nimport { PbdsDatavizMetricIndicatorComponent } from './dataviz-metric-indicator.component';\n\n@Component({\n  selector: 'pbds-dataviz-metric-block',\n  template: `\n    <div class=\"metric-block-inner\">\n      <div *ngIf=\"heading\" class=\"metric-block-heading\">{{ heading }}</div>\n      <div class=\"metric-block-data-block\">\n        <div class=\"metric-block-contents\">\n          <div class=\"metric-block-value\" [ngClass]=\"{ 'mr-0': hideValueMargin }\">\n            {{ value\n            }}<span [ngClass]=\"{ 'metric-block-unit': isUnit, 'metric-block-percentage': isPercentUnit }\">{{\n              unit\n            }}</span>\n          </div>\n\n          <div>\n            <ng-content select=\"pbds-dataviz-metric-indicator\"></ng-content>\n          </div>\n          <div *ngIf=\"description\" class=\"metric-block-description\">{{ description }}</div>\n        </div>\n        <ng-content select=\"pbds-dataviz-sparkline\"></ng-content>\n      </div>\n    </div>\n  `,\n  styles: []\n})\nexport class PbdsDatavizMetricBlockComponent implements OnInit {\n  @Input()\n  class = '';\n\n  @Input()\n  heading: string = null;\n\n  @Input()\n  value = 0;\n\n  @Input()\n  unit: string = null;\n\n  @Input()\n  description: string = null;\n\n  @Input()\n  centered = false;\n\n  @Input()\n  centeredText = false;\n\n  @Input()\n  vertical = false;\n\n  hideValueMargin = false;\n  isPercentUnit = false;\n  isUnit = false;\n\n  @HostBinding('class')\n  get hostClasses() {\n    return [\n      'metric-block',\n      this.centered ? 'metric-block-centered' : '',\n      this.centeredText ? 'metric-block-centered-text' : '',\n      this.vertical ? 'metric-block-vertical' : '',\n      this.class\n    ].join(' ');\n  }\n\n  @ContentChild(PbdsDatavizMetricIndicatorComponent, { static: true }) indicatorRef: ElementRef;\n\n  ngOnInit() {\n    if (!this.indicatorRef) {\n      this.hideValueMargin = true;\n    }\n\n    if (this.unit !== '%' && this.unit !== null) {\n      this.isUnit = true;\n    } else if (this.unit === '%') {\n      this.isPercentUnit = true;\n    }\n  }\n}\n","import {\n  Component,\n  OnInit,\n  OnChanges,\n  Input,\n  Output,\n  EventEmitter,\n  ElementRef,\n  HostBinding,\n  OnDestroy,\n  SimpleChanges,\n  ChangeDetectionStrategy\n} from '@angular/core';\n\nimport { ViewportScroller } from '@angular/common';\n\nimport {\n  select as d3_select,\n  format as d3_format,\n  scaleLinear as d3_scaleLinear,\n  min as d3_min,\n  max as d3_max,\n  event as d3_event,\n  geoPath as d3_geoPath,\n  geoAlbers as d3_geoAlbers,\n  geoAlbersUsa as d3_geoAlbersUsa,\n  geoMercator as d3_geoMercator\n} from 'd3';\n\nimport * as topojson from 'topojson';\n\nimport { PbdsDatavizMapData } from './dataviz.interfaces';\n\n@Component({\n  selector: 'pbds-dataviz-bubble-map',\n  template: ``,\n  styles: [],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class DatavizBubbleMapComponent implements OnInit, OnChanges, OnDestroy {\n  @HostBinding('class.pbds-chart')\n  chartClass = true;\n\n  @HostBinding('class.pbds-chart-bubble-map')\n  bubbleMapClass = true;\n\n  @Input()\n  data: Array<PbdsDatavizMapData>;\n\n  @Input()\n  topojson;\n\n  @Input()\n  feature = '';\n\n  @Input()\n  projectionType;\n\n  @Input()\n  scale = null;\n\n  @Input()\n  center = null;\n\n  @Input()\n  width = 306;\n\n  @Input()\n  height = 400;\n\n  @Input()\n  type: 'medium' | 'high' | 'debug' = 'medium'; // debug to show all chart options\n\n  @Input()\n  dot = false;\n\n  @Input()\n  marginTop = 0;\n\n  @Input()\n  marginRight = 0;\n\n  @Input()\n  marginBottom = 0;\n\n  @Input()\n  marginLeft = 0;\n\n  @Input()\n  color = '#ef8200';\n\n  @Input()\n  textColor = '#fff';\n\n  @Input()\n  textSizeRange = [14, 24];\n\n  @Input()\n  dotSize = 4;\n\n  @Input()\n  bubbleSizeRange = [500, 2000];\n\n  @Input()\n  bubbleLabelFormatType: 'number' = null;\n\n  @Input()\n  bubbleLabelFormatString = '';\n\n  @Input()\n  hideTooltip = false;\n\n  @Input()\n  hideTooltipValue = false;\n\n  @Input()\n  tooltipValueFormatType: 'number' = null;\n\n  @Input()\n  tooltipValueFormatString = '';\n\n  @Output()\n  hovered: EventEmitter<object> = new EventEmitter<object>();\n\n  @Output()\n  clicked: EventEmitter<object> = new EventEmitter<object>();\n\n  private projection;\n  private geoPath;\n  private topojsonFeature;\n  private chart;\n  private svg;\n  private margin;\n  private bubbleContainer;\n  private bubbleRadius;\n  private fontRange;\n  private bubbleLabelFormat;\n  private tooltip;\n  private tooltipValueFormat;\n\n  constructor(private _element: ElementRef, private _scroll: ViewportScroller) {}\n\n  ngOnInit() {\n    this.margin = {\n      top: +this.marginTop,\n      right: +this.marginRight,\n      bottom: +this.marginBottom,\n      left: +this.marginLeft\n    };\n\n    if (this.type !== 'debug') {\n      // set type defaults\n      switch (this.type) {\n        case 'medium':\n          break;\n\n        case 'high':\n          break;\n      }\n    }\n\n    switch (this.projectionType) {\n      case 'geoAlbers':\n        this.projection = d3_geoAlbers();\n        break;\n\n      case 'geoAlbersUsa':\n        this.projection = d3_geoAlbersUsa();\n        break;\n\n      case 'geoMercator':\n        this.projection = d3_geoMercator();\n        break;\n\n      default:\n        break;\n    }\n\n    switch (this.bubbleLabelFormatType) {\n      case 'number':\n        this.bubbleLabelFormat = d3_format(this.bubbleLabelFormatString);\n        break;\n\n      default:\n        this.bubbleLabelFormat = null;\n        break;\n    }\n\n    switch (this.tooltipValueFormatType) {\n      case 'number':\n        this.tooltipValueFormat = d3_format(this.tooltipValueFormatString);\n        break;\n\n      default:\n        this.tooltipValueFormat = null;\n    }\n\n    // console.log('TOPOJSON: ', this.topojson);\n\n    this.topojsonFeature = topojson.feature(this.topojson, this.topojson.objects[this.feature]);\n    this.projection.fitSize([+this.width, +this.height], this.topojsonFeature);\n\n    // console.log('TOPOJSON FEATURE: ', this.topojsonFeature);\n    // console.log('MESH: ', topojson.mesh(this.topojson, this.topojson.objects[this.feature], (a, b) => a !== b));\n    // console.log('DATA: ', this.data);\n\n    if (this.scale) {\n      this.projection.scale(+this.scale);\n    }\n\n    if (this.center) {\n      this.projection.center(this.center);\n    }\n\n    this.geoPath = d3_geoPath().projection(this.projection);\n\n    // bubble radius range\n    if (this.data && !this.dot) {\n      this.bubbleRadius = d3_scaleLinear()\n        .range(this.bubbleSizeRange)\n        .domain([d3_min(this.data, (d: any) => +d.value), d3_max(this.data, (d: any) => +d.value)]);\n\n      // font range\n      this.fontRange = d3_scaleLinear()\n        .range(this.textSizeRange)\n        .domain([d3_min(this.data, (d: any) => +d.value), d3_max(this.data, (d: any) => +d.value)]);\n    }\n\n    // TOOLTIP\n    if (!this.hideTooltip) {\n      this.tooltip = d3_select('body')\n        .append('div')\n        .attr('class', 'pbds-tooltip south')\n        .style('opacity', 0)\n        .attr('aria-hidden', 'true'); // hide tooltip for accessibility\n\n      // tooltip header\n      this.tooltip.append('div').attr('class', 'tooltip-header');\n      if (!this.hideTooltipValue) this.tooltip.append('div').attr('class', 'tooltip-value');\n    }\n\n    // create the chart\n    this.chart = d3_select(this._element.nativeElement).attr('aria-hidden', 'true');\n\n    // create chart svg\n    this.svg = this.chart\n      .append('svg')\n      .attr('width', +this.width + this.margin.left + this.margin.right)\n      .attr('height', +this.height + this.margin.top + this.margin.bottom)\n      .attr('class', 'img-fluid')\n      .attr('preserveAspectRatio', 'xMinYMin meet')\n      .attr(\n        'viewBox',\n        `-${this.margin.left} -${this.margin.top} ${+this.width + this.margin.left + this.margin.right} ${+this.height +\n          this.margin.top +\n          this.margin.bottom}`\n      )\n      .append('g')\n      .attr('class', 'container');\n\n    // map\n    this.svg\n      .append('g')\n      .attr('class', 'map')\n      .selectAll('path')\n      .data(this.topojsonFeature.features)\n      .enter()\n      .append('path')\n      .attr('class', 'feature')\n      .attr('d', this.geoPath);\n\n    // borders\n    this.svg\n      .append('path')\n      .attr('class', 'mesh')\n      .datum(topojson.mesh(this.topojson, this.topojson.objects[this.feature], (a, b) => a !== b))\n      .attr('d', this.geoPath);\n\n    this.bubbleContainer = this.svg\n      .append('g')\n      .attr('class', 'dots')\n      .style('color', this.color);\n\n    this.updateChart();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.data && !changes.data.firstChange) {\n      this.updateChart();\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.tooltip) this.tooltip.remove();\n  }\n\n  updateChart = () => {\n    // bubbles\n\n    this.bubbleContainer\n      .selectAll('circle')\n      .data(this.data)\n      .join(\n        enter =>\n          enter\n            .append('circle')\n            .attr('class', 'dot-circle')\n            .classed('solid', this.dot)\n            .attr('cx', d => this.projection([d.longitude, d.latitude])[0])\n            .attr('cy', d => this.projection([d.longitude, d.latitude])[1])\n            .attr('r', d => (!this.dot ? Math.sqrt(this.bubbleRadius(d.value)) : `${this.dotSize}px`)),\n        update =>\n          update\n            .transition()\n            .duration(1000)\n            .attr('cx', d => this.projection([d.longitude, d.latitude])[0])\n            .attr('cy', d => this.projection([d.longitude, d.latitude])[1])\n            .attr('r', d => (!this.dot ? Math.sqrt(this.bubbleRadius(d.value)) : `${this.dotSize}px`))\n            .transition()\n            .attr('pointer-events', 'auto'),\n        exit =>\n          exit\n            .transition()\n            .attr('pointer-events', 'none')\n            .remove()\n      );\n\n    if (!this.hideTooltip) {\n      this.bubbleContainer\n        .selectAll('circle')\n        .on('mouseover', (data, index, nodes) => this.bubbleMouseOver(d3_event, data, index, nodes))\n        .on('mouseout', (data, index, nodes) => this.bubbleMouseOut(d3_event, data, index, nodes))\n        .on('click', (data, index, nodes) => this.bubbleMouseClick(d3_event, data, index, nodes));\n\n      // bubble text\n      if (this.type !== 'high' && !this.dot) {\n        this.bubbleContainer\n          .selectAll('text')\n          .data(this.data)\n          .join(\n            enter =>\n              enter\n                .append('text')\n                .text(d => (this.bubbleLabelFormat ? this.bubbleLabelFormat(d.value) : d.value))\n                .attr('class', 'dot-text')\n                .style('fill', this.textColor)\n                .style('font-size', d => `${Math.round(this.fontRange(d.value))}px`)\n                .attr('x', d => this.projection([d.longitude, d.latitude])[0])\n                .attr('y', d => this.projection([d.longitude, d.latitude])[1])\n                .attr('dy', '.4em'),\n            update =>\n              update\n                .attr('pointer-events', 'none')\n                .transition()\n                .duration(1000)\n                .text(d => (this.bubbleLabelFormat ? this.bubbleLabelFormat(d.value) : d.value))\n                .style('font-size', d => `${Math.round(this.fontRange(d.value))}px`)\n                .attr('x', d => this.projection([d.longitude, d.latitude])[0])\n                .attr('y', d => this.projection([d.longitude, d.latitude])[1])\n                .attr('dy', '.4em')\n                .transition()\n                .attr('pointer-events', 'auto'),\n            exit =>\n              exit\n                .transition()\n                .attr('pointer-events', 'none')\n                .remove()\n          );\n      }\n    }\n  };\n\n  bubbleMouseOver = (event, data, index, nodes) => {\n    this.chart\n      .selectAll('.dot-circle')\n      .filter((d, i) => i !== index)\n      .classed('inactive', true);\n\n    this.chart\n      .selectAll('.dot-circle')\n      .filter((d, i) => i === index)\n      .classed('active', true);\n\n    this.tooltipShow(data, nodes[index]);\n\n    this.hovered.emit({ event, data });\n  };\n\n  bubbleMouseOut = (event, data, index, nodes) => {\n    this.chart\n      .selectAll('.dot-circle')\n      .classed('active', false)\n      .classed('inactive', false);\n\n    this.tooltipHide();\n  };\n\n  bubbleMouseClick = (event, data, index, nodes) => {\n    this.clicked.emit({ event, data });\n  };\n\n  private tooltipShow = (data, node) => {\n    const dimensions = node.getBoundingClientRect();\n    const scroll = this._scroll.getScrollPosition();\n\n    this.tooltip.select('.tooltip-header').html(d => `${data.label}`);\n\n    if (!this.hideTooltipValue) {\n      this.tooltip\n        .select('.tooltip-value')\n        .html(d => (this.tooltipValueFormat ? `${this.tooltipValueFormat(data.value)}` : `${data.value}`));\n    }\n\n    const tooltipOffsetWidth = +this.tooltip.node().offsetWidth / 2;\n    const tooltipOffsetHeight = +this.tooltip.node().offsetHeight + 8;\n\n    this.tooltip.style('top', `${+scroll[1] + +dimensions.top - tooltipOffsetHeight}px`); //\n    this.tooltip.style('left', `${+scroll[0] + +dimensions.left - tooltipOffsetWidth + +dimensions.width / 2}px`);\n    this.tooltip.style('opacity', 1);\n  };\n\n  private tooltipHide = () => {\n    this.tooltip.style('opacity', 0);\n  };\n}\n","import {\n  Component,\n  OnInit,\n  OnChanges,\n  OnDestroy,\n  HostBinding,\n  Input,\n  Output,\n  ElementRef,\n  SimpleChanges,\n  EventEmitter,\n  ChangeDetectionStrategy\n} from '@angular/core';\n\nimport { ViewportScroller } from '@angular/common';\n\nimport { PbdsDatavizHeatmap } from './dataviz.interfaces';\nimport { PbdsDatavizService } from './dataviz.service';\n\nimport {\n  select as d3_select,\n  isoParse as d3_isoParse,\n  timeFormat as d3_timeFormat,\n  format as d3_format,\n  scaleBand as d3_scaleBand,\n  scaleThreshold as d3_scaleThreshold,\n  scaleQuantile as d3_scaleQuantile,\n  scaleQuantize as d3_scaleQuantize,\n  min as d3_min,\n  max as d3_max,\n  axisBottom as d3_axisBottom,\n  axisLeft as d3_axisLeft,\n  event as d3_event\n} from 'd3';\n\n@Component({\n  selector: 'pbds-dataviz-heatmap',\n  template: ``,\n  styles: [],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class PbdsDatavizHeatmapComponent implements OnInit, OnChanges, OnDestroy {\n  @HostBinding('class.pbds-chart')\n  chartClass = true;\n\n  @HostBinding('class.pbds-chart-heatmap')\n  heatmapClass = true;\n\n  @Input()\n  data: Array<PbdsDatavizHeatmap>;\n\n  @Input()\n  width = 306;\n\n  @Input()\n  height = 400;\n\n  @Input()\n  marginTop = 0; // hardcoded on purpose, do not document until feedback\n\n  @Input()\n  marginRight = 0; // hardcoded on purpose, do not document until feedback\n\n  @Input()\n  marginBottom = 30; // hardcoded on purpose, do not document until feedback\n\n  @Input()\n  marginLeft = 55;\n\n  @Input()\n  scale: 'threshold' | 'quantile' | 'quantize' = 'quantile';\n\n  @Input()\n  domain: Array<number>;\n\n  @Input()\n  xAxisFormatType: 'number' | 'time' = null;\n\n  @Input()\n  xAxisFormatString = '';\n\n  @Input()\n  yAxisFormatType: 'number' | 'time' = null;\n\n  @Input()\n  yAxisFormatString = '';\n\n  @Input()\n  hideLegend = false;\n\n  @Input()\n  legendWidth = 105 + 28; // hardcoded legend width + left margin, do not document until feedback\n\n  @Input()\n  legendPosition: 'right' | 'bottom' = 'right';\n\n  @Input()\n  legendLabelFormatType: 'number' = null;\n\n  @Input()\n  legendLabelFormatString = '';\n\n  @Input()\n  tooltipXLabelFormatType: 'number' | 'time' = null;\n\n  @Input()\n  tooltipXLabelFormatString = '';\n\n  @Input()\n  tooltipYLabelFormatType: 'number' | 'time' = null;\n\n  @Input()\n  tooltipYLabelFormatString = '';\n\n  @Input()\n  tooltipValueFormatType: 'number' = null;\n\n  @Input()\n  tooltipValueFormatString = '';\n\n  @Input()\n  theme: 'classic' | 'ocean' | 'sunset' | 'twilight' = 'classic';\n\n  @Output()\n  hovered: EventEmitter<object> = new EventEmitter<object>();\n\n  @Output()\n  clicked: EventEmitter<object> = new EventEmitter<object>();\n\n  private chart;\n  private svg;\n  private margin;\n  private colorRange;\n  private colorDomain;\n  private xAxisScale;\n  private xAxisCall;\n  private xAxis;\n  private xAxisFormat;\n  private xAxisTickSize: number;\n  private xAxisTickSizeOuter: number;\n  private hideXAxisDomain: boolean;\n  private hideXAxisZero: boolean;\n  private hideXAxisTicks: boolean;\n  private hideXAxis: boolean;\n  private yAxis;\n  private yAxisFormat;\n  private yAxisTickSize;\n  private yAxisTickSizeOuter;\n  private yAxisScale;\n  private yAxisCall;\n  private hideYAxis: boolean;\n  private hideYAxisDomain: boolean;\n  private hideYAxisZero: boolean;\n  private hideYAxisTicks: boolean;\n  private legendLabelFormat;\n  private tooltip;\n  private tooltipYLabelFormat;\n  private tooltipXLabelFormat;\n  private hideTooltip;\n  private tooltipValueFormat;\n\n  constructor(private _dataviz: PbdsDatavizService, private _element: ElementRef, private _scroll: ViewportScroller) {}\n\n  ngOnInit() {\n    this.margin = {\n      top: +this.marginTop,\n      right: +this.marginRight,\n      bottom: +this.marginBottom,\n      left: +this.marginLeft\n    };\n\n    switch (this.yAxisFormatType) {\n      case 'number':\n        this.yAxisFormat = d3_format(this.yAxisFormatString);\n        break;\n      case 'time':\n        this.yAxisFormat = d3_timeFormat(this.yAxisFormatString);\n        break;\n      default:\n        this.yAxisFormat = null;\n        break;\n    }\n\n    switch (this.xAxisFormatType) {\n      case 'number':\n        this.xAxisFormat = d3_format(this.xAxisFormatString);\n        break;\n      case 'time':\n        this.xAxisFormat = d3_timeFormat(this.xAxisFormatString);\n        break;\n      default:\n        this.xAxisFormat = null;\n        break;\n    }\n\n    switch (this.legendLabelFormatType) {\n      case 'number':\n        this.legendLabelFormat = d3_format(this.legendLabelFormatString);\n        break;\n      default:\n        this.legendLabelFormat = null;\n        break;\n    }\n\n    switch (this.tooltipYLabelFormatType) {\n      case 'number':\n        this.tooltipYLabelFormat = d3_format(this.tooltipYLabelFormatString);\n        break;\n      case 'time':\n        this.tooltipYLabelFormat = d3_timeFormat(this.tooltipYLabelFormatString);\n        break;\n      default:\n        this.tooltipYLabelFormat = null;\n        break;\n    }\n\n    switch (this.tooltipXLabelFormatType) {\n      case 'number':\n        this.tooltipXLabelFormat = d3_format(this.tooltipXLabelFormatString);\n        break;\n      case 'time':\n        this.tooltipXLabelFormat = d3_timeFormat(this.tooltipXLabelFormatString);\n        break;\n      default:\n        this.tooltipXLabelFormat = null;\n        break;\n    }\n\n    switch (this.tooltipValueFormatType) {\n      case 'number':\n        this.tooltipValueFormat = d3_format(this.tooltipValueFormatString);\n        break;\n      default:\n        this.tooltipValueFormat = null;\n    }\n\n    // defaults for all chart types\n    this.hideXAxis = false;\n    this.hideXAxisZero = false;\n    this.hideXAxisDomain = true;\n    this.hideYAxisDomain = true;\n    this.hideTooltip = false;\n    this.hideXAxisTicks = true;\n    this.hideYAxisTicks = true;\n    this.xAxisTickSize = 8;\n    this.xAxisTickSizeOuter = 0;\n    this.yAxisTickSize = 8;\n    this.yAxisTickSizeOuter = 0;\n\n    // create the chart\n    this.chart = d3_select(this._element.nativeElement).attr('aria-hidden', 'true');\n\n    // create chart svg\n    this.svg = this.chart\n      .append('svg')\n      .attr('width', +this.width)\n      .attr('height', +this.height + this.margin.top + this.margin.bottom)\n      .attr('class', 'img-fluid')\n      .attr('preserveAspectRatio', 'xMinYMin meet')\n      .attr(\n        'viewBox',\n        `-${this.margin.left} -${this.margin.top} ${+this.width} ${+this.height + this.margin.top + this.margin.bottom}`\n      );\n\n    // color range\n    const colors = this._dataviz\n      .getColors(true, this.theme)\n      .slice()\n      .reverse();\n\n    const colorDomain: any = [\n      +d3_min(this.data, (d: PbdsDatavizHeatmap) => d.value),\n      +d3_max(this.data, (d: PbdsDatavizHeatmap) => d.value)\n    ];\n    const colorValues = this.data.map(d => d.value);\n\n    switch (this.scale) {\n      case 'threshold':\n        this.colorRange = d3_scaleThreshold()\n          .domain(this.domain)\n          .range(colors);\n\n        this.colorDomain = this.colorRange.domain();\n        break;\n\n      case 'quantile':\n        this.colorRange = d3_scaleQuantile()\n          .domain(colorValues)\n          .range(colors);\n\n        this.colorDomain = this.colorRange.quantiles();\n        break;\n\n      case 'quantize':\n        this.colorRange = d3_scaleQuantize()\n          .domain(colorDomain)\n          .range(colors);\n\n        this.colorDomain = this.colorRange.thresholds();\n        break;\n    }\n\n    // console.log(colors, colorDomain, colorValues, this.scale, this.colorRange, this.colorDomain);\n\n    // define axis labels\n    const xAxisLabels: any = [...new Set(this.data.map(d => d.xLabel))];\n    const yAxisLabels: any = [...new Set(this.data.map(d => d.yLabel))].reverse();\n\n    // X axis\n    this.xAxisScale = d3_scaleBand()\n      .domain(xAxisLabels)\n      .rangeRound([0, this.width - this.margin.left])\n      .paddingInner(0.1);\n\n    this.xAxisCall = d3_axisBottom(this.xAxisScale)\n      .tickSize(this.xAxisTickSize)\n      .tickSizeOuter(this.xAxisTickSizeOuter)\n      .tickFormat(this.xAxisFormatter);\n\n    this.xAxis = this.svg\n      .append('g')\n      .attr('class', 'axis axis-x')\n      .attr('transform', `translate(0, ${this.height})`)\n      .classed('axis-hidden', this.hideXAxis)\n      .classed('axis-zero-hidden', this.hideXAxisZero)\n      .classed('axis-domain-hidden', this.hideXAxisDomain)\n      .classed('axis-ticks-hidden', this.hideXAxisTicks)\n      .call(this.xAxisCall);\n\n    // Y axis\n    this.yAxisScale = d3_scaleBand()\n      .domain(yAxisLabels)\n      .rangeRound([this.height, 0])\n      .paddingInner(0.1);\n\n    this.yAxisCall = d3_axisLeft(this.yAxisScale)\n      .tickSize(this.yAxisTickSize)\n      .tickSizeOuter(this.yAxisTickSizeOuter)\n      .tickFormat(this.yAxisFormatter);\n\n    this.yAxis = this.svg\n      .append('g')\n      .attr('class', 'axis axis-y')\n      .classed('axis-hidden', this.hideYAxis)\n      .classed('axis-zero-hidden', this.hideYAxisZero)\n      .classed('axis-domain-hidden', this.hideYAxisDomain)\n      .classed('axis-ticks-hidden', this.hideYAxisTicks)\n      .call(this.yAxisCall);\n\n    // TOOLTIP\n    if (!this.hideTooltip) {\n      this.tooltip = d3_select('body')\n        .append('div')\n        .attr('class', 'pbds-tooltip south')\n        .style('opacity', 0)\n        .attr('aria-hidden', 'true'); // hide tooltip for accessibility\n    }\n\n    // add legend classes\n    if (!this.hideLegend) {\n      this.chart.classed('pbds-chart-legend-bottom', this.legendPosition === 'bottom' ? true : false);\n      this.chart.append('ul').attr('class', `legend legend-${this.legendPosition}`);\n    }\n\n    this.updateChart();\n  }\n\n  ngOnDestroy() {\n    if (this.tooltip) this.tooltip.remove();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.data && !changes.data.firstChange) {\n      this.updateChart();\n    }\n  }\n\n  updateChart = () => {\n    this.svg\n      .selectAll('rect')\n      .data(this.data)\n      .join(\n        enter =>\n          enter\n            .append('rect')\n            .attr('class', 'block')\n            .classed('empty', d => d.value === undefined || d.value === null)\n            .attr('x', d => this.xAxisScale(d.xLabel))\n            .attr('y', d => this.yAxisScale(d.yLabel))\n            .attr('width', this.xAxisScale.bandwidth())\n            .attr('height', this.yAxisScale.bandwidth())\n            .style('fill', d => this.colorRange(d.value)),\n        update =>\n          update.call(update => {\n            update\n              .classed('empty', d => d.value === undefined || d.value === null)\n              .attr('pointer-events', 'none')\n              .transition()\n              .duration(1000)\n              .attr('x', d => this.xAxisScale(d.xLabel))\n              .attr('y', d => this.yAxisScale(d.yLabel))\n              .attr('width', this.xAxisScale.bandwidth())\n              .attr('height', this.yAxisScale.bandwidth())\n              .style('fill', d => this.colorRange(d.value))\n              .transition()\n              .attr('pointer-events', 'auto');\n\n            return update;\n          }),\n        exit =>\n          exit\n            .transition()\n            .attr('pointer-events', 'none')\n            .remove()\n      )\n      .on('mouseover', (data, index, nodes) => this.blockMouseOver(d3_event, data, index, nodes))\n      .on('mouseout', (data, index, nodes) => this.blockMouseOut())\n      .on('click', (data, index, nodes) => this.blockMouseClick(d3_event, data, index, nodes));\n\n    if (!this.hideLegend) {\n      this.chart\n        .select('.legend')\n        .selectAll('.legend-item')\n        .data(this.colorDomain)\n        .join(\n          enter => {\n            const li = enter.append('li').attr('class', 'legend-item');\n\n            li.append('span')\n              .attr('class', 'legend-key')\n              .style('background-color', d => this.colorRange(d));\n\n            li.append('span')\n              .attr('class', 'legend-label')\n              .html(d => {\n                let label: string = d;\n\n                switch (this.legendLabelFormatType) {\n                  case 'number':\n                    label = this.legendLabelFormat(d);\n                    break;\n                }\n\n                return `&ge; ${label}`;\n              });\n\n            return li;\n          },\n          update =>\n            update.select('.legend-label').html(d => {\n              let label: string = d;\n\n              switch (this.legendLabelFormatType) {\n                case 'number':\n                  label = this.legendLabelFormat(d);\n                  break;\n              }\n\n              return `&ge; ${label}`;\n            }),\n          exit => exit.remove()\n        )\n        .on('mouseover', (data, index, nodes) => this.legendMouseOver(d3_event, data, index, nodes))\n        .on('mouseout', () => this.legendMouseOut())\n        .on('click', (data, index, nodes) => this.legendMouseClick(d3_event, data, index, nodes));\n    }\n  };\n\n  blockMouseOver = (event, data, index, nodes) => {\n    // console.log(data.value, event, data, index, nodes);\n\n    if (data.value !== null) {\n      this.tooltipShow(data, index, nodes[index]);\n    }\n\n    this.hovered.emit({ event, data });\n  };\n\n  blockMouseOut = () => {\n    this.tooltipHide();\n  };\n\n  blockMouseClick = (event, data, index, nodes) => {\n    this.clicked.emit({ event, data });\n  };\n\n  legendMouseOver = (event, data, index, nodes) => {\n    this.chart\n      .selectAll('.legend-item')\n      .filter((d, i) => i !== index)\n      .classed('inactive', true);\n\n    this.chart\n      .selectAll('.block')\n      .filter((d, i) => {\n        if (index + 1 === nodes.length) {\n          return d.value < data;\n        } else {\n          return d.value < data || d.value >= +d3_select(nodes[index + 1]).data()[0];\n        }\n      })\n      .classed('inactive', true);\n\n    this.hovered.emit({ event, data });\n  };\n\n  legendMouseOut = () => {\n    this.chart.selectAll('.legend-item').classed('inactive', false);\n\n    this.chart.selectAll('.block').classed('inactive', false);\n  };\n\n  legendMouseClick = (event, data, index, nodes) => {\n    this.clicked.emit({ event, data });\n  };\n\n  private tooltipShow = (data, index, node) => {\n    // console.log('TOOLTIP: ', data, index, node);\n\n    const dimensions = node.getBoundingClientRect();\n    const scroll = this._scroll.getScrollPosition();\n    let yLabel;\n    let xLabel;\n\n    switch (this.tooltipYLabelFormatType) {\n      case 'number':\n        yLabel = this.tooltipYLabelFormat(data.yLabel);\n        break;\n\n      case 'time':\n        const parsedTime = d3_isoParse(data.yLabel);\n        yLabel = this.tooltipYLabelFormat(parsedTime);\n        break;\n\n      default:\n        yLabel = `${data.yLabel}${this.tooltipYLabelFormatString}`;\n    }\n\n    switch (this.tooltipXLabelFormatType) {\n      case 'number':\n        xLabel = this.tooltipXLabelFormat(data.xLabel);\n        break;\n\n      case 'time':\n        const parsedTime = d3_isoParse(data.xLabel);\n        xLabel = this.tooltipXLabelFormat(parsedTime);\n        break;\n\n      default:\n        xLabel = `${data.xLabel}${this.tooltipXLabelFormatString}`;\n    }\n\n    const value =\n      this.tooltipValueFormat === null\n        ? `<div class=\"tooltip-value\">${data.value}</div>`\n        : `<div class=\"tooltip-value\">${this.tooltipValueFormat(data.value)}</div>`;\n\n    this.tooltip.html(\n      `\n        ${yLabel} : ${xLabel}<br>\n        ${value}\n      `\n    );\n\n    const tooltipOffsetWidth = +this.tooltip.node().offsetWidth / 2;\n    const tooltipOffsetHeight = +this.tooltip.node().offsetHeight + 8;\n\n    this.tooltip.style('top', `${+scroll[1] + +dimensions.top - tooltipOffsetHeight}px`); //\n    this.tooltip.style('left', `${+scroll[0] + +dimensions.left - tooltipOffsetWidth + +dimensions.width / 2}px`);\n    this.tooltip.style('opacity', 1);\n\n    this.tooltip.style('opacity', 1);\n  };\n\n  private tooltipHide = () => {\n    this.tooltip.style('opacity', 0);\n  };\n\n  private xAxisFormatter = item => {\n    switch (this.xAxisFormatType) {\n      case 'number':\n        return this.xAxisFormat(item);\n\n      case 'time':\n        const parseDate = d3_isoParse(item);\n        return this.xAxisFormat(parseDate);\n\n      default:\n        return item;\n    }\n  };\n\n  private yAxisFormatter = item => {\n    switch (this.yAxisFormatType) {\n      case 'number':\n        return this.yAxisFormat(item);\n\n      case 'time':\n        const parseDate = d3_isoParse(item);\n        return this.yAxisFormat(parseDate);\n\n      default:\n        return item;\n    }\n  };\n}\n","import {\n  Component,\n  OnInit,\n  OnChanges,\n  Input,\n  Output,\n  EventEmitter,\n  ElementRef,\n  HostBinding,\n  OnDestroy,\n  SimpleChanges,\n  ChangeDetectionStrategy\n} from '@angular/core';\n\nimport { ViewportScroller } from '@angular/common';\n\nimport {\n  select as d3_select,\n  format as d3_format,\n  scaleLinear as d3_scaleLinear,\n  axisBottom as d3_axisBottom,\n  range as d3_range,\n  min as d3_min,\n  max as d3_max,\n  event as d3_event,\n  mouse as d3_mouse,\n  geoPath as d3_geoPath,\n  geoAlbers as d3_geoAlbers,\n  geoAlbersUsa as d3_geoAlbersUsa,\n  geoMercator as d3_geoMercator,\n  scaleThreshold as d3_scaleThreshold,\n  scaleQuantile as d3_scaleQuantile,\n  scaleQuantize as d3_scaleQuantize\n} from 'd3';\n\nimport * as topojson from 'topojson';\nimport { PbdsDatavizService } from './dataviz.service';\n\nimport { PbdsDatavizChoroplethMapData } from './dataviz.interfaces';\n\n@Component({\n  selector: 'pbds-dataviz-choropleth-map',\n  template: ``,\n  styles: [],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class PbdsDatavizChoroplethMapComponent implements OnInit, OnDestroy, OnChanges {\n  @HostBinding('class.pbds-chart')\n  chartClass = true;\n\n  @HostBinding('class.pbds-chart-choropleth-map')\n  choroplethMapClass = true;\n\n  @Input()\n  data: Array<PbdsDatavizChoroplethMapData>;\n\n  @Input()\n  topojson;\n\n  @Input()\n  feature = '';\n\n  @Input()\n  projectionType;\n\n  @Input()\n  dataField = 'id';\n\n  @Input()\n  mesh: string | null = null;\n\n  @Input()\n  scale = null;\n\n  @Input()\n  center = null;\n\n  @Input()\n  width = 960;\n\n  @Input()\n  height = 500;\n\n  @Input()\n  marginTop = 0;\n\n  @Input()\n  marginRight = 0;\n\n  @Input()\n  marginBottom = 0;\n\n  @Input()\n  marginLeft = 0;\n\n  @Input()\n  theme: 'classic' | 'ocean' | 'sunset' | 'twilight' = 'classic';\n\n  @Input()\n  colorScale: 'threshold' | 'quantile' | 'quantize' = 'quantile';\n\n  @Input()\n  domain: Array<number>;\n\n  @Input()\n  hideTooltip = false;\n\n  @Input()\n  tooltipValueFormatType: 'number' = null;\n\n  @Input()\n  tooltipValueFormatString = '';\n\n  @Input()\n  hideLegend = false;\n\n  @Input()\n  legendWidth = 260;\n\n  @Input()\n  legendLabel: string | null = null;\n\n  @Input()\n  legendValueFormatType: 'number' = null;\n\n  @Input()\n  legendValueFormatString = '';\n\n  @Input()\n  legendLeft = 20;\n\n  @Input()\n  legendTop = 20;\n\n  @Output()\n  hovered: EventEmitter<object> = new EventEmitter<object>();\n\n  @Output()\n  clicked: EventEmitter<object> = new EventEmitter<object>();\n\n  private projection;\n  private geoPath;\n  private topojsonFeature;\n  private chart;\n  private svg;\n  private margin;\n  private colorRange;\n  private colorDomain;\n  private tooltip;\n  private tooltipValueFormat;\n  private legendValueFormat;\n\n  constructor(private _dataviz: PbdsDatavizService, private _element: ElementRef, private _scroll: ViewportScroller) {}\n\n  ngOnInit() {\n    this.margin = {\n      top: +this.marginTop,\n      right: +this.marginRight,\n      bottom: +this.marginBottom,\n      left: +this.marginLeft\n    };\n\n    // color range\n    const colors = this._dataviz\n      .getColors(true, this.theme)\n      .slice()\n      .reverse();\n\n    const colorDomain: any = [+d3_min(this.data, d => d.value), +d3_max(this.data, d => d.value)];\n    const colorValues = this.data.map(d => d.value);\n\n    switch (this.colorScale) {\n      case 'threshold':\n        this.colorRange = d3_scaleThreshold()\n          .domain(this.domain)\n          .range(colors);\n\n        this.colorDomain = this.colorRange.domain();\n        break;\n\n      case 'quantile':\n        this.colorRange = d3_scaleQuantile()\n          .domain(colorValues)\n          .range(colors);\n\n        this.colorDomain = this.colorRange.quantiles();\n        break;\n\n      case 'quantize':\n        this.colorRange = d3_scaleQuantize()\n          .domain(colorDomain)\n          .range(colors);\n\n        this.colorDomain = this.colorRange.thresholds();\n        break;\n    }\n\n    switch (this.tooltipValueFormatType) {\n      case 'number':\n        this.tooltipValueFormat = d3_format(this.tooltipValueFormatString);\n        break;\n\n      default:\n        this.tooltipValueFormat = null;\n    }\n\n    switch (this.legendValueFormatType) {\n      case 'number':\n        this.legendValueFormat = d3_format(this.legendValueFormatString);\n        break;\n\n      default:\n        this.tooltipValueFormat = null;\n    }\n\n    switch (this.projectionType) {\n      case 'geoAlbers':\n        this.projection = d3_geoAlbers();\n        break;\n\n      case 'geoAlbersUsa':\n        this.projection = d3_geoAlbersUsa();\n        break;\n\n      case 'geoMercator':\n        this.projection = d3_geoMercator();\n        break;\n    }\n\n    this.topojsonFeature = topojson.feature(this.topojson, this.topojson.objects[this.feature]);\n    this.projection.fitSize([+this.width, +this.height], this.topojsonFeature);\n\n    if (this.scale) {\n      this.projection.scale(+this.scale);\n    }\n\n    if (this.center) {\n      this.projection.center(this.center);\n    }\n\n    this.geoPath = d3_geoPath().projection(this.projection);\n\n    // console.log('TOPOJSON: ', this.topojson);\n    // console.log('TOPOJSON FEATURE: ', this.topojsonFeature);\n    // console.log('MESH: ', topojson.mesh(this.topojson, this.topojson.objects[this.feature], (a, b) => a !== b));\n    // console.log('DATA: ', this.data);\n\n    // create the chart\n    this.chart = d3_select(this._element.nativeElement).attr('aria-hidden', 'true');\n\n    // TOOLTIP\n    if (!this.hideTooltip) {\n      this.tooltip = d3_select('body')\n        .append('div')\n        .attr('class', 'pbds-tooltip south')\n        .style('opacity', 0)\n        .attr('aria-hidden', 'true'); // hide tooltip for accessibility\n\n      // tooltip header\n      this.tooltip.append('div').attr('class', 'tooltip-header');\n      this.tooltip.append('div').attr('class', 'tooltip-value');\n    }\n\n    // create chart svg\n    this.svg = this.chart\n      .append('svg')\n      .attr('width', +this.width)\n      .attr('height', +this.height + this.margin.top + this.margin.bottom)\n      .attr('class', 'img-fluid')\n      .attr('preserveAspectRatio', 'xMinYMin meet')\n      .attr(\n        'viewBox',\n        `-${this.margin.left} -${this.margin.top} ${+this.width} ${+this.height + this.margin.top + this.margin.bottom}`\n      );\n\n    // map\n    this.svg\n      .append('g')\n      .attr('class', 'map')\n      .selectAll('path')\n      .data(this.topojsonFeature.features)\n      .enter()\n      .append('path')\n      .attr('class', 'feature')\n      .attr('d', this.geoPath);\n\n    // borders\n    this.svg\n      .append('path')\n      .attr('class', 'mesh')\n      .datum(topojson.mesh(this.topojson, this.topojson.objects[this.mesh || this.feature], (a, b) => a !== b))\n      .attr('d', this.geoPath);\n\n    // legend\n    if (!this.hideLegend) {\n      this.svg\n        .append('g')\n        .attr('transform', `translate(${+this.legendLeft}, ${+this.legendTop})`) // TODO: this needs to be the top/right of the chart\n        .call(this.legend);\n    }\n\n    this.updateChart();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.data && !changes.data.firstChange) {\n      this.updateChart();\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.tooltip) this.tooltip.remove();\n  }\n\n  updateChart = () => {\n    this.svg\n      .select('.map')\n      .selectAll('path')\n      .style('fill', (d, i) => {\n        const match = this.data.find(obj => obj[this.dataField] === d[this.dataField]);\n        if (match) {\n          return this.colorRange(match.value);\n        }\n      })\n      .classed('hasData', (d, i) => {\n        return this.data.some(obj => obj[this.dataField] === d[this.dataField]);\n      });\n\n    if (!this.hideTooltip) {\n      this.svg\n        .select('.map')\n        .selectAll('path')\n        .on('mouseover', (data, index, nodes) =>\n          this.featureMouseOver(\n            d3_event,\n            this.data.find(obj => obj[this.dataField] === data[this.dataField]),\n            index,\n            nodes\n          )\n        )\n        .on('mouseout', (data, index, nodes) => this.featureMouseOut(d3_event, this.data, index, nodes))\n        .on('mousemove', (data, index, nodes) => this.tooltipMove(this.chart.node()))\n        .on('click', (data, index, nodes) =>\n          this.featureMouseClick(\n            d3_event,\n            this.data.find(obj => obj[this.dataField] === data[this.dataField]),\n            index,\n            nodes\n          )\n        );\n    }\n  };\n\n  featureMouseOver = (event, data, index, nodes) => {\n    if (data) {\n      this.tooltipShow(data, nodes[index]);\n      this.hovered.emit({ event, data });\n    }\n  };\n\n  featureMouseOut = (event, data, index, nodes) => {\n    this.tooltipHide();\n  };\n\n  featureMouseClick = (event, data, index, nodes) => {\n    if (data) {\n      this.clicked.emit({ event, data });\n    }\n  };\n\n  private tooltipShow = (data, node) => {\n    // console.log('TOOLTIP: ', data, node);\n\n    this.tooltipSetPosition(node);\n\n    if (data.label) {\n      this.tooltip.select('.tooltip-header').html(d => `${data.label}`);\n    }\n\n    this.tooltip\n      .select('.tooltip-value')\n      .html(d => (this.tooltipValueFormat ? `${this.tooltipValueFormat(data.value)}` : `${data.value}`));\n\n    this.tooltip.style('opacity', 1);\n  };\n\n  private tooltipHide = () => {\n    this.tooltip.style('opacity', 0);\n  };\n\n  private tooltipMove = node => {\n    this.tooltipSetPosition(node);\n  };\n\n  private tooltipSetPosition = node => {\n    const mouse = d3_mouse(node);\n    const mouseLeft = +mouse[0];\n    const mouseTop = +mouse[1];\n\n    const geometry = node.getBoundingClientRect();\n    const geometryLeft = +geometry.left;\n    const geometryTop = +geometry.top;\n\n    const scroll = this._scroll.getScrollPosition();\n    // const scrollLeft = +scroll[0];\n    const scrollTop = +scroll[1];\n\n    const tooltipOffsetWidth = +this.tooltip.node().offsetWidth / 2;\n    const tooltipOffsetHeight = +this.tooltip.node().offsetHeight;\n\n    this.tooltip.style('top', `${scrollTop + mouseTop + geometryTop - tooltipOffsetHeight - 14}px`);\n    this.tooltip.style('left', `${mouseLeft + geometryLeft - tooltipOffsetWidth}px`);\n  };\n\n  legend = g => {\n    const length = this.colorRange.range().length;\n\n    // console.log(this.colorRange.range().length, this.colorDomain);\n\n    const x = d3_scaleLinear()\n      .domain([1, length - 1])\n      .rangeRound([+this.legendWidth / length, (this.legendWidth * (length - 1)) / length]);\n\n    g.attr('class', 'legend')\n      .selectAll('rect')\n      .data(this.colorRange.range())\n      .join('rect')\n      .attr('height', 8)\n      .attr('x', (d, i) => x(i))\n      .attr('width', (d, i) => x(i + 1) - x(i))\n      .attr('fill', d => d);\n\n    if (this.legendLabel) {\n      g.append('text')\n        .attr('y', -6)\n        .attr('text-anchor', 'start')\n        .attr('class', 'legend-label')\n        .text(this.legendLabel);\n    }\n\n    g.call(\n      d3_axisBottom(x)\n        .tickSize(13)\n        .tickValues(d3_range(1, length))\n        .tickFormat((i: number) =>\n          this.legendValueFormat ? `${this.legendValueFormat(this.colorDomain[i - 1])}` : `${this.colorDomain[i - 1]}`\n        )\n    )\n      .select('.domain')\n      .remove();\n  };\n}\n","import {\n  Component,\n  OnInit,\n  OnChanges,\n  Input,\n  Output,\n  EventEmitter,\n  ElementRef,\n  HostBinding,\n  OnDestroy,\n  SimpleChanges,\n  ChangeDetectionStrategy\n} from '@angular/core';\n\nimport { ViewportScroller, Location } from '@angular/common';\n\nimport {\n  select as d3_select,\n  isoParse as d3_isoParse,\n  timeFormat as d3_timeFormat,\n  format as d3_format,\n  scaleOrdinal as d3_scaleOrdinal,\n  scaleBand as d3_scaleBand,\n  scaleLinear as d3_scaleLinear,\n  max as d3_max,\n  axisBottom as d3_axisBottom,\n  axisLeft as d3_axisLeft,\n  event as d3_event,\n  values as d3_values\n} from 'd3';\n\nimport { PbdsDatavizService } from './dataviz.service';\nimport { PbdsDatavizBarGrouped } from './dataviz.interfaces';\n\n@Component({\n  selector: 'pbds-dataviz-bar-grouped',\n  template: ``,\n  styles: [],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class PbdsDatavizBarGroupedComponent implements OnInit, OnDestroy, OnChanges {\n  @HostBinding('class.pbds-chart')\n  chartClass = true;\n\n  @HostBinding('class.pbds-chart-bar-grouped')\n  groupedBarClass = true;\n\n  @Input()\n  data: Array<PbdsDatavizBarGrouped>;\n\n  @Input()\n  width = 306;\n\n  @Input()\n  height = 400;\n\n  @Input()\n  vertical = true;\n\n  @Input()\n  hideXAxis = false;\n\n  @Input()\n  xAxisMaxBuffer = 0.01;\n\n  @Input()\n  xAxisFormatType: 'number' | 'time' = null;\n\n  @Input()\n  xAxisFormatString = '';\n\n  @Input()\n  xAxisTicks = 5;\n\n  @Input()\n  hideYAxis = false;\n\n  @Input()\n  yAxisMaxBuffer = 0.01;\n\n  @Input()\n  yAxisFormatType: 'number' | 'time' = null;\n\n  @Input()\n  yAxisFormatString = '';\n\n  @Input()\n  yAxisTicks = 5;\n\n  @Input()\n  marginTop = 10;\n\n  @Input()\n  marginRight = this.vertical ? 0 : 55;\n\n  @Input()\n  marginBottom = 30;\n\n  @Input()\n  marginLeft = 55;\n\n  @Input()\n  hideLegend = false;\n\n  @Input()\n  legendWidth = 105 + 28; // hardcoded legend width + left margin, do not document until feedback\n\n  @Input()\n  legendPosition: 'right' | 'bottom' = 'right';\n\n  @Input()\n  legendLabelFormatType: 'number' | 'time' = null;\n\n  @Input()\n  legendLabelFormatString = '';\n\n  @Input()\n  hideTooltip = false;\n\n  @Input()\n  tooltipLabelFormatType: 'number' | 'time' = null;\n\n  @Input()\n  tooltipLabelFormatString = '';\n\n  @Input()\n  tooltipValueFormatType: 'number' = null;\n\n  @Input()\n  tooltipValueFormatString = '';\n\n  @Input()\n  showGrid = false;\n\n  @Input()\n  theme: 'classic' | 'sunset' | 'ocean' | 'twilight' = 'classic';\n\n  @Output()\n  hovered: EventEmitter<object> = new EventEmitter<object>();\n\n  @Output()\n  clicked: EventEmitter<object> = new EventEmitter<object>();\n\n  private barScale;\n  private chart;\n  private svg;\n  private margin;\n  private colorRange;\n  private xAxisMax;\n  private xAxisScale;\n  private xAxisCall;\n  private xAxis;\n  private xAxisTickSize: number;\n  private xAxisTickSizeOuter: number;\n  private xAxisFormat;\n  private hideXAxisDomain: boolean;\n  private hideXAxisZero: boolean;\n  private hideXAxisTicks: boolean;\n  private xGrid;\n  private xGridCall;\n  private yAxisMax;\n  private yAxisScale;\n  private yAxisCall;\n  private yAxis;\n  private yAxisFormat;\n  private yAxisTickSize: number;\n  private yAxisTickSizeOuter: number;\n  private hideYAxisZero: boolean;\n  private hideYAxisDomain: boolean;\n  private hideYAxisTicks: boolean;\n  private yGrid;\n  private yGridCall;\n  private legendLabelFormat;\n  private hideGrayBars: boolean;\n  private tooltip;\n  private tooltipValueFormat;\n  private tooltipLabelFormat;\n\n  constructor(\n    private _dataviz: PbdsDatavizService,\n    private _element: ElementRef,\n    private _scroll: ViewportScroller,\n    private _location: Location\n  ) {}\n\n  ngOnInit() {\n    this.margin = {\n      top: +this.marginTop,\n      right: +this.marginRight,\n      bottom: +this.marginBottom,\n      left: +this.marginLeft\n    };\n\n    switch (this.xAxisFormatType) {\n      case 'number':\n        this.xAxisFormat = d3_format(this.xAxisFormatString);\n        break;\n      case 'time':\n        this.xAxisFormat = d3_timeFormat(this.xAxisFormatString);\n        break;\n    }\n\n    switch (this.yAxisFormatType) {\n      case 'number':\n        this.yAxisFormat = d3_format(this.yAxisFormatString);\n        break;\n      case 'time':\n        this.yAxisFormat = d3_timeFormat(this.yAxisFormatString);\n        break;\n    }\n\n    switch (this.legendLabelFormatType) {\n      case 'number':\n        this.legendLabelFormat = d3_format(this.legendLabelFormatString);\n        break;\n      case 'time':\n        this.legendLabelFormat = d3_timeFormat(this.legendLabelFormatString);\n        break;\n      default:\n        this.legendLabelFormat = null;\n        break;\n    }\n\n    switch (this.tooltipLabelFormatType) {\n      case 'time':\n        this.tooltipLabelFormat = d3_timeFormat(this.tooltipLabelFormatString);\n        break;\n      default:\n        this.tooltipLabelFormat = null;\n        break;\n    }\n\n    switch (this.tooltipValueFormatType) {\n      case 'number':\n        this.tooltipValueFormat = d3_format(this.tooltipValueFormatString);\n        break;\n      default:\n        this.tooltipValueFormat = null;\n    }\n\n    // defaults for all chart types\n    this.hideGrayBars = false;\n    this.hideXAxisZero = false;\n    this.hideXAxisDomain = false;\n    this.hideXAxisTicks = true;\n    this.xAxisTickSize = 8;\n    this.xAxisTickSizeOuter = 0;\n    this.hideYAxisZero = false;\n    this.hideYAxisDomain = false;\n    this.hideYAxisTicks = true;\n    this.yAxisTickSize = 8;\n    this.yAxisTickSizeOuter = 0;\n\n    if (!this.hideLegend && this.legendPosition === 'right') {\n      this.width = +this.width - +this.legendWidth;\n    }\n\n    // create the chart\n    this.chart = d3_select(this._element.nativeElement).attr('aria-hidden', 'true');\n\n    // create chart svg\n    this.svg = this.chart\n      .append('svg')\n      .attr('width', () => {\n        if (this.vertical) {\n          return +this.width;\n        } else {\n          return +this.width + this.margin.left + this.margin.right;\n        }\n      })\n      .attr('height', +this.height + this.margin.top + this.margin.bottom)\n      .attr('class', 'img-fluid')\n      .attr('preserveAspectRatio', 'xMinYMin meet')\n      .attr('viewBox', () => {\n        if (this.vertical) {\n          return `-${this.margin.left} -${this.margin.top} ${+this.width} ${+this.height +\n            this.margin.top +\n            this.margin.bottom}`;\n        } else {\n          return `-${this.margin.left} -${this.margin.top} ${+this.width + this.margin.left + this.margin.right} ${+this\n            .height +\n            this.margin.top +\n            this.margin.bottom}`;\n        }\n      });\n\n    // TOOLTIP\n    if (!this.hideTooltip) {\n      this.tooltip = d3_select('body')\n        .append('div')\n        .attr('class', () => {\n          return this.vertical ? 'pbds-tooltip south' : 'pbds-tooltip west';\n        })\n        .style('opacity', 0)\n        .attr('aria-hidden', 'true'); // hide tooltip for accessibility\n    }\n\n    // add legend classes\n    if (!this.hideLegend) {\n      this.chart.classed('pbds-chart-legend-bottom', this.legendPosition === 'bottom' ? true : false);\n      this.chart.append('ul').attr('class', `legend legend-${this.legendPosition}`);\n    }\n\n    // build color ranges\n    this.colorRange = d3_scaleOrdinal().range(\n      this._dataviz.createGradientDefs(this.svg, false, this.theme, this.vertical)\n    );\n\n    if (this.vertical) {\n      // X AXIS\n      this.xAxisScale = d3_scaleBand()\n        .domain(this.data.map(d => d.key))\n        .rangeRound([0, this.width - this.margin.left])\n        .align(0);\n\n      // add padding to the scale for gray bars\n      !this.hideGrayBars\n        ? this.xAxisScale.paddingInner(0.1).paddingOuter(0)\n        : this.xAxisScale.paddingInner(0).paddingOuter(0);\n\n      this.xAxisCall = d3_axisBottom(this.xAxisScale)\n        .tickSize(this.xAxisTickSize)\n        .tickSizeOuter(this.xAxisTickSizeOuter)\n        .tickFormat(this.xAxisFormatter);\n\n      this.xAxis = this.svg\n        .append('g')\n        .attr('class', 'axis axis-x')\n        .attr('transform', `translate(0, ${this.height})`)\n        .classed('axis-hidden', this.hideXAxis)\n        .classed('axis-zero-hidden', this.hideXAxisZero)\n        .classed('axis-domain-hidden', this.hideXAxisDomain)\n        .classed('axis-ticks-hidden', this.hideXAxisTicks)\n        .call(this.xAxisCall);\n\n      // X GRIDLINES\n      // if (!this.hideXGrid) {\n      //   this.xGridCall = d3_axisBottom(this.xAxisScale).tickSize(-this.height);\n\n      //   this.xGrid = this.svg\n      //     .append('g')\n      //     .attr('class', 'grid grid-x')\n      //     .classed('grid-zero-hidden', this.hideXAxisZero)\n      //     .attr('transform', `translate(0, ${this.height})`)\n      //     .call(this.xGridCall);\n      // }\n\n      // Y AXIS\n      this.yAxisMax = d3_max(this.data, (data: any) => {\n        const clone = { ...data };\n        delete clone.key;\n\n        return d3_max(d3_values(clone));\n      });\n\n      this.yAxisMax = this.yAxisMax + this.yAxisMax * this.yAxisMaxBuffer;\n\n      this.yAxisScale = d3_scaleLinear()\n        .domain([0, this.yAxisMax])\n        .nice()\n        .rangeRound([this.height, 0]);\n\n      this.yAxisCall = d3_axisLeft(this.yAxisScale)\n        .ticks(this.yAxisTicks)\n        .tickSize(this.yAxisTickSize)\n        .tickSizeOuter(this.yAxisTickSizeOuter)\n        .tickFormat(this.yAxisFormatter);\n\n      this.yAxis = this.svg\n        .append('g')\n        .attr('class', 'axis axis-y')\n        .classed('axis-hidden', this.hideYAxis)\n        .classed('axis-zero-hidden', this.hideYAxisZero)\n        .classed('axis-domain-hidden', this.hideYAxisDomain)\n        .classed('axis-ticks-hidden', this.hideYAxisTicks)\n        .call(this.yAxisCall);\n\n      // Y GRIDLINES\n      if (this.showGrid) {\n        this.yGridCall = d3_axisLeft(this.yAxisScale)\n          .ticks(this.yAxisTicks)\n          .tickSize(-this.width + this.margin.left + this.margin.right);\n\n        this.yGrid = this.svg\n          .append('g')\n          .attr('class', 'grid grid-y')\n          .classed('grid-zero-hidden', this.hideYAxisZero)\n          .attr('transform', `translate(0, 0)`)\n          .call(this.yGridCall);\n      }\n\n      // color bar scale\n      this.barScale = d3_scaleBand()\n        .domain(Object.keys(this.data[0]).slice(1))\n        .rangeRound([0, this.xAxisScale.bandwidth()])\n        .paddingInner(0.2)\n        .paddingOuter(0.5);\n\n      this.updateChartVertical();\n    } else {\n      // X AXIS\n      this.xAxisMax = d3_max(this.data, (data: any) => {\n        const clone = { ...data };\n        delete clone.key;\n        return d3_max(d3_values(clone));\n      });\n\n      this.xAxisMax = this.xAxisMax + this.xAxisMax * this.xAxisMaxBuffer;\n\n      this.xAxisScale = d3_scaleLinear()\n        .domain([0, this.xAxisMax])\n        .rangeRound([0, this.width])\n        .nice();\n\n      this.xAxisCall = d3_axisBottom(this.xAxisScale)\n        .ticks(this.xAxisTicks)\n        .tickSize(this.xAxisTickSize)\n        .tickSizeOuter(this.xAxisTickSizeOuter)\n        .tickFormat(this.xAxisFormatter);\n\n      this.xAxis = this.svg\n        .append('g')\n        .attr('class', 'axis axis-x')\n        .attr('transform', `translate(0, ${this.height})`)\n        .classed('axis-hidden', this.hideXAxis)\n        .classed('axis-zero-hidden', this.hideXAxisZero)\n        .classed('axis-domain-hidden', this.hideXAxisDomain)\n        .classed('axis-ticks-hidden', this.hideXAxisTicks)\n        .call(this.xAxisCall);\n\n      // Y AXIS\n      this.yAxisScale = d3_scaleBand()\n        .domain(this.data.map(d => d.key))\n        .rangeRound([0, this.height])\n        .align(1);\n\n      // add padding to the scale for gray bars\n      !this.hideGrayBars\n        ? this.yAxisScale.paddingInner(0.1).paddingOuter(0)\n        : this.yAxisScale.paddingInner(0).paddingOuter(0);\n\n      this.yAxisCall = d3_axisLeft(this.yAxisScale)\n        .tickSize(this.yAxisTickSize)\n        .tickSizeOuter(this.yAxisTickSizeOuter)\n        .tickFormat(this.yAxisFormatter);\n\n      this.yAxis = this.svg\n        .append('g')\n        .attr('class', 'axis axis-y')\n        .classed('axis-hidden', this.hideYAxis)\n        .classed('axis-zero-hidden', this.hideYAxisZero)\n        .classed('axis-domain-hidden', this.hideYAxisDomain)\n        .classed('axis-ticks-hidden', this.hideYAxisTicks)\n        .call(this.yAxisCall);\n\n      // X GRIDLINES\n      if (this.showGrid) {\n        this.xGridCall = d3_axisBottom(this.xAxisScale).tickSize(-this.height);\n        this.xGrid = this.svg\n          .append('g')\n          .attr('class', 'grid grid-x')\n          .classed('grid-zero-hidden', this.hideXAxisZero)\n          .attr('transform', `translate(0, ${this.height})`)\n          .call(this.xGridCall);\n      }\n\n      // Y GRIDLINES\n      // if (!this.hideYGrid) {\n      //   this.yGridCall = d3_axisLeft(this.yAxisScale)\n      //     .ticks(this.yAxisTicks)\n      //     .tickSize(-this.width);\n\n      //   this.yGrid = this.svg\n      //     .append('g')\n      //     .attr('class', 'grid grid-y')\n      //     .classed('grid-zero-hidden', this.hideYAxisZero)\n      //     .attr('transform', `translate(0, 0)`)\n      //     .call(this.yGridCall);\n      // }\n\n      // color bar scale\n      this.barScale = d3_scaleBand()\n        .domain(Object.keys(this.data[0]).slice(1))\n        .rangeRound([this.yAxisScale.bandwidth(), 0])\n        .paddingInner(0.2)\n        .paddingOuter(0.5);\n\n      this.updateChartHorizontal();\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.tooltip) this.tooltip.remove();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.data && !changes.data.firstChange) {\n      if (this.vertical) {\n        this.updateChartVertical();\n      } else {\n        this.updateChartHorizontal();\n      }\n    }\n  }\n\n  updateChartVertical() {\n    // update the xScale\n    this.xAxisScale.domain(this.data.map(d => d.key));\n\n    // update the yScale\n    this.yAxisMax = d3_max(this.data, (data: any) => {\n      const clone = { ...data };\n      delete clone.key;\n\n      return d3_max(d3_values(clone));\n    });\n\n    this.yAxisMax = this.yAxisMax + this.yAxisMax * this.yAxisMaxBuffer;\n\n    this.yAxisScale\n      .domain([0, this.yAxisMax])\n      .rangeRound([this.height, 0])\n      .nice();\n\n    this.xAxis\n      .transition()\n      .duration(1000)\n      .call(this.xAxisCall);\n\n    this.yAxis\n      .transition()\n      .duration(1000)\n      .call(this.yAxisCall);\n\n    // update the grids\n    // if (!this.hideXGrid) {\n    //   this.xGrid\n    //     .transition()\n    //     .duration(1000)\n    //     .call(this.xGridCall);\n    // }\n\n    if (this.showGrid) {\n      this.yGrid\n        .transition()\n        .duration(1000)\n        .call(this.yGridCall);\n    }\n\n    // update the color bar scale\n    this.barScale.domain(Object.keys(this.data[0]).slice(1)).rangeRound([0, this.xAxisScale.bandwidth()]);\n\n    this.svg\n      .selectAll('.gray-bar')\n      .data(this.data)\n      .join(\n        enter =>\n          enter\n            .append('rect')\n            .attr('class', 'gray-bar')\n            .attr('x', d => this.xAxisScale(d.key))\n            .attr('y', d => this.yAxisScale(d.value))\n            .attr('width', this.xAxisScale.bandwidth())\n            .attr('height', this.height),\n        update =>\n          update\n            .transition()\n            .duration(1000)\n            .attr('x', d => this.xAxisScale(d.key))\n            .attr('y', d => this.yAxisScale(d.value))\n            .attr('width', this.xAxisScale.bandwidth())\n            .attr('height', this.height)\n      );\n\n    this.svg\n      .selectAll('.bar-group')\n      .data(this.data)\n      .join(\n        enter =>\n          enter\n            .append('g')\n            .attr('class', 'bar-group')\n            .attr('transform', (d, i) => {\n              return `translate(${this.xAxisScale(d.key)}, 0)`;\n            }),\n        update =>\n          update\n            .transition()\n            .duration(1000)\n            .attr('transform', (d, i) => {\n              return `translate(${this.xAxisScale(d.key)}, 0)`;\n            })\n      );\n\n    this.svg\n      .selectAll('.bar-group')\n      .selectAll('.bar')\n      .data((d, i) => {\n        const clone = { ...d };\n        delete clone.key;\n\n        const keys = Object.keys(clone);\n\n        const keyData = keys.map(function(key) {\n          return { label: key, value: d[key], parentIndex: i };\n        });\n\n        return keyData;\n      })\n      .join(\n        enter =>\n          enter\n            .append('rect')\n            .attr('class', 'bar')\n            .attr('fill', d => `url(${this._location.path()}#gradient-${this.colorRange(d.label).substr(1)})`)\n            .attr('data-color', d => this.colorRange(d.label))\n            .attr('data-parent-index', d => d.parentIndex)\n            .attr('x', d => this.barScale(d.label))\n            .attr('width', this.barScale.bandwidth())\n            .attr('y', this.height)\n            .attr('height', 0)\n            .call(enter => {\n              return enter\n                .attr('pointer-events', 'none')\n                .transition()\n                .duration(0) // 500\n                .attr('height', d => this.height - this.yAxisScale(d.value))\n                .attr('y', d => this.yAxisScale(d.value))\n                .transition()\n                .attr('pointer-events', 'auto');\n            }),\n        update =>\n          update\n            .attr('pointer-events', 'none')\n            .transition()\n            .duration(1000)\n            .attr('x', d => this.barScale(d.label))\n            .attr('width', this.barScale.bandwidth())\n            .attr('height', d => this.height - this.yAxisScale(d.value))\n            .attr('y', d => this.yAxisScale(d.value))\n            .transition()\n            .attr('pointer-events', 'auto'),\n        exit =>\n          exit\n            .transition()\n            .duration(0) // 100\n            .attr('pointer-events', 'none')\n            .attr('height', 0)\n            .attr('y', this.height)\n      )\n      .on('mouseover', (data, index, nodes) => this.barMouseOver(d3_event, data, index, nodes))\n      .on('mouseout', (data, index, nodes) => this.barMouseOut())\n      .on('click', (data, index, nodes) => this.barMouseClick(d3_event, data, index, nodes));\n\n    this.updateLegend();\n\n    this.svg.selectAll('.axis').raise();\n  }\n\n  updateChartHorizontal() {\n    // update the xScale\n    this.xAxisMax = d3_max(this.data, (data: any) => {\n      const clone = { ...data };\n      delete clone.key;\n      return d3_max(d3_values(clone));\n    });\n\n    this.xAxisMax = this.xAxisMax + this.xAxisMax * this.xAxisMaxBuffer;\n\n    this.xAxisScale\n      .domain([0, this.xAxisMax])\n      .rangeRound([0, this.width])\n      .nice();\n\n    // update the yScale\n    this.yAxisScale.domain(this.data.map(d => d.key));\n\n    this.xAxis\n      .transition()\n      .duration(1000)\n      .call(this.xAxisCall);\n\n    this.yAxis\n      .transition()\n      .duration(1000)\n      .call(this.yAxisCall);\n\n    // update the grids\n    if (this.showGrid) {\n      this.xGrid\n        .transition()\n        .duration(1000)\n        .call(this.xGridCall);\n    }\n\n    // if (!this.hideYGrid) {\n    //   this.yGrid\n    //     .transition()\n    //     .duration(1000)\n    //     .call(this.yGridCall);\n    // }\n\n    // update the color bar scale\n    this.barScale.domain(Object.keys(this.data[0]).slice(1)).rangeRound([0, this.yAxisScale.bandwidth()]);\n\n    this.svg\n      .selectAll('.gray-bar')\n      .data(this.data)\n      .join(\n        enter =>\n          enter\n            .append('rect')\n            .attr('class', 'gray-bar')\n            .attr('y', d => this.yAxisScale(d.key))\n            .attr('width', this.width)\n            .attr('height', this.yAxisScale.bandwidth()),\n        update =>\n          update\n            .transition()\n            .duration(1000)\n            .attr('y', d => this.yAxisScale(d.key))\n            .attr('width', this.width)\n            .attr('height', this.yAxisScale.bandwidth())\n      );\n\n    this.svg\n      .selectAll('.bar-group')\n      .data(this.data)\n      .join(\n        enter =>\n          enter\n            .append('g')\n            .attr('class', 'bar-group')\n            .attr('transform', (d, i) => {\n              return `translate(0, ${this.yAxisScale(d.key)})`;\n            }),\n        update =>\n          update\n            .transition()\n            .duration(1000)\n            .attr('transform', (d, i) => {\n              return `translate(0, ${this.yAxisScale(d.key)})`;\n            })\n      );\n\n    this.svg\n      .selectAll('.bar-group')\n      .selectAll('.bar')\n      .data((d, i) => {\n        const clone = { ...d };\n        delete clone.key;\n\n        const keys = Object.keys(clone);\n\n        const keyData = keys.map(function(key) {\n          return { label: key, value: d[key], parentIndex: i };\n        });\n\n        return keyData;\n      })\n      .join(\n        enter =>\n          enter\n            .append('rect')\n            .attr('class', 'bar')\n            .attr(\n              'fill',\n              d => `url(${this._location.path()}#gradient-horizontal-${this.colorRange(d.label).substr(1)})`\n            )\n            .attr('data-color', d => this.colorRange(d.label))\n            .attr('data-parent-index', d => d.parentIndex)\n            .attr('x', 0)\n            .attr('width', 0)\n            .attr('y', d => this.barScale(d.label))\n            .attr('height', this.barScale.bandwidth())\n            .call(enter => {\n              return enter\n                .attr('pointer-events', 'none')\n                .transition()\n                .duration(0) // 500\n                .attr('width', d => this.xAxisScale(d.value))\n                .transition()\n                .attr('pointer-events', 'auto');\n            }),\n        update =>\n          update\n            .attr('pointer-events', 'none')\n            .transition()\n            .duration(1000)\n            .attr('width', d => this.xAxisScale(d.value))\n            .attr('height', this.barScale.bandwidth())\n            .attr('y', d => this.barScale(d.label))\n            .transition()\n            .attr('pointer-events', 'auto'),\n        exit =>\n          exit\n            .transition()\n            .duration(0) // 100\n            .attr('pointer-events', 'none')\n            .attr('width', 0)\n      )\n      .on('mouseover', (data, index, nodes) => this.barMouseOver(d3_event, data, index, nodes))\n      .on('mouseout', (data, index, nodes) => this.barMouseOut())\n      .on('click', (data, index, nodes) => this.barMouseClick(d3_event, data, index, nodes));\n\n    this.updateLegend();\n\n    this.svg.selectAll('.axis').raise();\n  }\n\n  updateLegend() {\n    // legend\n    if (!this.hideLegend) {\n      const legendData = { ...this.data[0] };\n      delete legendData.key;\n      const legendKeys = Object.keys(legendData).map(function(key) {\n        return { label: key };\n      });\n\n      this.chart\n        .select('.legend')\n        .selectAll('.legend-item')\n        .data(legendKeys)\n        .join(\n          enter => {\n            const li = enter.append('li').attr('class', 'legend-item');\n\n            li.insert('span')\n              .attr('class', 'legend-key')\n              .style('background-color', d => this.colorRange(d.label));\n\n            li.insert('span', '.legend-item')\n              .attr('class', 'legend-label')\n              .html(d => {\n                switch (this.legendLabelFormatType) {\n                  case 'number':\n                    return this.legendLabelFormat(d.label);\n\n                  case 'time':\n                    const parsedTime = d3_isoParse(d.label);\n                    return this.legendLabelFormat(parsedTime);\n\n                  default:\n                    return d.label;\n                }\n              });\n\n            return li;\n          },\n          update => {\n            update.select('.legend-label').html(d => {\n              switch (this.legendLabelFormatType) {\n                case 'number':\n                  return this.legendLabelFormat(d.label);\n\n                case 'time':\n                  const parsedTime = d3_isoParse(d.label);\n                  return this.legendLabelFormat(parsedTime);\n\n                default:\n                  return d.label;\n              }\n            });\n\n            return update;\n          },\n          exit => exit.remove()\n        )\n        .on('mouseover', (data, index, nodes) => this.legendMouseOver(d3_event, data, index, nodes))\n        .on('mouseout', () => this.legendMouseOut())\n        .on('click', (data, index, nodes) => this.legendMouseClick(d3_event, data, index, nodes));\n    }\n  }\n\n  barMouseOver = (event, data, index, nodes) => {\n    const node = d3_select(nodes[index]);\n\n    this.chart\n      .selectAll('.bar-group')\n      .selectAll('.bar')\n      .classed('inactive', true);\n\n    node.classed('inactive', false).style('fill', node.attr('data-color'));\n\n    this.tooltipShow(data, nodes[index]);\n\n    this.hovered.emit({ event, data });\n  };\n\n  barMouseOut = () => {\n    this.chart\n      .selectAll('.bar')\n      .classed('inactive', false)\n      .style('fill', null);\n\n    this.tooltipHide();\n  };\n\n  barMouseClick = (event, data, index, nodes) => {\n    this.clicked.emit({ event, data });\n  };\n\n  legendMouseOver = (event, data, index, nodes) => {\n    this.chart\n      .selectAll('.legend-item')\n      .filter((d, i) => i !== index)\n      .classed('inactive', true);\n\n    this.chart\n      .selectAll('.bar-group')\n      .selectAll('.bar')\n      .filter((d, i) => i !== index)\n      .classed('inactive', true);\n\n    const bar = this.chart\n      .selectAll('.bar-group')\n      .selectAll('.bar')\n      .filter((d, i) => i === index)\n      .classed('inactive', null);\n\n    const barColor = bar.attr('data-color');\n\n    bar.style('fill', () => barColor);\n\n    this.hovered.emit({ event, data });\n  };\n\n  legendMouseOut = () => {\n    this.chart.selectAll('.legend-item').classed('inactive', false);\n\n    this.chart\n      .selectAll('.bar-group')\n      .selectAll('.bar')\n      .classed('inactive', false)\n      .style('fill', null);\n  };\n\n  legendMouseClick = (event, data, index, nodes) => {\n    this.clicked.emit({ event, data });\n  };\n\n  private tooltipShow = (data, node) => {\n    const dimensions = node.getBoundingClientRect();\n    const scroll = this._scroll.getScrollPosition();\n    let label;\n\n    switch (this.tooltipLabelFormatType) {\n      case 'number':\n        label = this.tooltipLabelFormat(data.label);\n        break;\n\n      case 'time':\n        const parsedTime = d3_isoParse(data.label);\n        label = this.tooltipLabelFormat(parsedTime);\n        break;\n\n      default:\n        label = data.label;\n    }\n\n    const value =\n      this.tooltipValueFormat === null\n        ? `<div class=\"tooltip-value\">${data.value}</div>`\n        : `<div class=\"tooltip-value\">${this.tooltipValueFormat(data.value)}</div>`;\n\n    this.tooltip.html(\n      `\n        ${label}\n        ${value}\n      `\n    );\n\n    const tooltipOffsetWidth = +this.tooltip.node().offsetWidth / 2;\n    const tooltipOffsetHeight = +this.tooltip.node().offsetHeight;\n    const tooltipTipSize = 8;\n\n    if (this.vertical) {\n      this.tooltip.style('top', `${+scroll[1] + +dimensions.top - tooltipOffsetHeight - tooltipTipSize}px`);\n      this.tooltip.style('left', `${+scroll[0] + +dimensions.left - tooltipOffsetWidth + +dimensions.width / 2}px`);\n    } else {\n      this.tooltip.style('top', `${+scroll[1] + +dimensions.top + +dimensions.height / 2 - tooltipOffsetHeight / 2}px`);\n      this.tooltip.style('left', `${+scroll[0] + +dimensions.right + tooltipTipSize}px`);\n    }\n\n    this.tooltip.style('opacity', 1);\n  };\n\n  private tooltipHide = () => {\n    this.tooltip.style('opacity', 0);\n  };\n\n  private xAxisFormatter = item => {\n    switch (this.xAxisFormatType) {\n      case 'number':\n        return this.xAxisFormat(item);\n\n      case 'time':\n        const parseDate = d3_isoParse(item);\n        return this.xAxisFormat(parseDate);\n\n      default:\n        return item;\n    }\n  };\n\n  private yAxisFormatter = item => {\n    switch (this.yAxisFormatType) {\n      case 'number':\n        return this.yAxisFormat(item);\n\n      case 'time':\n        const parseDate = d3_isoParse(item);\n        return this.yAxisFormat(parseDate);\n\n      default:\n        return item;\n    }\n  };\n}\n","import {\n  Component,\n  OnInit,\n  Input,\n  ElementRef,\n  HostBinding,\n  OnChanges,\n  SimpleChanges,\n  Output,\n  EventEmitter,\n  ChangeDetectionStrategy,\n  OnDestroy\n} from '@angular/core';\n\nimport { ViewportScroller, Location } from '@angular/common';\n\nimport {\n  select as d3_select,\n  scaleLinear as d3_scaleLinear,\n  scaleOrdinal as d3_scaleOrdinal,\n  format as d3_format,\n  event as d3_event,\n  timeFormat as d3_timeFormat,\n  isoParse as d3_isoParse,\n  sum as d3_sum,\n  axisBottom as d3_axisBottom,\n  easeLinear as d3_easeLinear\n} from 'd3';\n\nimport { PbdsDatavizService } from './dataviz.service';\nimport { PbdsDatavizBarSingleHorizontal, PbdsDatavizBarSingleHorizontalCompare } from './dataviz.interfaces';\n\n@Component({\n  selector: 'pbds-dataviz-bar-single-horizontal',\n  template: ``,\n  styles: [],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class PbdsDatavizBarSingleHorizontalComponent implements OnInit, OnDestroy, OnChanges {\n  @HostBinding('class.pbds-chart')\n  chartClass = true;\n\n  @HostBinding('class.pbds-chart-bar-single-horizontal')\n  singleStackedBarClass = true;\n\n  @Input()\n  data: Array<PbdsDatavizBarSingleHorizontal | PbdsDatavizBarSingleHorizontalCompare>;\n\n  @Input()\n  width = 300;\n\n  @Input()\n  height = 40;\n\n  @Input()\n  nullValueText = 'No data available';\n\n  @Input()\n  percentage = false;\n\n  @Input()\n  marginTop = 10;\n\n  @Input()\n  marginRight = 20;\n\n  @Input()\n  marginBottom = 35;\n\n  @Input()\n  marginLeft = 15;\n\n  @Input()\n  barMargin = 2;\n\n  @Input()\n  hideXAxis = false;\n\n  @Input()\n  xAxisTicks = 6;\n\n  @Input()\n  xAxisTitle: string | null = null;\n\n  @Input()\n  xAxisFormatType: 'number' = null;\n\n  @Input()\n  xAxisFormatString = '';\n\n  @Input()\n  xAxisTickLabelSuffix = '';\n\n  @Input()\n  hideXGrid = false;\n\n  @Input()\n  hideLegend = false;\n\n  @Input()\n  hideLegendTooltip = true;\n\n  @Input()\n  legendWidth = 105 + 28; // hardcoded legend width + left margin, do not document until feedback\n\n  @Input()\n  legendPosition: 'right' | 'bottom' = 'bottom';\n\n  @Input()\n  legendLabelFormatType: 'number' | 'time' = null;\n\n  @Input()\n  legendLabelFormatString = '';\n\n  @Input()\n  hideTooltip = false;\n\n  @Input()\n  tooltipLabelFormatType: 'number' | 'time' = null;\n\n  @Input()\n  tooltipLabelFormatString = '';\n\n  @Input()\n  tooltipDateFormatString = '%b %e, %Y';\n\n  @Input()\n  tooltipValueFormatType: 'number' = null;\n\n  @Input()\n  tooltipValueFormatString = '';\n\n  @Input()\n  tooltipValueSuffix = '';\n\n  @Input()\n  tooltipPercentFormatString = '.2%';\n\n  @Input()\n  compareChangeFormatString = '.2%';\n\n  @Input()\n  monochrome = false;\n\n  @Input()\n  theme: 'classic' | 'ocean' | 'sunset' | 'twilight';\n\n  @Output()\n  hovered: EventEmitter<object> = new EventEmitter<object>();\n\n  @Output()\n  clicked: EventEmitter<object> = new EventEmitter<object>();\n\n  private isSingleData = false;\n  private isCompare = false;\n  private chart;\n  private svg;\n  private margin;\n  private colorRange;\n  private barPadding = 40;\n  private xAxisCall;\n  private xAxis;\n  private xAxisScale;\n  private xAxisTickSize: number;\n  private xAxisTickSizeOuter: number;\n  private xAxisFormat;\n  private xAxisTitleMargin: number;\n  private hideXAxisDomain: boolean;\n  private hideXAxisZero: boolean;\n  private hideXAxisTicks: boolean;\n  private xGrid;\n  private xGridCall;\n  private legendLabelFormat;\n  private tooltip;\n  private tooltipLabelFormat;\n  private tooltipValueFormat;\n  private tooltipDateFormat;\n  private tooltipPercentFormat;\n  private tooltipCompareChangeFormat;\n\n  constructor(\n    private _dataviz: PbdsDatavizService,\n    private _element: ElementRef,\n    private _scroll: ViewportScroller,\n    private _location: Location\n  ) {}\n\n  ngOnInit() {\n    this.height = +this.height + this.barPadding;\n\n    this.margin = {\n      top: +this.marginTop,\n      right: +this.marginRight,\n      bottom: +this.marginBottom,\n      left: +this.marginLeft\n    };\n\n    this.isSingleData = this.data.length === 1 ? true : false;\n    this.isCompare = Object.keys(this.data[0]).includes('compareValue');\n\n    switch (this.xAxisFormatType) {\n      case 'number':\n        this.xAxisFormat = d3_format(this.xAxisFormatString);\n        break;\n    }\n\n    switch (this.legendLabelFormatType) {\n      case 'number':\n        this.legendLabelFormat = d3_format(this.legendLabelFormatString);\n        break;\n      case 'time':\n        this.legendLabelFormat = d3_timeFormat(this.legendLabelFormatString);\n        break;\n      default:\n        this.legendLabelFormat = null;\n        break;\n    }\n\n    switch (this.tooltipValueFormatType) {\n      case 'number':\n        this.tooltipValueFormat = d3_format(this.tooltipValueFormatString);\n        break;\n      default:\n        this.tooltipValueFormat = null;\n    }\n\n    this.tooltipDateFormat = d3_timeFormat(this.tooltipDateFormatString);\n    this.tooltipPercentFormat = d3_format(this.tooltipPercentFormatString);\n    this.tooltipCompareChangeFormat = d3_format(this.compareChangeFormatString);\n\n    // defaults for all chart types\n    this.hideXAxisZero = false;\n    this.hideXAxisDomain = true;\n    this.hideXAxisTicks = true;\n    this.xAxisTickSize = 8;\n    this.xAxisTickSizeOuter = 0;\n    this.xAxisTitleMargin = this.xAxisTitle ? 20 : 0;\n\n    if (!this.hideLegend && this.legendPosition === 'right') {\n      this.width = +this.width - +this.legendWidth;\n    }\n\n    // create the chart\n    this.chart = d3_select(this._element.nativeElement).attr('aria-hidden', 'true');\n\n    // create chart svg\n    this.svg = this.chart\n      .append('svg')\n      .attr('width', () => {\n        return +this.width + this.margin.left + this.margin.right;\n      })\n      .attr('height', +this.height + this.margin.top + this.margin.bottom + this.xAxisTitleMargin)\n      .attr('class', 'img-fluid')\n      .attr('preserveAspectRatio', 'xMinYMin meet')\n      .attr('viewBox', () => {\n        return `-${this.margin.left} -${this.margin.top} ${+this.width + this.margin.left + this.margin.right} ${+this\n          .height +\n          this.margin.top +\n          this.margin.bottom +\n          this.xAxisTitleMargin}`;\n      });\n\n    // TOOLTIP\n    if (!this.hideTooltip) {\n      this.tooltip = d3_select('body')\n        .append('div')\n        .attr('class', 'pbds-tooltip south')\n        .classed('pbds-tooltip-compare', this.isCompare)\n        .style('opacity', 0)\n        .attr('aria-hidden', 'true'); // hide tooltip for accessibility\n    }\n\n    // add legend classes\n    if (!this.hideLegend && this.data.length > 1) {\n      this.chart.classed('pbds-chart-legend-bottom', this.legendPosition === 'bottom' ? true : false);\n      this.chart.append('ul').attr('class', `legend legend-${this.legendPosition}`);\n    }\n\n    // X AXIS\n    this.xAxisScale = d3_scaleLinear()\n      .domain([0, Math.ceil(d3_sum(this.data, (d: any) => d.value))])\n      .range([0, +this.width]);\n\n    this.xAxisCall = d3_axisBottom(this.xAxisScale)\n      // .tickValues([0, d3_sum(this.data, (d: any) => d.value)])\n      .ticks(this.xAxisTicks)\n      .tickSize(this.xAxisTickSize)\n      .tickSizeOuter(this.xAxisTickSizeOuter)\n      .tickFormat(this.xAxisFormatter);\n\n    this.xAxis = this.svg\n      .append('g')\n      .attr('class', 'axis axis-x')\n      .attr('transform', `translate(0, ${this.height})`)\n      .classed('axis-hidden', this.hideXAxis)\n      .classed('axis-zero-hidden', this.hideXAxisZero)\n      .classed('axis-domain-hidden', this.hideXAxisDomain)\n      .classed('axis-ticks-hidden', this.hideXAxisTicks);\n    // .call(this.xAxisCall);\n\n    // X GRIDLINES\n    if (!this.hideXGrid) {\n      this.xGridCall = d3_axisBottom(this.xAxisScale).tickSize(-this.height);\n\n      this.xGrid = this.svg\n        .append('g')\n        .attr('class', 'grid grid-x')\n        .classed('grid-zero-hidden', this.hideXAxisZero)\n        .attr('transform', `translate(0, ${this.height})`)\n        .call(this.xGridCall);\n    }\n\n    if (this.xAxisTitle) {\n      this.svg\n        .append('text')\n        .attr('class', 'axis-title')\n        .attr('text-anchor', 'center')\n        .attr('x', this.width / 2 - this.margin.left)\n        .attr('y', this.height + this.margin.top + (!this.hideXAxis ? 40 : 0))\n        .text(this.xAxisTitle);\n    }\n\n    // build color ranges\n    let colors;\n\n    if (this.isSingleData) {\n      colors = this._dataviz.createGradientDefs(this.svg, this.monochrome, this.theme, false);\n    } else if (this.monochrome) {\n      colors = this._dataviz.getColors(this.monochrome, this.theme).reverse();\n    } else {\n      colors = this._dataviz.getColors(this.monochrome, this.theme);\n    }\n\n    this.colorRange = d3_scaleOrdinal().range(colors);\n\n    this.updateChart();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.data && !changes.data.firstChange) {\n      this.updateChart();\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.tooltip) this.tooltip.remove();\n  }\n\n  updateChart() {\n    this.isSingleData = this.data.length === 1 ? true : false;\n    this.isCompare = Object.keys(this.data[0]).includes('compareValue');\n\n    const sumValues = d3_sum(this.data, (d: any) => d.value);\n    const isLastBarZero =\n      this.data[this.data.length - 1].value === 0 || this.data[this.data.length - 1].value === null ? true : false;\n\n    let lastBarZeroCount = 0;\n    const cloneData = [...this.data];\n    let isLast = false;\n\n    cloneData.reverse().forEach((value, index, array) => {\n      if ((value.value === 0 || value.value === null) && !isLast) {\n        lastBarZeroCount++;\n      } else {\n        isLast = true;\n      }\n    });\n\n    if (this.percentage && !this.isSingleData) {\n      this.xAxisScale.domain([0, sumValues]).range([0, +this.width]);\n      this.xAxisCall.tickValues([0, sumValues * 0.25, sumValues * 0.5, sumValues * 0.75, sumValues]);\n      this.xAxis.call(this.xAxisCall);\n\n      this.xGridCall.tickValues([0, sumValues * 0.25, sumValues * 0.5, sumValues * 0.75, sumValues]);\n      this.xGrid.call(this.xGridCall);\n\n      this.svg\n        .select('.axis-x')\n        .selectAll('text')\n        .html((d, i) => {\n          const format = d3_format('.0%');\n          return format(i * 0.25);\n        });\n    } else if (this.percentage && this.isSingleData) {\n      this.xAxisScale.domain([0, 1.0]).range([0, +this.width]);\n      this.xAxisCall.tickValues([0, 0.25, 0.5, 0.75, 1.0]);\n      this.xAxis.call(this.xAxisCall);\n\n      this.xGridCall.tickValues([0, 0.25, 0.5, 0.75, 1.0]);\n      this.xGrid.call(this.xGridCall);\n\n      this.svg\n        .select('.axis-x')\n        .selectAll('text')\n        .html((d, i) => {\n          const format = d3_format('.0%');\n          return format(i * 0.25);\n        });\n    } else {\n      this.xAxisScale.domain([0, Math.ceil(sumValues)]).range([0, +this.width]);\n      this.xGridCall.tickValues(this.xAxisScale.ticks().filter(n => Number.isInteger(n))); // remove decimal grid values\n\n      this.xAxis\n        .transition()\n        .duration(1000)\n        .call(this.xAxisCall);\n\n      // update the grids\n      if (!this.hideXGrid) {\n        this.xGrid\n          .transition()\n          .duration(1000)\n          .call(this.xGridCall);\n      }\n    }\n\n    this.svg\n      .selectAll('.bar')\n      .data(this.data)\n      .join(\n        enter =>\n          enter\n            .append('rect')\n            .attr('class', 'bar')\n            .attr('width', 0)\n            .attr('height', () => {\n              return this.height - this.barPadding;\n            })\n            .attr('fill', d => {\n              if (this.isSingleData) {\n                return `url(${this._location.path()}#gradient-horizontal-${this.colorRange(d.label).substr(1)})`;\n              } else {\n                return this.colorRange(d.label);\n              }\n            })\n            .attr('y', () => {\n              return this.barPadding / 2;\n            })\n            .attr('x', (d, i) => {\n              return this.data.slice(0, i).reduce((acc, item) => {\n                // console.log(acc, item, acc + this.xAxisScale(item.value) + this.barMargin);\n                return +acc + +this.xAxisScale(item.value);\n              }, 1);\n            })\n            .attr('pointer-events', 'none')\n            .call(enter => {\n              return (\n                enter\n                  .transition()\n                  // .duration(0)\n                  .delay((d, i) => i * 250)\n                  .ease(d3_easeLinear)\n                  .attr('width', (d, i) => {\n                    // debugger;\n                    if (i === this.data.length - lastBarZeroCount - 1 && isLastBarZero) {\n                      return this.xAxisScale(d.value);\n                    } else if (i !== this.data.length - 1) {\n                      let width = this.xAxisScale(d.value) - +this.barMargin;\n                      width = Math.sign(width) === -1 ? 0 : width; // handle negative values\n                      return width;\n                    } else {\n                      return this.xAxisScale(d.value);\n                    }\n                  })\n                  .transition()\n                  .attr('pointer-events', 'auto')\n              );\n            }),\n        update =>\n          update\n            .attr('pointer-events', 'none')\n            .transition()\n            .duration(1000)\n            .attr('width', (d, i) => {\n              // debugger;\n              if (d.value === null || d.value === 0) {\n                return this.xAxisScale(0);\n              } else if (i === this.data.length - 1) {\n                return this.xAxisScale(d.value);\n              } else {\n                return this.xAxisScale(d.value) - this.barMargin;\n              }\n            })\n            .attr('x', (d, i) => {\n              return this.data.slice(0, i).reduce((acc, item) => {\n                return acc + +this.xAxisScale(item.value);\n              }, 0);\n            })\n            .transition()\n            .attr('pointer-events', 'auto'),\n        exit =>\n          exit\n            .transition()\n            .attr('pointer-events', 'none')\n            .remove()\n      )\n      .on('mouseover', (data, index, nodes) => this.barMouseOver(d3_event, data, index, nodes))\n      .on('mouseout', (data, index, nodes) => this.barMouseOut())\n      .on('click', (data, index, nodes) => this.barMouseClick(d3_event, data, index, nodes));\n\n    if (!this.hideLegend) {\n      this.chart\n        .select('.legend')\n        .selectAll('.legend-item')\n        .data(this.data)\n        .join(\n          enter => {\n            const li = enter\n              .append('li')\n              .attr('class', 'legend-item')\n              .classed('align-items-start', this.isCompare);\n\n            li.insert('span')\n              .attr('class', 'legend-key')\n              .style('background-color', d => this.colorRange(d.label))\n              .classed('mt-1', this.isCompare);\n\n            li.insert('span')\n              .attr('class', 'legend-description')\n              .classed('d-flex', this.isCompare)\n              .classed('flex-column', this.isCompare);\n\n            li.select('.legend-description')\n              .insert('span')\n              .attr('class', 'legend-label')\n              .html(d => {\n                switch (this.legendLabelFormatType) {\n                  case 'number':\n                    return this.legendLabelFormat(d.label);\n\n                  case 'time':\n                    const parsedTime = d3_isoParse(d.label);\n                    return this.legendLabelFormat(parsedTime);\n\n                  default:\n                    return d.label;\n                }\n              });\n\n            li.select('.legend-description')\n              .insert('div')\n              .attr('class', 'legend-change')\n              .classed('d-none', !this.isCompare);\n\n            li.select('.legend-change').html(d => {\n              return `<div class=\"metric-block-indicator ${d.compareChangeDirection} ${\n                d.compareChangeInverse ? 'inverse' : ''\n              } mt-1\"><span>${this.tooltipCompareChangeFormat(d.compareChangeValue)}</span></div>`;\n            });\n\n            return li;\n          },\n          update => {\n            update.classed('align-items-start', this.isCompare);\n            update.select('.legend-key').classed('mt-1', this.isCompare);\n            update.select('.legend-change').classed('d-none', !this.isCompare);\n\n            if (this.isCompare) {\n              update.select('.legend-change').html(d => {\n                return `<div class=\"metric-block-indicator ${d.compareChangeDirection} ${\n                  d.compareChangeInverse ? 'inverse' : ''\n                } mt-1\"><span>${this.tooltipCompareChangeFormat(d.compareChangeValue)}</span></div>`;\n              });\n            }\n\n            update.select('.legend-label').html(d => {\n              switch (this.legendLabelFormatType) {\n                case 'number':\n                  return this.legendLabelFormat(d.label);\n\n                case 'time':\n                  const parsedTime = d3_isoParse(d.label);\n                  return this.legendLabelFormat(parsedTime);\n\n                default:\n                  return d.label;\n              }\n            });\n\n            return update;\n          },\n          exit => exit.remove()\n        )\n        .on('mouseover', (data, index, nodes) => this.legendMouseOver(d3_event, data, index, nodes))\n        .on('mouseout', () => this.legendMouseOut())\n        .on('click', (data, index, nodes) => this.legendMouseClick(d3_event, data, index, nodes));\n    }\n  }\n\n  barMouseOver = (event, data, index, nodes) => {\n    const node = d3_select(nodes[index]);\n\n    this.chart.selectAll('.bar').classed('inactive', true);\n\n    node.classed('inactive', false);\n\n    this.chart\n      .selectAll('.legend-item')\n      .filter((d, i) => {\n        // debugger;\n        return i !== index;\n      })\n      .classed('inactive', true);\n\n    this.tooltipShow(data, nodes[index]);\n\n    this.hovered.emit({ event, data });\n  };\n\n  barMouseOut = () => {\n    this.chart\n      .selectAll('.bar')\n      .classed('inactive', false)\n      .style('fill', null);\n\n    this.chart.selectAll('.legend-item').classed('inactive', false);\n\n    this.tooltipHide();\n  };\n\n  barMouseClick = (event, data, index, nodes) => {\n    this.clicked.emit({ event, data });\n  };\n\n  private tooltipShow = (data, node) => {\n    const dimensions = node.getBoundingClientRect();\n    const scroll = this._scroll.getScrollPosition();\n\n    const percentage = data.value / d3_sum(this.data, (d: any) => d.value);\n    const comparePercentage = data.compareValue / d3_sum(this.data, (d: any) => d.compareValue);\n\n    let tooltipLabel = ``;\n    let tooltipCompareDaterangeMargin = ``;\n    let tooltipCompareDaterange = ``;\n    let tooltipCompareValue = ``;\n    let tooltipDaterangeMargin = ``;\n    let tooltipDaterange = ``;\n    let tooltipValue = `${this.nullValueText}`;\n    let tooltipIndicator = '';\n\n    // tooltip label\n    if (!this.isSingleData) {\n      switch (this.tooltipLabelFormatType) {\n        case 'number':\n          tooltipLabel = this.tooltipLabelFormat(data.label);\n          break;\n\n        case 'time':\n          const parsedTime = d3_isoParse(data.label);\n          tooltipLabel = this.tooltipLabelFormat(parsedTime);\n          break;\n\n        default:\n          tooltipLabel = data.label;\n      }\n    }\n\n    // tooltip compare daterange\n    if (this.isCompare && data.compareStartDate && data.compareEndDate) {\n      tooltipCompareDaterangeMargin = `mt-2`;\n\n      tooltipCompareDaterange = `${this.tooltipDateFormat(\n        d3_isoParse(data.compareStartDate)\n      )} - ${this.tooltipDateFormat(d3_isoParse(data.compareEndDate))}`;\n    }\n\n    // tooltip compare value\n    if (this.percentage && this.isCompare && data.compareValue) {\n      tooltipCompareValue =\n        this.tooltipValueFormat === null\n          ? `${this.tooltipPercentFormat(comparePercentage)} (${data.comparveValue}${this.tooltipValueSuffix})`\n          : `${this.tooltipPercentFormat(comparePercentage)} (${this.tooltipValueFormat(data.compareValue)}${\n            this.tooltipValueSuffix\n          })`;\n    } else if (this.isCompare && data.compareValue !== null) {\n      tooltipCompareValue =\n        this.tooltipValueFormat === null\n          ? `${data.compareValue}${this.tooltipValueSuffix} (${this.tooltipPercentFormat(comparePercentage)})`\n          : `${this.tooltipValueFormat(data.compareValue)}${this.tooltipValueSuffix} (${this.tooltipPercentFormat(\n            comparePercentage\n          )})`;\n    } else if (this.isCompare && data.compareValue === null) {\n      tooltipCompareValue = `${this.nullValueText}`;\n    }\n\n    // tooltip daterange\n    if (data.startDate && data.endDate) {\n      tooltipDaterange = `${this.tooltipDateFormat(d3_isoParse(data.startDate))} - ${this.tooltipDateFormat(\n        d3_isoParse(data.endDate)\n      )}`;\n    }\n\n    //tooltip daterange margin\n    if (tooltipLabel !== '') {\n      tooltipDaterangeMargin = `mt-2`;\n    }\n\n    // tooltip value\n    if (this.isSingleData && this.percentage && data.value) {\n      tooltipValue = this.tooltipValueFormat === null ? `${data.value}` : `${this.tooltipValueFormat(data.value)}`;\n    } else if (this.isSingleData && data.value !== null) {\n      tooltipValue =\n        this.tooltipValueFormat === null\n          ? `${data.value}${this.tooltipValueSuffix}`\n          : `${this.tooltipValueFormat(data.value)}${this.tooltipValueSuffix}`;\n    } else if (!this.isSingleData && this.percentage && data.value !== null) {\n      tooltipValue =\n        this.tooltipValueFormat === null\n          ? `${this.tooltipPercentFormat(percentage)} (${data.value}${this.tooltipValueSuffix})`\n          : `${this.tooltipPercentFormat(percentage)} (${this.tooltipValueFormat(data.value)}${\n            this.tooltipValueSuffix\n          })`;\n    } else if (!this.isSingleData && data.value !== null) {\n      tooltipValue =\n        this.tooltipValueFormat === null\n          ? `${data.value}${this.tooltipValueSuffix} (${this.tooltipPercentFormat(percentage)})`\n          : `${this.tooltipValueFormat(data.value)}${this.tooltipValueSuffix} (${this.tooltipPercentFormat(\n            percentage\n          )})`;\n    }\n\n    // tooltip metric indicator\n    if (!this.isSingleData && this.isCompare && data.value !== null && data.compareValue !== null) {\n      tooltipIndicator = `<div class=\"metric-block-indicator ${data.compareChangeDirection} ${\n        data.compareChangeInverse ? 'inverse' : ''\n      } ml-2\"><span>${this.tooltipCompareChangeFormat(data.compareChangeValue)}</span></div>`;\n    }\n\n    this.tooltip.html(() => {\n      return `\n        <div class=\"tooltip-label font-weight-bold\">${tooltipLabel}</div>\n        <div class=\"${tooltipCompareDaterangeMargin}\">${tooltipCompareDaterange}</div>\n        <div class=\"tooltip-value font-weight-bold\">${tooltipCompareValue}</div>\n        <div class=\"${tooltipDaterangeMargin}\">${tooltipDaterange}</div>\n        <div class=\"tooltip-value\"><span class=\"font-weight-bold\">${tooltipValue}</span> <span>${tooltipIndicator}</span></div>\n      `;\n    });\n\n    const tooltipOffsetWidth = +this.tooltip.node().offsetWidth / 2;\n    const tooltipOffsetHeight = +this.tooltip.node().offsetHeight;\n    const tooltipTipSize = 8;\n\n    this.tooltip.style('top', `${+scroll[1] + +dimensions.top - tooltipOffsetHeight - tooltipTipSize}px`);\n\n    if (this.data.length > 1) {\n      this.tooltip.style('left', `${+scroll[0] + +dimensions.left - tooltipOffsetWidth + +dimensions.width / 2}px`);\n    } else {\n      this.tooltip.style('left', `${+scroll[0] - tooltipOffsetWidth + +dimensions.right}px`);\n    }\n\n    this.tooltip.style('opacity', 1);\n  };\n\n  private tooltipHide = () => {\n    this.tooltip.style('opacity', 0);\n  };\n\n  legendMouseOver = (event, data, index, nodes) => {\n    if (!this.hideLegendTooltip) {\n      const barHover = this.svg\n        .selectAll('.bar')\n        .filter((d, i) => i === index)\n        .node();\n\n      this.tooltipShow(data, barHover);\n    }\n\n    this.chart\n      .selectAll('.legend-item')\n      .filter((d, i) => i !== index)\n      .classed('inactive', true);\n\n    this.chart\n      .selectAll('.bar')\n      .filter((d, i) => i !== index)\n      .classed('inactive', true);\n\n    this.chart\n      .selectAll('.bar')\n      .filter((d, i) => i === index)\n      .classed('inactive', null);\n\n    this.hovered.emit({ event, data });\n  };\n\n  legendMouseOut = () => {\n    this.chart.selectAll('.legend-item').classed('inactive', false);\n\n    this.chart\n      .selectAll('.bar')\n      .classed('inactive', false)\n      .style('fill', null);\n\n    // hide tooltip for zero/null values\n    this.tooltipHide();\n  };\n\n  legendMouseClick = (event, data, index, nodes) => {\n    this.clicked.emit({ event, data });\n  };\n\n  private xAxisFormatter = item => {\n    switch (this.xAxisFormatType) {\n      case 'number':\n        return `${this.xAxisFormat(item)}${this.xAxisTickLabelSuffix}`;\n\n      default:\n        return `${item}${this.xAxisTickLabelSuffix}`;\n    }\n  };\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { PbdsDatavizPieComponent } from './dataviz-pie.component';\nimport { PbdsDatavizBarComponent } from './dataviz-bar.component';\nimport { PbdsDatavizLineComponent } from './dataviz-line.component';\nimport { PbdsDatavizGaugeComponent } from './dataviz-gauge.component';\nimport { PbdsDatavizSparklineComponent } from './dataviz-sparkline.component';\nimport { PbdsDatavizBarStackedComponent } from './dataviz-bar-stacked.component';\nimport { PbdsDatavizMetricBlockComponent } from './dataviz-metric-block.component';\nimport { PbdsDatavizMetricIndicatorComponent } from './dataviz-metric-indicator.component';\nimport { DatavizBubbleMapComponent } from './dataviz-bubble-map.component';\nimport { PbdsDatavizHeatmapComponent } from './dataviz-heatmap.component';\nimport { PbdsDatavizChoroplethMapComponent } from './dataviz-choropleth-map.component';\nimport { PbdsDatavizBarGroupedComponent } from './dataviz-bar-grouped.component';\nimport { PbdsDatavizBarSingleHorizontalComponent } from './dataviz-bar-single-horizontal.component';\n\n@NgModule({\n  declarations: [\n    PbdsDatavizPieComponent,\n    PbdsDatavizBarComponent,\n    PbdsDatavizLineComponent,\n    PbdsDatavizGaugeComponent,\n    PbdsDatavizSparklineComponent,\n    PbdsDatavizBarStackedComponent,\n    PbdsDatavizMetricBlockComponent,\n    DatavizBubbleMapComponent,\n    PbdsDatavizMetricIndicatorComponent,\n    PbdsDatavizHeatmapComponent,\n    PbdsDatavizChoroplethMapComponent,\n    PbdsDatavizBarGroupedComponent,\n    PbdsDatavizBarSingleHorizontalComponent\n  ],\n  imports: [CommonModule],\n  exports: [\n    PbdsDatavizPieComponent,\n    PbdsDatavizBarComponent,\n    PbdsDatavizLineComponent,\n    PbdsDatavizGaugeComponent,\n    PbdsDatavizSparklineComponent,\n    PbdsDatavizBarStackedComponent,\n    PbdsDatavizMetricBlockComponent,\n    DatavizBubbleMapComponent,\n    PbdsDatavizMetricIndicatorComponent,\n    PbdsDatavizHeatmapComponent,\n    PbdsDatavizChoroplethMapComponent,\n    PbdsDatavizBarGroupedComponent,\n    PbdsDatavizBarSingleHorizontalComponent\n  ]\n})\nexport class PbdsDatavizModule {}\n","export interface PbdsDatavizPie {\n  label: string;\n  value: number;\n}\n\nexport interface PbdsDatavizBar {\n  label: string;\n  value: number;\n}\n\nexport interface PbdsDatavizGauge {\n  minvalue: number;\n  maxvalue: number;\n  value: number;\n}\n\nexport interface PbdsDatavizSparkline {\n  [index: number]: number;\n  length: number;\n}\n\nexport interface PbdsDatavizLine {\n  dates: Array<string>;\n  series: Array<PbdsDatavizLineSeries>;\n}\n\nexport interface PbdsDatavizLineSeries {\n  label: string;\n  values: Array<number>;\n}\n\nexport interface PbdsDatavizBarStacked {\n  key: string;\n  [propName: string]: any;\n}\n\nexport interface PbdsDatavizMapData {\n  label: string;\n  longitude: number;\n  latitude: number;\n  value: number | string;\n  [propName: string]: any;\n}\n\nexport interface PbdsDatavizChoroplethMapData {\n  id: string | number;\n  value: number;\n  label?: string;\n  [propName: string]: any;\n}\n\nexport interface PbdsDatavizHeatmap {\n  yLabel: string;\n  xLabel: string;\n  value: number;\n}\n\nexport interface PbdsDatavizBarGrouped {\n  key: string;\n  [propName: string]: any;\n}\n\nexport interface PbdsDatavizBarSingleHorizontal {\n  label: string;\n  value: number;\n  startDate?: string;\n  endDate?: string;\n}\n\nexport interface PbdsDatavizBarSingleHorizontalCompare {\n  label: string;\n  value: number;\n  startDate: string;\n  endDate: string;\n  compareValue: number | null;\n  compareStartDate: string;\n  compareEndDate: string;\n  compareChangeValue: number;\n  compareChangeDirection: 'increase' | 'decrease' | '';\n  compareChangeInverse: boolean;\n}\n","import { Directive, HostListener, HostBinding } from '@angular/core';\nimport { ViewportScroller } from '@angular/common';\n\n@Directive({\n  selector: 'header.bg-brand-header'\n})\nexport class PbdsHeaderShadowDirective {\n  @HostBinding('class.pbds-header-shadow')\n  shadow: boolean;\n\n  @HostListener('window:scroll', []) onWindowScroll() {\n    const offset = this._scroll.getScrollPosition();\n    this.shadow = offset[1] > 20;\n  }\n\n  constructor(private _scroll: ViewportScroller) {}\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { PbdsHeaderShadowDirective } from './header-shadow.directive';\n\n@NgModule({\n  declarations: [PbdsHeaderShadowDirective],\n  imports: [CommonModule],\n  exports: [PbdsHeaderShadowDirective]\n})\nexport class PbdsHeaderShadowModule {}\n","import { Injectable, Inject, LOCALE_ID } from '@angular/core';\nimport { registerLocaleData } from '@angular/common';\n\nimport { PbdsDaterangeLocale } from './daterange-popover.interfaces';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PbdsDaterangeService {\n  private locale = this.localeId.toLowerCase();\n\n  constructor(@Inject(LOCALE_ID) private localeId: string) {}\n\n  setLocale(locale: PbdsDaterangeLocale) {\n    this.locale = `${locale.language}-${locale.country}`.toLowerCase();\n\n    // set the angular LOCALE_ID dynamically for ng-bootstrap datepicker\n    registerLocaleData(locale.locale, this.locale);\n  }\n\n  getCurrentLocale() {\n    return this.locale;\n  }\n}\n","import {\n  Component,\n  Injectable,\n  OnInit,\n  ViewChild,\n  Input,\n  Output,\n  EventEmitter,\n  OnChanges,\n  SimpleChanges\n} from '@angular/core';\n\nimport {\n  getLocaleDayNames,\n  getLocaleMonthNames,\n  getLocaleFirstDayOfWeek,\n  FormStyle,\n  TranslationWidth,\n  getLocaleDateFormat,\n  FormatWidth,\n  formatDate\n} from '@angular/common';\n\nimport { NgbPopover, NgbDate, NgbCalendar, NgbDatepickerI18n, NgbDateStruct } from '@ng-bootstrap/ng-bootstrap';\n\nimport { PbdsDaterangePreset, PbdsDaterangeFilter, PbdsDaterangeChange } from './daterange-popover.interfaces';\nimport { PbdsDaterangeService } from './daterange-popover.service';\n\n// Define custom service providing the months and weekdays translations\n@Injectable()\nexport class CustomDatepickerI18n extends NgbDatepickerI18n {\n  constructor(public daterangeService: PbdsDaterangeService) {\n    super();\n  }\n\n  getWeekdayShortName(weekday: number): string {\n    // for ng-bootstrap, sunday number of 7 converted to 0\n    weekday = weekday === 7 ? 0 : weekday;\n\n    // console.log(\n    //   'weekday: ',\n    //   this.daterangeService.getCurrentLocale(),\n    //   weekday,\n    //   getLocaleDayNames(this.daterangeService.getCurrentLocale(), FormStyle.Standalone, TranslationWidth.Abbreviated)[weekday]\n    // );\n\n    return getLocaleDayNames(\n      this.daterangeService.getCurrentLocale(),\n      FormStyle.Standalone,\n      TranslationWidth.Abbreviated\n    )[weekday];\n  }\n\n  getMonthShortName(month: number): string {\n    return getLocaleMonthNames(this.daterangeService.getCurrentLocale(), FormStyle.Standalone, TranslationWidth.Wide)[\n      month - 1\n    ];\n  }\n\n  getMonthFullName(month: number): string {\n    return getLocaleMonthNames(this.daterangeService.getCurrentLocale(), FormStyle.Standalone, TranslationWidth.Wide)[\n      month - 1\n    ];\n  }\n\n  getDayAriaLabel(date: NgbDateStruct): string {\n    return `${date.day}-${date.month}-${date.year}`;\n  }\n}\n\n@Component({\n  selector: 'pbds-daterange-popover',\n  templateUrl: './daterange-popover.component.html',\n  providers: [{ provide: NgbDatepickerI18n, useClass: CustomDatepickerI18n }],\n  styles: []\n})\nexport class PbdsDaterangePopoverComponent implements OnInit, OnChanges {\n  @ViewChild('datepickerPopup', { static: true }) private datepickerPopup: NgbPopover;\n\n  @Input()\n  presets: Array<PbdsDaterangePreset> = [\n    {\n      label: 'All Dates',\n      value: null\n    },\n    {\n      label: 'Last 7 Days',\n      value: 7\n    },\n    {\n      label: 'Last 30 Days',\n      value: 30\n    },\n    {\n      label: 'Year to Date',\n      value: 365\n    }\n  ];\n\n  @Input()\n  presetSelected: number | null | 'custom' = null;\n\n  @Input()\n  filters: Array<PbdsDaterangeFilter>;\n\n  @Input()\n  filterSelected = 0;\n\n  @Input()\n  showCustomPreset = true;\n\n  @Input()\n  applyText = 'Apply';\n\n  @Input()\n  cancelText = 'Cancel';\n\n  @Input()\n  customRangeText = 'Custom Range';\n\n  @Input()\n  minDate: NgbDate = this.calendar.getPrev(this.calendar.getToday(), 'y');\n\n  @Input()\n  maxDate: NgbDate = this.calendar.getToday();\n\n  @Input()\n  fromDate: NgbDate | null = null;\n\n  @Input()\n  toDate: NgbDate | null = null;\n\n  @Input()\n  inputFormat = '{fromDate} to {toDate}';\n\n  @Output()\n  private change: EventEmitter<PbdsDaterangeChange> = new EventEmitter<PbdsDaterangeChange>();\n\n  firstDayOfWeek = getLocaleFirstDayOfWeek(this.daterangeService.getCurrentLocale());\n\n  hoveredDate: NgbDate;\n\n  dateRange = '';\n  isDatepickerVisible = false;\n  selectedFilter;\n\n  constructor(private calendar: NgbCalendar, private daterangeService: PbdsDaterangeService) {}\n\n  ngOnInit() {\n    // china should start on a Monday, Angular locale returns incorrect 0\n    this.firstDayOfWeek =\n      this.daterangeService.getCurrentLocale() === 'zh-cn' ? this.firstDayOfWeek + 1 : this.firstDayOfWeek;\n\n    if (this.presetSelected === 'custom') {\n      this.showDatepicker();\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.filters && this.filters) {\n      this.selectedFilter = this.filters[this.filterSelected];\n    }\n\n    if (changes.presets) {\n      if (!this.filters && this.presetSelected) {\n        this.presetClick(this.presets.find(p => p.value === this.presetSelected));\n      } else if (this.presetSelected) {\n        this.presetSelect({ value: this.presetSelected });\n        this.apply();\n      }\n    }\n\n    // if (changes.toText && changes.toText.firstChange === false) {\n    //   this.setInputLabel();\n    // }\n\n    this.setInputLabel();\n  }\n\n  apply() {\n    this.setInputLabel();\n    this.change.emit({\n      fromDate: this.fromDate,\n      toDate: this.toDate,\n      formattedDate: this.isDatepickerVisible ? this.dateFormat() : this.dateRange,\n      filter: this.filters ? this.selectedFilter.field : null,\n      value: this.presetSelected\n    });\n\n    this.datepickerPopup.close();\n  }\n\n  cancel() {\n    this.datepickerPopup.close();\n  }\n\n  onDateSelection(date: NgbDate) {\n    if (!this.fromDate && !this.toDate) {\n      this.fromDate = date;\n    } else if (this.fromDate && !this.toDate && date.after(this.fromDate)) {\n      this.toDate = date;\n    } else {\n      this.toDate = null;\n      this.fromDate = date;\n    }\n\n    // this.presetSelected = null;\n  }\n\n  presetSelect = $event => {\n    if ($event.value === 'custom') {\n      this.presetSelected = 'custom';\n      return false;\n    }\n\n    if ($event.value) {\n      this.toDate = this.calendar.getToday();\n      this.fromDate = this.calendar.getPrev(this.toDate, 'd', $event.value);\n      this.presetSelected = $event.value;\n    } else {\n      this.fromDate = null;\n      this.toDate = null;\n      this.presetSelected = null;\n    }\n\n    this.isDatepickerVisible = false;\n  };\n\n  presetClick(preset) {\n    // console.log('PRESET CLICK: ', preset);\n    if (preset) {\n      if (preset.value === 'custom') {\n        return false;\n      }\n\n      if (preset.value) {\n        this.toDate = this.calendar.getToday();\n        this.fromDate = this.calendar.getPrev(this.toDate, 'd', preset.value);\n        this.presetSelected = preset.value;\n      } else {\n        this.fromDate = null;\n        this.toDate = null;\n        this.presetSelected = null;\n      }\n\n      this.isDatepickerVisible = false;\n      this.apply();\n    }\n  }\n\n  private getFormattedDate(date: NgbDate) {\n    if (date) {\n      const locale = this.daterangeService.getCurrentLocale();\n      const dateFormat = getLocaleDateFormat(locale, FormatWidth.Short);\n      const formattedDate = formatDate(`${date.month}/${date.day}/${date.year}`, dateFormat, locale);\n\n      return formattedDate;\n    }\n  }\n\n  isHovered = (date: NgbDate) =>\n    this.fromDate && !this.toDate && this.hoveredDate && date.after(this.fromDate) && date.before(this.hoveredDate);\n\n  isInside = (date: NgbDate) => date.after(this.fromDate) && date.before(this.toDate);\n\n  isRange = (date: NgbDate) =>\n    date.equals(this.fromDate) || date.equals(this.toDate) || this.isInside(date) || this.isHovered(date);\n\n  showDatepicker() {\n    this.isDatepickerVisible = true;\n    this.presetSelect({ value: 'custom' });\n  }\n\n  onFilterChange(filter, index) {\n    this.selectedFilter = this.filters[index];\n  }\n\n  setPreset(value: number | null) {\n    this.presetSelected = value;\n    this.presetSelect({ value: this.presetSelected });\n    this.apply();\n  }\n\n  setFilter(index: number) {\n    if (this.filters !== undefined) {\n      this.selectedFilter = this.filters[index];\n    }\n  }\n\n  setDateRange(value) {\n    this.fromDate = new NgbDate(value.fromDate.year, value.fromDate.month, value.fromDate.day);\n    this.toDate = new NgbDate(value.toDate.year, value.toDate.month, value.toDate.day);\n    this.isDatepickerVisible = value.value === 'custom';\n    this.presetSelected = value.value;\n\n    if (this.filters) {\n      this.filterSelected = this.filters.findIndex(f => f.field === value.filter);\n      this.selectedFilter = this.filters[this.filterSelected];\n    }\n\n    this.apply();\n  }\n\n  private setInputLabel() {\n    if (this.presets) {\n      const selected = this.presets.find(p => p.value === this.presetSelected);\n\n      if (selected) {\n        if (this.fromDate === null || this.toDate === null) {\n          this.dateRange = selected.label;\n        } else if (this.presetSelected === null || (this.presetSelected !== null && this.presetSelected !== 'custom')) {\n          this.dateRange = selected.label;\n        } else {\n          this.dateRange = this.dateFormat();\n        }\n      } else if (this.presetSelected === 'custom' && this.fromDate && this.toDate) {\n        this.dateRange = this.dateFormat();\n      }\n    }\n  }\n\n  private dateFormat() {\n    return this.inputFormat\n      .replace('{fromDate}', this.getFormattedDate(this.fromDate))\n      .replace('{toDate}', this.getFormattedDate(this.toDate));\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { NgbDatepickerModule, NgbPopoverModule, NgbDropdownModule } from '@ng-bootstrap/ng-bootstrap';\n\nimport { MatRadioModule } from '@angular/material/radio';\n\nimport { PbdsDaterangePopoverComponent } from './daterange-popover.component';\n\n@NgModule({\n  declarations: [PbdsDaterangePopoverComponent],\n  imports: [CommonModule, FormsModule, MatRadioModule, NgbDatepickerModule, NgbPopoverModule, NgbDropdownModule],\n  exports: [PbdsDaterangePopoverComponent]\n})\nexport class PbdsDaterangePopoverModule {}\n","import { NgbDate } from '@ng-bootstrap/ng-bootstrap';\n\nexport interface PbdsDaterangePreset {\n  label: string;\n  value: null | number;\n}\n\nexport interface PbdsDaterangeFilter {\n  field: string;\n  label: string;\n}\n\nexport interface PbdsDaterangeChange {\n  fromDate: NgbDate;\n  toDate: NgbDate;\n  formattedDate: string;\n  filter: string;\n  value: 'custom' | number;\n}\n\n// language interface\nexport interface PbdsDaterangeLocale {\n  language: string;\n  country: string;\n  locale: any;\n  // extra?: any;\n}\n"],"names":["Injectable","EventEmitter","d3_isoParse","d3_event","d3_interpolate","d3_mouse","d3_format","d3_timeFormat","d3_scaleOrdinal","d3_pie","d3_arc","d3_select","Component","ChangeDetectionStrategy","ElementRef","HostBinding","Input","Output","d3_min","d3_max","d3_scaleBand","d3_axisBottom","d3_scaleLinear","d3_axisLeft","ViewportScroller","Location","d3_extent","d3_bisectLeft","d3_isoFormat","d3_line","d3_curveCatmullRom","d3_area","d3_scaleTime","interpolate","line","area","d3_stack","d3_stackOrderNone","ContentChild","d3_geoAlbers","d3_geoAlbersUsa","d3_geoMercator","topojson.feature","d3_geoPath","topojson.mesh","d3_scaleThreshold","d3_scaleQuantile","d3_scaleQuantize","tslib_1.__spread","mouse","d3_range","d3_values","d3_sum","format","d3_easeLinear","NgModule","CommonModule","Directive","HostListener","registerLocaleData","Inject","LOCALE_ID","tslib_1.__extends","getLocaleDayNames","FormStyle","TranslationWidth","getLocaleMonthNames","NgbDatepickerI18n","getLocaleFirstDayOfWeek","getLocaleDateFormat","FormatWidth","formatDate","NgbDate","NgbCalendar","ViewChild","FormsModule","MatRadioModule","NgbDatepickerModule","NgbPopoverModule","NgbDropdownModule"],"mappings":"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"}